(()=>{var e={};e.id=454,e.ids=[454],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3536:(e,t,r)=>{Promise.resolve().then(r.bind(r,97997))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},14027:(e,t,r)=>{"use strict";r.d(t,{CompanyRegistry:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call CompanyRegistry() from the server but CompanyRegistry is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/shri/web3Hackathon/DeStock/apps/web/components/CompanyRegistry.tsx","CompanyRegistry")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},45392:(e,t,r)=>{Promise.resolve().then(r.bind(r,14027))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},76670:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(38828),a=r(14027),i=r(61365),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,i.forwardRef)(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:d="",children:c,...p},u)=>(0,i.createElement)("svg",{ref:u,...n,width:s,height:s,stroke:r,strokeWidth:o?24*Number(a)/Number(s):a,className:["lucide",`lucide-${l(e)}`,d].join(" "),...p},[...t.map(([e,t])=>(0,i.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r},d=o("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),c=o("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);function p(){return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8 text-center",children:[(0,s.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d,{className:"w-16 h-16 text-destock-primary"}),(0,s.jsx)(c,{className:"w-6 h-6 text-yellow-400 absolute -top-1 -right-1 animate-pulse"})]})}),(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-destock-primary via-purple-500 to-destock-primary bg-clip-text text-transparent mb-4",children:"Register Your Company"}),(0,s.jsxs)("p",{className:"text-lg text-medium-contrast leading-relaxed",children:["Join the future of decentralized finance. List your company on DeStock and enable",(0,s.jsx)("span",{className:"text-destock-primary font-semibold",children:" transparent, blockchain-based trading "}),"of your shares."]}),(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-6 mt-6 text-sm text-low-contrast",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,s.jsx)("span",{children:"Secure"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),(0,s.jsx)("span",{children:"Transparent"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,s.jsx)("span",{children:"Decentralized"})]})]})]}),(0,s.jsx)(a.CompanyRegistry,{})]})}},77295:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var s=r(38049),a=r(24665),i=r(4574),n=r(86535),l=r(77943);function o(){let{chainId:e}=(0,s.F)(),t=(0,n.RZ)("DESTOCK",e??31337),{data:r,refetch:o}=(0,a.Q)({abi:n.$B,address:t,functionName:"nextCompanyId"}),{writeContractAsync:d,isPending:c,isConfirming:p,isConfirmed:u,error:m}=(0,i.x)(),x=async(e,r,s,a)=>{await d({abi:n.$B,address:t,functionName:"registerCompany",args:[e,BigInt(r),(0,l.g)(s),a]}),o()},{writeContractAsync:h}=(0,i.x)(),{writeContractAsync:y}=(0,i.x)();return{nextCompanyId:Number(r),registerCompany:x,isPending:c,isConfirming:p,isConfirmed:u,error:m,getCompany:e=>(0,a.Q)({abi:n.$B,address:t,functionName:"getCompanyDetails",args:[BigInt(e)]}),getSharePrice:e=>(0,a.Q)({abi:n.$B,address:t,functionName:"getSharePrice",args:[BigInt(e)]}),getBuyPrice:(e,r)=>(0,a.Q)({abi:n.$B,address:t,functionName:"getBuyPrice",args:[BigInt(e),BigInt(r)]}),getSellPrice:(e,r)=>(0,a.Q)({abi:n.$B,address:t,functionName:"getSellPrice",args:[BigInt(e),BigInt(r)]}),buyShares:h,sellShares:y}}},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},85715:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(24332),a=r(48819),i=r(67851),n=r.n(i),l=r(97540),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d={children:["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,76670)),"/home/shri/web3Hackathon/DeStock/apps/web/app/register/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,34356)),"/home/shri/web3Hackathon/DeStock/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,92341,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/shri/web3Hackathon/DeStock/apps/web/app/register/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},89250:(e,t,r)=>{"use strict";r.d(t,{W:()=>o});var s=r(38049),a=r(24665),i=r(4574),n=r(86535),l=r(77943);function o(){let{address:e,chainId:t}=(0,s.F)(),r=(0,n.RZ)("DSTK_TOKEN",t??31337),o=(0,n.RZ)("DESTOCK",t??31337),{data:d,refetch:c}=(0,a.Q)({abi:n.MO,address:r,functionName:"balanceOf",args:[e]}),{data:p,refetch:u}=(0,a.Q)({abi:n.MO,address:r,functionName:"allowance",args:[e,o]}),{writeContractAsync:m,isPending:x}=(0,i.x)(),h=async e=>{await m({abi:n.MO,address:r,functionName:"approve",args:[o,(0,l.g)(e)]}),u()},{writeContractAsync:y}=(0,i.x)(),{writeContractAsync:g}=(0,i.x)(),{writeContractAsync:b}=(0,i.x)();return{balance:d,allowance:p,approve:h,isApproving:x,mint:y,transferFromContract:g,batchAirDrop:b,refetchBalance:c,refetchAllowance:u}}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},97997:(e,t,r)=>{"use strict";r.d(t,{CompanyRegistry:()=>m});var s=r(13486),a=r(60159),i=r(85626),n=r(85519),l=r(67201),o=r(77295),d=r(89250),c=r(38049),p=r(34562);let u=l.Ik({name:l.Yj().min(1,"Company name is required").max(50,"Name too long"),totalSupply:l.Yj().min(1,"Total supply is required"),initialLiquidity:l.Yj().min(1,"Initial liquidity is required"),ipfsMetadataUri:l.Yj().min(1,"IPFS Metadata URI is required")});function m(){let{isConnected:e,address:t,chainId:r}=(0,c.F)(),{registerCompany:l,isPending:m,isConfirming:x,isConfirmed:h,error:y}=(0,o.P)(),{balance:g,approve:b,allowance:f,isApproving:j}=(0,d.W)(),[v,k]=(0,a.useState)(!0),{register:N,handleSubmit:w,formState:{errors:q},reset:C,watch:S}=(0,i.mN)({resolver:(0,n.u)(u)}),M=S(),P=M.initialLiquidity?(parseFloat(M.initialLiquidity)+100).toString():"100",F=async()=>{if(!e||!t||!f)return;let r=g?parseFloat((0,p.J)(g,18)):0,s=parseFloat(P);if(r<s)return void k(!0);k(parseFloat((0,p.J)(f,18))<s)};(0,a.useState)(()=>{F()});let R=async()=>{t&&b(P)},L=async t=>{if(!e)return void alert("Please connect your wallet first");if((g?parseFloat((0,p.J)(g,18)):0)<parseFloat(P))return void alert("Insufficient DSTK balance.");try{await l(t.name,t.totalSupply,t.initialLiquidity,t.ipfsMetadataUri),C()}catch(e){console.error("Registration failed:",e)}};return e?(0,s.jsx)("div",{className:"destock-card",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-high-contrast mb-6",children:"Register Your Company"}),(0,s.jsxs)("form",{onSubmit:w(L),className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"destock-label",htmlFor:"name",children:"Company Name"}),(0,s.jsx)("input",{...N("name"),type:"text",id:"name",className:"destock-input",placeholder:"Enter company name"}),q.name&&(0,s.jsx)("p",{className:"mt-1 text-sm danger",children:q.name.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"destock-label",htmlFor:"totalSupply",children:"Total Share Supply"}),(0,s.jsx)("input",{...N("totalSupply"),type:"number",min:"1",id:"totalSupply",className:"destock-input",placeholder:"1000"}),q.totalSupply&&(0,s.jsx)("p",{className:"mt-1 text-sm danger",children:q.totalSupply.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"destock-label",htmlFor:"initialLiquidity",children:"Initial Liquidity (DSTK)"}),(0,s.jsx)("input",{...N("initialLiquidity"),type:"number",step:"0.01",min:"10",id:"initialLiquidity",className:"destock-input",placeholder:"10000"}),q.initialLiquidity&&(0,s.jsx)("p",{className:"mt-1 text-sm danger",children:q.initialLiquidity.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"destock-label",htmlFor:"ipfsMetadataUri",children:"IPFS Metadata URI"}),(0,s.jsx)("input",{...N("ipfsMetadataUri"),type:"text",id:"ipfsMetadataUri",className:"destock-input",placeholder:"ipfs://..."}),q.ipfsMetadataUri&&(0,s.jsx)("p",{className:"mt-1 text-sm danger",children:q.ipfsMetadataUri.message})]}),(0,s.jsxs)("div",{className:"bg-high-visibility p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-high-contrast mb-2",children:"Cost Breakdown"}),(0,s.jsxs)("div",{className:"space-y-1 text-sm text-medium-contrast",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Registration Fee:"}),(0,s.jsx)("span",{children:"100 DSTK"})]}),M.initialLiquidity&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Initial Liquidity:"}),(0,s.jsxs)("span",{children:[parseFloat(M.initialLiquidity).toFixed(2)," DSTK"]})]}),(0,s.jsxs)("div",{className:"flex justify-between font-medium border-t border-gray-300 dark:border-gray-600 pt-1 text-high-contrast",children:[(0,s.jsx)("span",{children:"Total Cost:"}),(0,s.jsxs)("span",{children:[P," DSTK"]})]})]}),(0,s.jsxs)("div",{className:"mt-2 text-xs text-low-contrast",children:["Your Balance: ",g?(0,p.J)(g,18):0," DSTK"]})]}),y&&(0,s.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800",children:(0,s.jsxs)("p",{className:"text-sm danger",children:["Registration failed: ",y.message]})}),v?(0,s.jsx)("button",{type:"button",onClick:R,disabled:j||m||x,className:"w-full destock-button-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Approving...":"Approve DSTK"}):(0,s.jsx)("button",{type:"submit",disabled:m||x||(g?parseFloat((0,p.J)(g,18)):0)<parseFloat(P),className:"w-full destock-button-primary disabled:opacity-50 disabled:cursor-not-allowed",children:m||x?"Processing...":(g?parseFloat((0,p.J)(g,18)):0)<parseFloat(P)?"Insufficient Balance":"Register Company"}),h&&(0,s.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:(0,s.jsx)("p",{className:"text-sm success",children:"Company registered successfully! \uD83C\uDF89"})})]})]})}):(0,s.jsxs)("div",{className:"destock-card text-center py-8",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-high-contrast mb-2",children:"Connect Your Wallet"}),(0,s.jsx)("p",{className:"text-medium-contrast",children:"Please connect your wallet to register a company."})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[191,363,397,520],()=>r(85715));module.exports=s})();