(()=>{var e={};e.id=598,e.ids=[598],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},22898:(e,t,r)=>{"use strict";function o(e=30,t=100,r=.02){let a=[],n=t,i=Date.now();for(let t=e;t>=0;t--){let e=i-864e5*t,o=(Math.random()-.5)*r*n,l=n,s=l+o,u=Math.max(l,s)+.01*Math.random()*n,m=Math.min(l,s)-.01*Math.random()*n,d=Math.floor((1e4+5e4*Math.random())*(1+Math.abs(o)/n*5));a.push({time:Math.floor(e/1e3),open:Number(l.toFixed(2)),high:Number(u.toFixed(2)),low:Number(m.toFixed(2)),close:Number(s.toFixed(2)),volume:d}),n=s}return a}function a(e,t=20){let r=[];for(let o=t-1;o<e.length;o++){let a=0;for(let r=o-t+1;r<=o;r++)a+=e[r].close;r.push({time:e[o].time,value:Number((a/t).toFixed(2))})}return r}function n(e,t=20){let r=[],o=2/(t+1),a=0;for(let r=0;r<t;r++)a+=e[r].close;r.push({time:e[t-1].time,value:Number((a/t).toFixed(2))});for(let a=t;a<e.length;a++){let t=(e[a].close-r[r.length-1].value)*o+r[r.length-1].value;r.push({time:e[a].time,value:Number(t.toFixed(2))})}return r}function i(e,t=14){let r=[],o=[],a=[];for(let t=1;t<e.length;t++){let r=e[t].close-e[t-1].close;o.push(r>0?r:0),a.push(r<0?-r:0)}let n=o.slice(0,t).reduce((e,t)=>e+t,0)/t,l=a.slice(0,t).reduce((e,t)=>e+t,0)/t;for(let o=t;o<e.length;o++){let a=100-100/(1+n/l);if(r.push({time:e[o].time,value:Number(a.toFixed(2))}),o<e.length-1){let r=e[o+1].close-e[o].close,a=r>0?r:0,i=r<0?-r:0;n=(n*(t-1)+a)/t,l=(l*(t-1)+i)/t}}return r}function l(e){return e.map((t,r)=>{let o=r>0?e[r-1]:t,a=t.close>o.close;return{time:t.time,value:t.volume||0,color:a?"#00D4AA":"#F6465D"}})}function s(){let e=(function(e=20){let t=["Apple Inc.","Microsoft Corp.","Amazon.com Inc.","Alphabet Inc.","Tesla Inc.","Meta Platforms","NVIDIA Corp.","Netflix Inc.","PayPal Holdings","Adobe Inc.","Salesforce Inc.","Zoom Video","Spotify Technology","Uber Technologies","Airbnb Inc.","Twitter Inc.","Snap Inc.","Pinterest Inc.","Shopify Inc.","Square Inc."],r=["Technology","Consumer Discretionary","Communication Services","Healthcare","Financials","Industrials","Consumer Staples"];return Array.from({length:Math.min(e,t.length)},(e,a)=>{let n=50+200*Math.random(),i=(Math.random()-.5)*.1*n,l=i/n*100;return{id:a,name:t[a],symbol:t[a].split(" ")[0].slice(0,4).toUpperCase(),sector:r[Math.floor(Math.random()*r.length)],price:Number(n.toFixed(2)),change:Number(i.toFixed(2)),changePercent:Number(l.toFixed(2)),volume:Math.floor(1e6*Math.random())+1e5,marketCap:1e3*Math.floor(n*(1e6*Math.random()+1e5)/1e3),chartData:o(30,n,.02)}})})(8).map((e,t)=>{let r=Math.floor(100*Math.random())+10,o=e.price*(.8+.4*Math.random()),a=r*e.price,n=r*o,i=a-n,l=i/n*100;return{...e,shares:r,avgCost:Number(o.toFixed(2)),totalValue:Number(a.toFixed(2)),totalCost:Number(n.toFixed(2)),pnl:Number(i.toFixed(2)),pnlPercent:Number(l.toFixed(2))}}),t=e.reduce((e,t)=>e+t.totalValue,0),r=e.reduce((e,t)=>e+t.totalCost,0),a=t-r,n=a/r*100;return{holdings:e,summary:{totalValue:Number(t.toFixed(2)),totalCost:Number(r.toFixed(2)),totalPnL:Number(a.toFixed(2)),totalPnLPercent:Number(n.toFixed(2)),dayChange:Number((t*(Math.random()-.5)*.02).toFixed(2)),dayChangePercent:Number(((Math.random()-.5)*2).toFixed(2))}}}r.d(t,{QT:()=>o,Wp:()=>a,ct:()=>l,h5:()=>i,oi:()=>s,ug:()=>n})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},80408:()=>{},87032:()=>{},89874:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>p,routeModule:()=>m,serverHooks:()=>h,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>c});var o={};r.r(o),r.d(o,{GET:()=>u});var a=r(48106),n=r(48819),i=r(12050),l=r(4235),s=r(22898);async function u(e){try{let{searchParams:t}=new URL(e.url),r=t.get("type")||"overview",o=t.get("timeframe")||"1M";if(await new Promise(e=>setTimeout(e,300*Math.random()+100)),"overview"===r){let e=(0,s.oi)(),t=(0,s.QT)(30,e.summary.totalValue,.015).map(e=>({time:e.time,value:e.close,change:e.close-e.open,changePercent:(e.close-e.open)/e.open*100}));return l.NextResponse.json({...e,performance:{history:t,timeframe:o},diversification:{bySector:function(e){let t={},r=e.reduce((e,t)=>e+t.totalValue,0);return e.forEach(e=>{t[e.sector]||(t[e.sector]=0),t[e.sector]+=e.totalValue}),Object.entries(t).map(([e,t])=>({sector:e,value:Number(t.toFixed(2)),percentage:Number((t/r*100).toFixed(1))}))}(e.holdings),byPosition:function(e){let t=e.reduce((e,t)=>e+t.totalValue,0);return e.map(e=>({symbol:e.symbol,name:e.name,value:e.totalValue,percentage:Number((e.totalValue/t*100).toFixed(1))}))}(e.holdings)},riskMetrics:{beta:Number((.8+.6*Math.random()).toFixed(2)),sharpeRatio:Number((.5+ +Math.random()).toFixed(2)),volatility:Number((15+10*Math.random()).toFixed(2)),maxDrawdown:Number((5+15*Math.random()).toFixed(2))}})}if("transactions"===r){let e=(0,s.oi)(),t=function(e){let t=[],r=["buy","sell","dividend"],o=20+Math.floor(30*Math.random());for(let a=0;a<o;a++){let o=e[Math.floor(Math.random()*e.length)],a=r[Math.floor(Math.random()*r.length)],n=Math.floor(90*Math.random()),i=new Date(Date.now()-24*n*36e5),l={id:Math.random().toString(36).substr(2,9),symbol:o.symbol,name:o.name,type:a,date:i.toISOString(),status:"completed"};if("buy"===a||"sell"===a){let e=Math.floor(50*Math.random())+1,t=o.price*(.9+.2*Math.random());l={...l,quantity:e,price:Number(t.toFixed(2)),total:Number((e*t).toFixed(2)),fees:Number((e*t*.001).toFixed(2))}}else"dividend"===a&&(l={...l,amount:Number((100*Math.random()+10).toFixed(2)),quantity:o.shares,dividendPerShare:Number((2*Math.random()+.5).toFixed(3))});t.push(l)}return t.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}(e.holdings);return l.NextResponse.json({transactions:t,pagination:{page:1,limit:50,total:t.length}})}if("analytics"===r){let e=(0,s.oi)(),t={allocation:{stocks:85.5,cash:10.2,other:4.3},performance:{ytd:Number((30*Math.random()-10).toFixed(2)),oneMonth:Number((10*Math.random()-3).toFixed(2)),threeMonths:Number((20*Math.random()-5).toFixed(2)),oneYear:Number((40*Math.random()-15).toFixed(2))},topPerformers:e.holdings.sort((e,t)=>t.pnlPercent-e.pnlPercent).slice(0,3),bottomPerformers:e.holdings.sort((e,t)=>e.pnlPercent-t.pnlPercent).slice(0,3)};return l.NextResponse.json(t)}return l.NextResponse.json({error:"Invalid type parameter"},{status:400})}catch(e){return console.error("Portfolio API error:",e),l.NextResponse.json({error:"Failed to fetch portfolio data"},{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/portfolio/route",pathname:"/api/portfolio",filename:"route",bundlePath:"app/api/portfolio/route"},resolvedPagePath:"D:\\intel\\web3ssh\\DeStock\\apps\\web\\app\\api\\portfolio\\route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:d,workUnitAsyncStorage:c,serverHooks:h}=m;function p(){return(0,i.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:c})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[191,744],()=>r(89874));module.exports=o})();