(()=>{var e={};e.id=598,e.ids=[598],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},24807:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>u,serverHooks:()=>p,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>h});var o={};r.r(o),r.d(o,{GET:()=>m});var a=r(48106),n=r(48819),i=r(12050),s=r(4235);function l(e=30,t=100,r=.02){let o=[],a=t,n=Date.now();for(let t=e;t>=0;t--){let e=n-864e5*t,i=(Math.random()-.5)*r*a,s=a,l=s+i,d=Math.max(s,l)+.01*Math.random()*a,m=Math.min(s,l)-.01*Math.random()*a,u=Math.floor((1e4+5e4*Math.random())*(1+Math.abs(i)/a*5));o.push({time:Math.floor(e/1e3),open:Number(s.toFixed(2)),high:Number(d.toFixed(2)),low:Number(m.toFixed(2)),close:Number(l.toFixed(2)),volume:u}),a=l}return o}function d(){let e=(function(e=20){let t=["Apple Inc.","Microsoft Corp.","Amazon.com Inc.","Alphabet Inc.","Tesla Inc.","Meta Platforms","NVIDIA Corp.","Netflix Inc.","PayPal Holdings","Adobe Inc.","Salesforce Inc.","Zoom Video","Spotify Technology","Uber Technologies","Airbnb Inc.","Twitter Inc.","Snap Inc.","Pinterest Inc.","Shopify Inc.","Square Inc."],r=["Technology","Consumer Discretionary","Communication Services","Healthcare","Financials","Industrials","Consumer Staples"];return Array.from({length:Math.min(e,t.length)},(e,o)=>{let a=50+200*Math.random(),n=(Math.random()-.5)*.1*a,i=n/a*100;return{id:o,name:t[o],symbol:t[o].split(" ")[0].slice(0,4).toUpperCase(),sector:r[Math.floor(Math.random()*r.length)],price:Number(a.toFixed(2)),change:Number(n.toFixed(2)),changePercent:Number(i.toFixed(2)),volume:Math.floor(1e6*Math.random())+1e5,marketCap:1e3*Math.floor(a*(1e6*Math.random()+1e5)/1e3),chartData:l(30,a,.02)}})})(8).map((e,t)=>{let r=Math.floor(100*Math.random())+10,o=e.price*(.8+.4*Math.random()),a=r*e.price,n=r*o,i=a-n,s=i/n*100;return{...e,shares:r,avgCost:Number(o.toFixed(2)),totalValue:Number(a.toFixed(2)),totalCost:Number(n.toFixed(2)),pnl:Number(i.toFixed(2)),pnlPercent:Number(s.toFixed(2))}}),t=e.reduce((e,t)=>e+t.totalValue,0),r=e.reduce((e,t)=>e+t.totalCost,0),o=t-r,a=o/r*100;return{holdings:e,summary:{totalValue:Number(t.toFixed(2)),totalCost:Number(r.toFixed(2)),totalPnL:Number(o.toFixed(2)),totalPnLPercent:Number(a.toFixed(2)),dayChange:Number((t*(Math.random()-.5)*.02).toFixed(2)),dayChangePercent:Number(((Math.random()-.5)*2).toFixed(2))}}}async function m(e){try{let{searchParams:t}=new URL(e.url),r=t.get("type")||"overview",o=t.get("timeframe")||"1M";if(await new Promise(e=>setTimeout(e,300*Math.random()+100)),"overview"===r){let e=d(),t=l(30,e.summary.totalValue,.015).map(e=>({time:e.time,value:e.close,change:e.close-e.open,changePercent:(e.close-e.open)/e.open*100}));return s.NextResponse.json({...e,performance:{history:t,timeframe:o},diversification:{bySector:function(e){let t={},r=e.reduce((e,t)=>e+t.totalValue,0);return e.forEach(e=>{t[e.sector]||(t[e.sector]=0),t[e.sector]+=e.totalValue}),Object.entries(t).map(([e,t])=>({sector:e,value:Number(t.toFixed(2)),percentage:Number((t/r*100).toFixed(1))}))}(e.holdings),byPosition:function(e){let t=e.reduce((e,t)=>e+t.totalValue,0);return e.map(e=>({symbol:e.symbol,name:e.name,value:e.totalValue,percentage:Number((e.totalValue/t*100).toFixed(1))}))}(e.holdings)},riskMetrics:{beta:Number((.8+.6*Math.random()).toFixed(2)),sharpeRatio:Number((.5+ +Math.random()).toFixed(2)),volatility:Number((15+10*Math.random()).toFixed(2)),maxDrawdown:Number((5+15*Math.random()).toFixed(2))}})}if("transactions"===r){let e=d(),t=function(e){let t=[],r=["buy","sell","dividend"],o=20+Math.floor(30*Math.random());for(let a=0;a<o;a++){let o=e[Math.floor(Math.random()*e.length)],a=r[Math.floor(Math.random()*r.length)],n=Math.floor(90*Math.random()),i=new Date(Date.now()-24*n*36e5),s={id:Math.random().toString(36).substr(2,9),symbol:o.symbol,name:o.name,type:a,date:i.toISOString(),status:"completed"};if("buy"===a||"sell"===a){let e=Math.floor(50*Math.random())+1,t=o.price*(.9+.2*Math.random());s={...s,quantity:e,price:Number(t.toFixed(2)),total:Number((e*t).toFixed(2)),fees:Number((e*t*.001).toFixed(2))}}else"dividend"===a&&(s={...s,amount:Number((100*Math.random()+10).toFixed(2)),quantity:o.shares,dividendPerShare:Number((2*Math.random()+.5).toFixed(3))});t.push(s)}return t.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}(e.holdings);return s.NextResponse.json({transactions:t,pagination:{page:1,limit:50,total:t.length}})}if("analytics"===r){let e=d(),t={allocation:{stocks:85.5,cash:10.2,other:4.3},performance:{ytd:Number((30*Math.random()-10).toFixed(2)),oneMonth:Number((10*Math.random()-3).toFixed(2)),threeMonths:Number((20*Math.random()-5).toFixed(2)),oneYear:Number((40*Math.random()-15).toFixed(2))},topPerformers:e.holdings.sort((e,t)=>t.pnlPercent-e.pnlPercent).slice(0,3),bottomPerformers:e.holdings.sort((e,t)=>e.pnlPercent-t.pnlPercent).slice(0,3)};return s.NextResponse.json(t)}return s.NextResponse.json({error:"Invalid type parameter"},{status:400})}catch(e){return console.error("Portfolio API error:",e),s.NextResponse.json({error:"Failed to fetch portfolio data"},{status:500})}}let u=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/portfolio/route",pathname:"/api/portfolio",filename:"route",bundlePath:"app/api/portfolio/route"},resolvedPagePath:"/home/shri/web3Hackathon/DeStock/apps/web/app/api/portfolio/route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:c,workUnitAsyncStorage:h,serverHooks:p}=u;function x(){return(0,i.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:h})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},80408:()=>{},87032:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[191,744],()=>r(24807));module.exports=o})();