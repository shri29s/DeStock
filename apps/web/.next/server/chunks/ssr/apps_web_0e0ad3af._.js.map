{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/LoadingSpinner.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { motion } from 'framer-motion';\r\nimport { clsx } from 'clsx';\r\n\r\ninterface LoadingSpinnerProps {\r\n  size?: 'small' | 'medium' | 'large';\r\n  variant?: 'circular' | 'dots' | 'bars';\r\n  className?: string;\r\n  overlay?: boolean;\r\n}\r\n\r\nexport function LoadingSpinner({ \r\n  size = 'medium', \r\n  variant = 'circular', \r\n  className = '',\r\n  overlay = false \r\n}: LoadingSpinnerProps) {\r\n  const sizeClasses = {\r\n    small: 'w-4 h-4',\r\n    medium: 'w-8 h-8',\r\n    large: 'w-12 h-12',\r\n  };\r\n\r\n  if (variant === 'circular') {\r\n    return (\r\n      <div className={clsx(\r\n        'flex items-center justify-center',\r\n        overlay && 'fixed inset-0 glass-modal z-50',\r\n        className\r\n      )}>\r\n        <motion.div\r\n          className={clsx(\r\n            'border-2 border-destock-primary/20 border-t-destock-primary rounded-full',\r\n            sizeClasses[size]\r\n          )}\r\n          animate={{ rotate: 360 }}\r\n          transition={{\r\n            duration: 1,\r\n            repeat: Infinity,\r\n            ease: 'linear',\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (variant === 'dots') {\r\n    return (\r\n      <div className={clsx(\r\n        'flex items-center justify-center space-x-1',\r\n        overlay && 'fixed inset-0 glass-modal z-50',\r\n        className\r\n      )}>\r\n        {[0, 1, 2].map((index) => (\r\n          <motion.div\r\n            key={index}\r\n            className=\"w-2 h-2 bg-destock-primary rounded-full\"\r\n            animate={{\r\n              scale: [1, 1.5, 1],\r\n              opacity: [0.5, 1, 0.5],\r\n            }}\r\n            transition={{\r\n              duration: 1,\r\n              repeat: Infinity,\r\n              delay: index * 0.2,\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (variant === 'bars') {\r\n    return (\r\n      <div className={clsx(\r\n        'flex items-center justify-center space-x-1',\r\n        overlay && 'fixed inset-0 glass-modal z-50',\r\n        className\r\n      )}>\r\n        {[0, 1, 2, 3].map((index) => (\r\n          <motion.div\r\n            key={index}\r\n            className=\"w-1 bg-destock-primary rounded-full\"\r\n            style={{ height: size === 'small' ? 16 : size === 'medium' ? 24 : 32 }}\r\n            animate={{\r\n              scaleY: [1, 2, 1],\r\n            }}\r\n            transition={{\r\n              duration: 1,\r\n              repeat: Infinity,\r\n              delay: index * 0.1,\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAYO,SAAS,eAAe,EAC7B,OAAO,QAAQ,EACf,UAAU,UAAU,EACpB,YAAY,EAAE,EACd,UAAU,KAAK,EACK;IACpB,MAAM,cAAc;QAClB,OAAO;QACP,QAAQ;QACR,OAAO;IACT;IAEA,IAAI,YAAY,YAAY;QAC1B,qBACE,8OAAC;YAAI,WAAW,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EACjB,oCACA,WAAW,kCACX;sBAEA,cAAA,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,WAAW,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EACZ,4EACA,WAAW,CAAC,KAAK;gBAEnB,SAAS;oBAAE,QAAQ;gBAAI;gBACvB,YAAY;oBACV,UAAU;oBACV,QAAQ;oBACR,MAAM;gBACR;;;;;;;;;;;IAIR;IAEA,IAAI,YAAY,QAAQ;QACtB,qBACE,8OAAC;YAAI,WAAW,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EACjB,8CACA,WAAW,kCACX;sBAEC;gBAAC;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,sBACd,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;oBAET,WAAU;oBACV,SAAS;wBACP,OAAO;4BAAC;4BAAG;4BAAK;yBAAE;wBAClB,SAAS;4BAAC;4BAAK;4BAAG;yBAAI;oBACxB;oBACA,YAAY;wBACV,UAAU;wBACV,QAAQ;wBACR,OAAO,QAAQ;oBACjB;mBAVK;;;;;;;;;;IAef;IAEA,IAAI,YAAY,QAAQ;QACtB,qBACE,8OAAC;YAAI,WAAW,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EACjB,8CACA,WAAW,kCACX;sBAEC;gBAAC;gBAAG;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,sBACjB,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;oBAET,WAAU;oBACV,OAAO;wBAAE,QAAQ,SAAS,UAAU,KAAK,SAAS,WAAW,KAAK;oBAAG;oBACrE,SAAS;wBACP,QAAQ;4BAAC;4BAAG;4BAAG;yBAAE;oBACnB;oBACA,YAAY;wBACV,UAAU;wBACV,QAAQ;wBACR,OAAO,QAAQ;oBACjB;mBAVK;;;;;;;;;;IAef;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/WidgetWrapper.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { ReactNode, useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { MinusIcon, XIcon, SettingsIcon, GripVerticalIcon } from 'lucide-react';\r\nimport { clsx } from 'clsx';\r\nimport { LoadingSpinner } from './LoadingSpinner';\r\n\r\ninterface WidgetWrapperProps {\r\n  title: string;\r\n  id: string;\r\n  children?: ReactNode;\r\n  className?: string;\r\n  isCollapsed?: boolean;\r\n  isLoading?: boolean;\r\n  error?: string;\r\n  onToggle?: () => void;\r\n  onClose?: () => void;\r\n  onSettings?: () => void;\r\n  showControls?: boolean;\r\n  draggable?: boolean;\r\n  resizable?: boolean;\r\n  size?: 'small' | 'medium' | 'large' | 'full';\r\n}\r\n\r\nexport function WidgetWrapper({\r\n  title,\r\n  id,\r\n  children,\r\n  className = '',\r\n  isCollapsed = false,\r\n  isLoading = false,\r\n  error,\r\n  onToggle,\r\n  onClose,\r\n  onSettings,\r\n  showControls = true,\r\n  draggable = true,\r\n  resizable = true,\r\n  size = 'medium',\r\n}: WidgetWrapperProps) {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  const sizeClasses = {\r\n    small: 'min-h-[200px]',\r\n    medium: 'min-h-[300px]',\r\n    large: 'min-h-[400px]',\r\n    full: 'h-full',\r\n  };\r\n\r\n  const handleKeyDown = (event: React.KeyboardEvent, action: () => void) => {\r\n    if (event.key === 'Enter' || event.key === ' ') {\r\n      event.preventDefault();\r\n      action();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className={clsx(\r\n        'glass-card widget-enter',\r\n        sizeClasses[size],\r\n        className\r\n      )}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n      layout\r\n      initial={{ scale: 0.95, opacity: 0 }}\r\n      animate={{ scale: 1, opacity: 1 }}\r\n      exit={{ scale: 0.95, opacity: 0 }}\r\n      transition={{ type: 'spring', stiffness: 300, damping: 20 }}\r\n      role=\"region\"\r\n      aria-labelledby={`widget-${id}-title`}\r\n    >\r\n      {/* Widget Header */}\r\n      <div className=\"flex items-center justify-between p-4 border-b border-white/10 dark:border-black/10\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          {draggable && (\r\n            <motion.div\r\n              className=\"cursor-grab text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n              whileHover={{ scale: 1.1 }}\r\n              whileTap={{ scale: 0.9 }}\r\n            >\r\n              <GripVerticalIcon className=\"w-4 h-4\" />\r\n            </motion.div>\r\n          )}\r\n          <h3 \r\n            id={`widget-${id}-title`}\r\n            className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\"\r\n          >\r\n            {title}\r\n          </h3>\r\n        </div>\r\n\r\n        {/* Widget Controls */}\r\n        {showControls && (\r\n          <AnimatePresence>\r\n            {(isHovered || isCollapsed) && (\r\n              <motion.div\r\n                className=\"flex items-center space-x-1\"\r\n                initial={{ opacity: 0, scale: 0.8 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.8 }}\r\n                transition={{ duration: 0.2 }}\r\n              >\r\n                {onSettings && (\r\n                  <motion.button\r\n                    onClick={onSettings}\r\n                    onKeyDown={(e) => handleKeyDown(e, onSettings)}\r\n                    className=\"p-1 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-white/10 dark:hover:bg-black/10 transition-colors duration-200\"\r\n                    whileHover={{ scale: 1.1 }}\r\n                    whileTap={{ scale: 0.9 }}\r\n                    aria-label={`Settings for ${title}`}\r\n                  >\r\n                    <SettingsIcon className=\"w-4 h-4\" />\r\n                  </motion.button>\r\n                )}\r\n                \r\n                {onToggle && (\r\n                  <motion.button\r\n                    onClick={onToggle}\r\n                    onKeyDown={(e) => handleKeyDown(e, onToggle)}\r\n                    className=\"p-1 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-white/10 dark:hover:bg-black/10 transition-colors duration-200\"\r\n                    whileHover={{ scale: 1.1 }}\r\n                    whileTap={{ scale: 0.9 }}\r\n                    aria-label={isCollapsed ? `Expand ${title}` : `Collapse ${title}`}\r\n                  >\r\n                    <MinusIcon className=\"w-4 h-4\" />\r\n                  </motion.button>\r\n                )}\r\n                \r\n                {onClose && (\r\n                  <motion.button\r\n                    onClick={onClose}\r\n                    onKeyDown={(e) => handleKeyDown(e, onClose)}\r\n                    className=\"p-1 rounded-md text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200\"\r\n                    whileHover={{ scale: 1.1 }}\r\n                    whileTap={{ scale: 0.9 }}\r\n                    aria-label={`Close ${title}`}\r\n                  >\r\n                    <XIcon className=\"w-4 h-4\" />\r\n                  </motion.button>\r\n                )}\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        )}\r\n      </div>\r\n\r\n      {/* Widget Content */}\r\n      <AnimatePresence mode=\"wait\">\r\n        {!isCollapsed && (\r\n          <motion.div\r\n            className=\"p-4 h-full overflow-auto custom-scrollbar\"\r\n            initial={{ opacity: 0, height: 0 }}\r\n            animate={{ opacity: 1, height: 'auto' }}\r\n            exit={{ opacity: 0, height: 0 }}\r\n            transition={{ duration: 0.3, ease: 'easeInOut' }}\r\n          >\r\n            {error ? (\r\n              <div className=\"flex items-center justify-center h-32\">\r\n                <div className=\"text-center\">\r\n                  <div className=\"text-red-500 dark:text-red-400 text-sm font-medium mb-2\">\r\n                    Error loading widget\r\n                  </div>\r\n                  <div className=\"text-gray-500 dark:text-gray-400 text-xs\">\r\n                    {error}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : isLoading ? (\r\n              <div className=\"flex items-center justify-center h-32\">\r\n                <LoadingSpinner />\r\n              </div>\r\n            ) : (\r\n              children\r\n            )}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Resize Handle */}\r\n      {resizable && !isCollapsed && (\r\n        <div className=\"absolute bottom-0 right-0 w-4 h-4 cursor-se-resize opacity-0 hover:opacity-100 transition-opacity duration-200\">\r\n          <div className=\"w-full h-full bg-gray-400 dark:bg-gray-600 transform rotate-45 translate-x-2 translate-y-2\" />\r\n        </div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/DashboardGrid.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Panel, PanelGroup, PanelResizeHandle } from 'react-resizable-panels';\r\nimport { WidgetWrapper } from './WidgetWrapper';\r\n\r\ninterface Widget {\r\n  id: string;\r\n  title: string;\r\n  component: React.ReactNode;\r\n  defaultSize?: number;\r\n  minSize?: number;\r\n  collapsible?: boolean;\r\n}\r\n\r\ninterface DashboardGridProps {\r\n  widgets: Widget[];\r\n  layout?: 'grid' | 'tabs';\r\n  className?: string;\r\n}\r\n\r\nexport function DashboardGrid({ widgets, layout = 'grid', className = '' }: DashboardGridProps) {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(0);\r\n  const [collapsedWidgets, setCollapsedWidgets] = useState<Set<string>>(new Set());\r\n\r\n  useEffect(() => {\r\n    const checkIsMobile = () => {\r\n      setIsMobile(window.innerWidth < 768);\r\n    };\r\n\r\n    checkIsMobile();\r\n    window.addEventListener('resize', checkIsMobile);\r\n    \r\n    return () => window.removeEventListener('resize', checkIsMobile);\r\n  }, []);\r\n\r\n  const toggleWidget = (widgetId: string) => {\r\n    const newCollapsed = new Set(collapsedWidgets);\r\n    if (newCollapsed.has(widgetId)) {\r\n      newCollapsed.delete(widgetId);\r\n    } else {\r\n      newCollapsed.add(widgetId);\r\n    }\r\n    setCollapsedWidgets(newCollapsed);\r\n  };\r\n\r\n  // Mobile layout - use tabs\r\n  if (isMobile || layout === 'tabs') {\r\n    return (\r\n      <div className={`space-y-4 ${className}`}>\r\n        {/* Tab Navigation */}\r\n        <div className=\"flex space-x-1 glass-card p-1 rounded-lg\">\r\n          {widgets.map((widget, index) => (\r\n            <motion.button\r\n              key={widget.id}\r\n              onClick={() => setActiveTab(index)}\r\n              className={`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${\r\n                activeTab === index\r\n                  ? 'bg-destock-primary text-white shadow-sm'\r\n                  : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n              }`}\r\n              whileTap={{ scale: 0.98 }}\r\n            >\r\n              {widget.title}\r\n            </motion.button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        <motion.div\r\n          key={activeTab}\r\n          initial={{ opacity: 0, x: 20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          exit={{ opacity: 0, x: -20 }}\r\n          transition={{ duration: 0.2 }}\r\n        >\r\n          <WidgetWrapper\r\n            title={widgets[activeTab].title}\r\n            id={widgets[activeTab].id}\r\n            onToggle={() => toggleWidget(widgets[activeTab].id)}\r\n            isCollapsed={collapsedWidgets.has(widgets[activeTab].id)}\r\n            showControls={false}\r\n          >\r\n            {widgets[activeTab].component}\r\n          </WidgetWrapper>\r\n        </motion.div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Desktop layout - use resizable panels\r\n  return (\r\n    <motion.div \r\n      className={`h-[calc(100vh-200px)] ${className}`}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      transition={{ duration: 0.3 }}\r\n    >\r\n      <PanelGroup direction=\"horizontal\" className=\"space-x-4\">\r\n        {widgets.map((widget, index) => (\r\n          <Panel\r\n            key={widget.id}\r\n            defaultSize={widget.defaultSize || 50}\r\n            minSize={widget.minSize || 20}\r\n            collapsible={widget.collapsible}\r\n          >\r\n            <motion.div\r\n              className=\"h-full\"\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              transition={{ delay: index * 0.1, duration: 0.3 }}\r\n            >\r\n              <WidgetWrapper\r\n                title={widget.title}\r\n                id={widget.id}\r\n                onToggle={() => toggleWidget(widget.id)}\r\n                isCollapsed={collapsedWidgets.has(widget.id)}\r\n                className=\"h-full\"\r\n              >\r\n                {!collapsedWidgets.has(widget.id) && widget.component}\r\n              </WidgetWrapper>\r\n            </motion.div>\r\n            \r\n            {/* Resize Handle */}\r\n            {index < widgets.length - 1 && (\r\n              <PanelResizeHandle className=\"w-4 flex items-center justify-center\">\r\n                <div className=\"w-1 h-8 bg-gray-300 dark:bg-gray-600 rounded-full hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors duration-200\" />\r\n              </PanelResizeHandle>\r\n            )}\r\n          </Panel>\r\n        ))}\r\n      </PanelGroup>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 620, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/lib/hooks/useDeStock.ts"],"sourcesContent":["import { useAccount, useReadContract, useWriteContract, useWaitForTransactionReceipt } from 'wagmi';\r\nimport { DESTOCK_ABI, getContractAddress } from '../contracts';\r\nimport { useCallback, useMemo } from 'react';\r\nimport { Address, parseEther, formatEther } from 'viem';\r\n\r\nexport function useDeStock() {\r\n  const { address, chainId } = useAccount();\r\n  \r\n  const contractAddress = useMemo(() => {\r\n    if (!chainId) return undefined;\r\n    return getContractAddress('DESTOCK', chainId);\r\n  }, [chainId]);\r\n\r\n  const { writeContract, data: hash, error, isPending } = useWriteContract();\r\n  const { isLoading: isConfirming, isSuccess: isConfirmed } = useWaitForTransactionReceipt({\r\n    hash,\r\n  });\r\n\r\n  // Read functions\r\n  const { data: nextCompanyId } = useReadContract({\r\n    address: contractAddress,\r\n    abi: DESTOCK_ABI,\r\n    functionName: 'nextCompanyId',\r\n  });\r\n\r\n  const getCompany = useCallback((companyId: number) => {\r\n    return useReadContract({\r\n      address: contractAddress,\r\n      abi: DESTOCK_ABI,\r\n      functionName: 'companies',\r\n      args: [BigInt(companyId)],\r\n    });\r\n  }, [contractAddress]);\r\n\r\n  const getSharePrice = useCallback((companyId: number) => {\r\n    return useReadContract({\r\n      address: contractAddress,\r\n      abi: DESTOCK_ABI,\r\n      functionName: 'getSharePrice',\r\n      args: [BigInt(companyId)],\r\n    });\r\n  }, [contractAddress]);\r\n\r\n  const getShareBalance = useCallback((companyId: number, userAddress?: Address) => {\r\n    const targetAddress = userAddress || address;\r\n    return useReadContract({\r\n      address: contractAddress,\r\n      abi: DESTOCK_ABI,\r\n      functionName: 'balanceOf',\r\n      args: targetAddress ? [targetAddress, BigInt(companyId)] : undefined,\r\n      query: {\r\n        enabled: !!targetAddress,\r\n      },\r\n    });\r\n  }, [contractAddress, address]);\r\n\r\n  const getLPTokenBalance = useCallback((companyId: number, userAddress?: Address) => {\r\n    const targetAddress = userAddress || address;\r\n    return useReadContract({\r\n      address: contractAddress,\r\n      abi: DESTOCK_ABI,\r\n      functionName: 'getLPTokenBalance',\r\n      args: targetAddress ? [targetAddress, BigInt(companyId)] : undefined,\r\n      query: {\r\n        enabled: !!targetAddress,\r\n      },\r\n    });\r\n  }, [contractAddress, address]);\r\n\r\n  const getUserOrders = useCallback((userAddress?: Address) => {\r\n    const targetAddress = userAddress || address;\r\n    return useReadContract({\r\n      address: contractAddress,\r\n      abi: DESTOCK_ABI,\r\n      functionName: 'getUserOrders',\r\n      args: targetAddress ? [targetAddress] : undefined,\r\n      query: {\r\n        enabled: !!targetAddress,\r\n      },\r\n    });\r\n  }, [contractAddress, address]);\r\n\r\n  const getOrderDetails = useCallback((orderId: number) => {\r\n    return useReadContract({\r\n      address: contractAddress,\r\n      abi: DESTOCK_ABI,\r\n      functionName: 'getOrderDetails',\r\n      args: [BigInt(orderId)],\r\n    });\r\n  }, [contractAddress]);\r\n\r\n  const getBuyPrice = useCallback((companyId: number, amount: string) => {\r\n    return useReadContract({\r\n      address: contractAddress,\r\n      abi: DESTOCK_ABI,\r\n      functionName: 'getBuyPrice',\r\n      args: [BigInt(companyId), BigInt(amount)],\r\n    });\r\n  }, [contractAddress]);\r\n\r\n  const getSellPrice = useCallback((companyId: number, amount: string) => {\r\n    return useReadContract({\r\n      address: contractAddress,\r\n      abi: DESTOCK_ABI,\r\n      functionName: 'getSellPrice',\r\n      args: [BigInt(companyId), BigInt(amount)],\r\n    });\r\n  }, [contractAddress]);\r\n\r\n  const getTradingVolume = useCallback((companyId: number) => {\r\n    return useReadContract({\r\n      address: contractAddress,\r\n      abi: DESTOCK_ABI,\r\n      functionName: 'getTradingVolume',\r\n      args: [BigInt(companyId)],\r\n    });\r\n  }, [contractAddress]);\r\n\r\n  // Write functions\r\n  const registerCompany = useCallback(\r\n    (name: string, initialPrice: string, totalSupply: string) => {\r\n      if (!contractAddress) return;\r\n      \r\n      writeContract({\r\n        address: contractAddress,\r\n        abi: DESTOCK_ABI,\r\n        functionName: 'registerCompany',\r\n        args: [name, parseEther(initialPrice), BigInt(totalSupply)],\r\n      });\r\n    },\r\n    [contractAddress, writeContract]\r\n  );\r\n\r\n  const buyShares = useCallback(\r\n    (companyId: number, amount: string) => {\r\n      if (!contractAddress) return;\r\n      \r\n      writeContract({\r\n        address: contractAddress,\r\n        abi: DESTOCK_ABI,\r\n        functionName: 'buyShares',\r\n        args: [BigInt(companyId), BigInt(amount)],\r\n      });\r\n    },\r\n    [contractAddress, writeContract]\r\n  );\r\n\r\n  const sellShares = useCallback(\r\n    (companyId: number, amount: string) => {\r\n      if (!contractAddress) return;\r\n      \r\n      writeContract({\r\n        address: contractAddress,\r\n        abi: DESTOCK_ABI,\r\n        functionName: 'sellShares',\r\n        args: [BigInt(companyId), BigInt(amount)],\r\n      });\r\n    },\r\n    [contractAddress, writeContract]\r\n  );\r\n\r\n  const addLiquidity = useCallback(\r\n    (companyId: number, tokenAmount: string, shareAmount: string) => {\r\n      if (!contractAddress) return;\r\n      \r\n      writeContract({\r\n        address: contractAddress,\r\n        abi: DESTOCK_ABI,\r\n        functionName: 'addLiquidity',\r\n        args: [BigInt(companyId), parseEther(tokenAmount), BigInt(shareAmount)],\r\n      });\r\n    },\r\n    [contractAddress, writeContract]\r\n  );\r\n\r\n  const removeLiquidity = useCallback(\r\n    (companyId: number, lpTokens: string) => {\r\n      if (!contractAddress) return;\r\n      \r\n      writeContract({\r\n        address: contractAddress,\r\n        abi: DESTOCK_ABI,\r\n        functionName: 'removeLiquidity',\r\n        args: [BigInt(companyId), BigInt(lpTokens)],\r\n      });\r\n    },\r\n    [contractAddress, writeContract]\r\n  );\r\n\r\n  const placeOrder = useCallback(\r\n    (companyId: number, isBuy: boolean, amount: string, price: string) => {\r\n      if (!contractAddress) return;\r\n      \r\n      writeContract({\r\n        address: contractAddress,\r\n        abi: DESTOCK_ABI,\r\n        functionName: 'placeOrder',\r\n        args: [BigInt(companyId), isBuy, BigInt(amount), parseEther(price)],\r\n      });\r\n    },\r\n    [contractAddress, writeContract]\r\n  );\r\n\r\n  const cancelOrder = useCallback(\r\n    (orderId: number) => {\r\n      if (!contractAddress) return;\r\n      \r\n      writeContract({\r\n        address: contractAddress,\r\n        abi: DESTOCK_ABI,\r\n        functionName: 'cancelOrder',\r\n        args: [BigInt(orderId)],\r\n      });\r\n    },\r\n    [contractAddress, writeContract]\r\n  );\r\n\r\n  return {\r\n    // Contract data\r\n    contractAddress,\r\n    nextCompanyId: nextCompanyId ? Number(nextCompanyId) : 0,\r\n    \r\n    // Read functions\r\n    getCompany,\r\n    getSharePrice,\r\n    getShareBalance,\r\n    getLPTokenBalance,\r\n    getUserOrders,\r\n    getOrderDetails,\r\n    getBuyPrice,\r\n    getSellPrice,\r\n    getTradingVolume,\r\n    \r\n    // Write functions\r\n    registerCompany,\r\n    buyShares,\r\n    sellShares,\r\n    addLiquidity,\r\n    removeLiquidity,\r\n    placeOrder,\r\n    cancelOrder,\r\n    \r\n    // Transaction state\r\n    hash,\r\n    isPending,\r\n    isConfirming,\r\n    isConfirmed,\r\n    error,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 926, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/AnimatedCounter.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { motion, useSpring, useTransform } from 'framer-motion';\r\n\r\ninterface AnimatedCounterProps {\r\n  value: number;\r\n  format?: 'currency' | 'percentage' | 'decimal' | 'integer';\r\n  decimals?: number;\r\n  prefix?: string;\r\n  suffix?: string;\r\n  duration?: number;\r\n  className?: string;\r\n  colorChange?: boolean;\r\n  previousValue?: number;\r\n}\r\n\r\nexport function AnimatedCounter({\r\n  value,\r\n  format = 'decimal',\r\n  decimals = 2,\r\n  prefix = '',\r\n  suffix = '',\r\n  duration = 0.5,\r\n  className = '',\r\n  colorChange = false,\r\n  previousValue,\r\n}: AnimatedCounterProps) {\r\n  const [displayValue, setDisplayValue] = useState(value);\r\n  const [isChanging, setIsChanging] = useState(false);\r\n\r\n  const springValue = useSpring(value, {\r\n    stiffness: 100,\r\n    damping: 15,\r\n  });\r\n\r\n  const displayNumber = useTransform(springValue, (latest) => {\r\n    let formatted: string;\r\n    \r\n    switch (format) {\r\n      case 'currency':\r\n        formatted = new Intl.NumberFormat('en-US', {\r\n          style: 'currency',\r\n          currency: 'USD',\r\n          minimumFractionDigits: decimals,\r\n          maximumFractionDigits: decimals,\r\n        }).format(latest);\r\n        break;\r\n      case 'percentage':\r\n        formatted = `${latest.toFixed(decimals)}%`;\r\n        break;\r\n      case 'integer':\r\n        formatted = Math.round(latest).toLocaleString();\r\n        break;\r\n      case 'decimal':\r\n      default:\r\n        formatted = latest.toFixed(decimals);\r\n        break;\r\n    }\r\n\r\n    return `${prefix}${formatted}${suffix}`;\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (value !== displayValue) {\r\n      setIsChanging(true);\r\n      springValue.set(value);\r\n      setDisplayValue(value);\r\n      \r\n      const timer = setTimeout(() => {\r\n        setIsChanging(false);\r\n      }, duration * 1000);\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [value, displayValue, springValue, duration]);\r\n\r\n  const getChangeColor = () => {\r\n    if (!colorChange || previousValue === undefined) return '';\r\n    \r\n    if (value > previousValue) return 'text-success';\r\n    if (value < previousValue) return 'text-danger';\r\n    return '';\r\n  };\r\n\r\n  return (\r\n    <motion.span\r\n      className={`number-counter ${getChangeColor()} ${className}`}\r\n      animate={isChanging ? {\r\n        scale: [1, 1.05, 1],\r\n      } : {}}\r\n      transition={{\r\n        type: 'tween',\r\n        duration: 0.3,\r\n        ease: 'easeInOut'\r\n      }}\r\n      aria-live=\"polite\"\r\n    >\r\n      {displayNumber}\r\n    </motion.span>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAHA;;;;AAiBO,SAAS,gBAAgB,EAC9B,KAAK,EACL,SAAS,SAAS,EAClB,WAAW,CAAC,EACZ,SAAS,EAAE,EACX,SAAS,EAAE,EACX,WAAW,GAAG,EACd,YAAY,EAAE,EACd,cAAc,KAAK,EACnB,aAAa,EACQ;IACrB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,cAAc,CAAA,GAAA,yKAAA,CAAA,YAAS,AAAD,EAAE,OAAO;QACnC,WAAW;QACX,SAAS;IACX;IAEA,MAAM,gBAAgB,CAAA,GAAA,4KAAA,CAAA,eAAY,AAAD,EAAE,aAAa,CAAC;QAC/C,IAAI;QAEJ,OAAQ;YACN,KAAK;gBACH,YAAY,IAAI,KAAK,YAAY,CAAC,SAAS;oBACzC,OAAO;oBACP,UAAU;oBACV,uBAAuB;oBACvB,uBAAuB;gBACzB,GAAG,MAAM,CAAC;gBACV;YACF,KAAK;gBACH,YAAY,GAAG,OAAO,OAAO,CAAC,UAAU,CAAC,CAAC;gBAC1C;YACF,KAAK;gBACH,YAAY,KAAK,KAAK,CAAC,QAAQ,cAAc;gBAC7C;YACF,KAAK;YACL;gBACE,YAAY,OAAO,OAAO,CAAC;gBAC3B;QACJ;QAEA,OAAO,GAAG,SAAS,YAAY,QAAQ;IACzC;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,UAAU,cAAc;YAC1B,cAAc;YACd,YAAY,GAAG,CAAC;YAChB,gBAAgB;YAEhB,MAAM,QAAQ,WAAW;gBACvB,cAAc;YAChB,GAAG,WAAW;YAEd,OAAO,IAAM,aAAa;QAC5B;IACF,GAAG;QAAC;QAAO;QAAc;QAAa;KAAS;IAE/C,MAAM,iBAAiB;QACrB,IAAI,CAAC,eAAe,kBAAkB,WAAW,OAAO;QAExD,IAAI,QAAQ,eAAe,OAAO;QAClC,IAAI,QAAQ,eAAe,OAAO;QAClC,OAAO;IACT;IAEA,qBACE,8OAAC,0LAAA,CAAA,SAAM,CAAC,IAAI;QACV,WAAW,CAAC,eAAe,EAAE,iBAAiB,CAAC,EAAE,WAAW;QAC5D,SAAS,aAAa;YACpB,OAAO;gBAAC;gBAAG;gBAAM;aAAE;QACrB,IAAI,CAAC;QACL,YAAY;YACV,MAAM;YACN,UAAU;YACV,MAAM;QACR;QACA,aAAU;kBAET;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 1019, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/TradeView.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { z } from 'zod';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useDeStock } from '@/lib/hooks/useDeStock';\r\nimport { useDSTK } from '@/lib/hooks/useDSTK';\r\nimport { useAccount } from 'wagmi';\r\nimport { ShoppingCartIcon, DollarSignIcon, TrendingUpIcon, TrendingDownIcon, AlertCircleIcon } from 'lucide-react';\r\nimport { AnimatedCounter } from './AnimatedCounter';\r\nimport { LoadingSpinner } from './LoadingSpinner';\r\n\r\nconst schema = z.object({\r\n  companyId: z.string().min(1, 'Please select a company'),\r\n  amount: z.string().min(1, 'Amount is required'),\r\n});\r\n\r\ntype FormData = z.infer<typeof schema>;\r\n\r\ninterface Company {\r\n  id: number;\r\n  name: string;\r\n  price: string;\r\n}\r\n\r\nexport function TradeView() {\r\n  const { isConnected } = useAccount();\r\n  const { buyShares, sellShares, getSharePrice, getShareBalance, nextCompanyId, isPending, isConfirming, isConfirmed, error } = useDeStock();\r\n  const { balance } = useDSTK();\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [selectedCompany, setSelectedCompany] = useState<Company | null>(null);\r\n  const [tradeType, setTradeType] = useState<'buy' | 'sell'>('buy');\r\n  const [userShares, setUserShares] = useState<string>('0');\r\n  const [loading, setLoading] = useState(false);\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  // Fix hydration by ensuring client-side rendering only after mount\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    watch,\r\n    setValue,\r\n    reset,\r\n  } = useForm<FormData>({\r\n    resolver: zodResolver(schema),\r\n  });\r\n\r\n  const watchedCompanyId = watch('companyId');\r\n  const watchedAmount = watch('amount');\r\n\r\n  useEffect(() => {\r\n    if (isConnected && nextCompanyId > 0) {\r\n      loadCompanies();\r\n    }\r\n  }, [isConnected, nextCompanyId]);\r\n\r\n  useEffect(() => {\r\n    if (watchedCompanyId) {\r\n      const company = companies.find(c => c.id.toString() === watchedCompanyId);\r\n      if (company) {\r\n        setSelectedCompany(company);\r\n        loadUserShares(company.id);\r\n      }\r\n    }\r\n  }, [watchedCompanyId, companies]);\r\n\r\n  const loadCompanies = async () => {\r\n    try {\r\n      // Placeholder implementation - would need real contract calls\r\n      const companiesData: Company[] = [];\r\n      for (let i = 0; i < nextCompanyId; i++) {\r\n        companiesData.push({\r\n          id: i,\r\n          name: `Company ${i + 1}`,\r\n          price: '12.5',\r\n        });\r\n      }\r\n      setCompanies(companiesData);\r\n    } catch (error) {\r\n      console.error('Failed to load companies:', error);\r\n    }\r\n  };\r\n\r\n  const loadUserShares = async (companyId: number) => {\r\n    try {\r\n      // Placeholder implementation - would need real contract calls\r\n      setUserShares('100');\r\n    } catch (error) {\r\n      console.error('Failed to load user shares:', error);\r\n      setUserShares('0');\r\n    }\r\n  };\r\n\r\n  const calculateCost = () => {\r\n    if (!selectedCompany || !watchedAmount) return '0';\r\n    return (parseFloat(selectedCompany.price) * parseFloat(watchedAmount)).toFixed(2);\r\n  };\r\n\r\n  const onSubmit = async (data: FormData) => {\r\n    if (!selectedCompany) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      if (tradeType === 'buy') {\r\n        await buyShares(selectedCompany.id, data.amount);\r\n      } else {\r\n        await sellShares(selectedCompany.id, data.amount);\r\n      }\r\n      reset();\r\n    } catch (error) {\r\n      console.error('Trade failed:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const canTrade = () => {\r\n    if (!selectedCompany || !watchedAmount) return false;\r\n    \r\n    const amount = parseFloat(watchedAmount);\r\n    if (amount <= 0) return false;\r\n\r\n    if (tradeType === 'buy') {\r\n      const cost = parseFloat(calculateCost());\r\n      return parseFloat(balance) >= cost;\r\n    } else {\r\n      return parseFloat(userShares) >= amount;\r\n    }\r\n  };\r\n\r\n  if (!isConnected) {\r\n    return (\r\n      <div className=\"trading-card text-center\">\r\n        <ShoppingCartIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">\r\n          Connect Your Wallet\r\n        </h3>\r\n        <p className=\"text-gray-600 dark:text-gray-400\">\r\n          Connect your wallet to start trading shares.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Render simple version before hydration to prevent mismatch\r\n  if (!mounted) {\r\n    return (\r\n      <div className=\"trading-card text-center\">\r\n        <ShoppingCartIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">\r\n          Trade Shares\r\n        </h3>\r\n        <p className=\"text-gray-600 dark:text-gray-400\">\r\n          Loading trading interface...\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div \r\n      className=\"glass-card p-6\"\r\n      initial={{ opacity: 0, scale: 0.95 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      transition={{ duration: 0.3 }}\r\n      suppressHydrationWarning={true}\r\n    >\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <motion.h3 \r\n          className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\"\r\n          initial={{ opacity: 0, x: -20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ delay: 0.1 }}\r\n        >\r\n          Trade Shares\r\n        </motion.h3>\r\n        \r\n        {/* Buy/Sell Toggle */}\r\n        <motion.div \r\n          className=\"flex glass-button rounded-lg p-1\"\r\n          initial={{ opacity: 0, x: 20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ delay: 0.1 }}\r\n        >\r\n          <motion.button\r\n            onClick={() => setTradeType('buy')}\r\n            className={`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${\r\n              tradeType === 'buy'\r\n                ? 'bg-success text-white shadow-sm'\r\n                : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n            }`}\r\n            whileTap={{ scale: 0.95 }}\r\n          >\r\n            <div className=\"flex items-center space-x-1\">\r\n              <TrendingUpIcon className=\"w-4 h-4\" />\r\n              <span>Buy</span>\r\n            </div>\r\n          </motion.button>\r\n          <motion.button\r\n            onClick={() => setTradeType('sell')}\r\n            className={`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${\r\n              tradeType === 'sell'\r\n                ? 'bg-danger text-white shadow-sm'\r\n                : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n            }`}\r\n            whileTap={{ scale: 0.95 }}\r\n          >\r\n            <div className=\"flex items-center space-x-1\">\r\n              <TrendingDownIcon className=\"w-4 h-4\" />\r\n              <span>Sell</span>\r\n            </div>\r\n          </motion.button>\r\n        </motion.div>\r\n      </div>\r\n\r\n      <motion.form \r\n        onSubmit={handleSubmit(onSubmit)} \r\n        className=\"space-y-6\"\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 0.2 }}\r\n      >\r\n        {/* Company Selection */}\r\n        <motion.div\r\n          initial={{ opacity: 0, x: -20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ delay: 0.3 }}\r\n        >\r\n          <label className=\"destock-label\" htmlFor=\"companyId\">\r\n            Select Company\r\n          </label>\r\n          <select\r\n            {...register('companyId')}\r\n            id=\"companyId\"\r\n            className=\"destock-input\"\r\n          >\r\n            <option value=\"\">Choose a company</option>\r\n            {companies.map((company) => (\r\n              <option key={company.id} value={company.id.toString()}>\r\n                {company.name} - {company.price} DSTK\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <AnimatePresence>\r\n            {errors.companyId && (\r\n              <motion.p \r\n                className=\"mt-1 text-sm text-danger flex items-center space-x-1\"\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -10 }}\r\n              >\r\n                <AlertCircleIcon className=\"w-4 h-4\" />\r\n                <span>{errors.companyId.message}</span>\r\n              </motion.p>\r\n            )}\r\n          </AnimatePresence>\r\n        </motion.div>\r\n\r\n        {/* Company Info Card */}\r\n        <AnimatePresence>\r\n          {selectedCompany && (\r\n            <motion.div \r\n              className=\"glass-card p-4\"\r\n              initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.95, y: -20 }}\r\n              transition={{ type: 'spring', stiffness: 300, damping: 25 }}\r\n            >\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <span className=\"text-sm font-semibold text-gray-900 dark:text-gray-100\">\r\n                  {selectedCompany.name}\r\n                </span>\r\n                <motion.span \r\n                  className=\"text-lg font-bold text-destock-primary\"\r\n                  key={selectedCompany.price} // Trigger animation on price change\r\n                  initial={{ scale: 1.2, color: '#10B981' }}\r\n                  animate={{ scale: 1, color: '#3B82F6' }}\r\n                  transition={{ duration: 0.3 }}\r\n                >\r\n                  <AnimatedCounter \r\n                    value={parseFloat(selectedCompany.price)} \r\n                    suffix=\" DSTK\"\r\n                    decimals={2}\r\n                  />\r\n                </motion.span>\r\n              </div>\r\n              <div className=\"text-sm text-gray-600 dark:text-gray-400 flex items-center justify-between\">\r\n                <span>Your Holdings:</span>\r\n                <AnimatedCounter \r\n                  value={parseFloat(userShares)} \r\n                  suffix=\" shares\"\r\n                  decimals={0}\r\n                  className=\"font-medium\"\r\n                />\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Amount Input */}\r\n        <motion.div\r\n          initial={{ opacity: 0, x: -20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ delay: 0.4 }}\r\n        >\r\n          <label className=\"destock-label\" htmlFor=\"amount\">\r\n            Amount\r\n          </label>\r\n          <input\r\n            {...register('amount')}\r\n            type=\"number\"\r\n            step=\"1\"\r\n            min=\"1\"\r\n            id=\"amount\"\r\n            className=\"destock-input\"\r\n            placeholder=\"Number of shares\"\r\n          />\r\n          <AnimatePresence>\r\n            {errors.amount && (\r\n              <motion.p \r\n                className=\"mt-1 text-sm text-danger flex items-center space-x-1\"\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -10 }}\r\n              >\r\n                <AlertCircleIcon className=\"w-4 h-4\" />\r\n                <span>{errors.amount.message}</span>\r\n              </motion.p>\r\n            )}\r\n          </AnimatePresence>\r\n        </motion.div>\r\n\r\n        {/* Transaction Summary */}\r\n        <AnimatePresence>\r\n          {selectedCompany && watchedAmount && (\r\n            <motion.div \r\n              className=\"glass-card p-4\"\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.95 }}\r\n              transition={{ type: 'spring', stiffness: 300, damping: 25 }}\r\n            >\r\n              <h4 className=\"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center space-x-2\">\r\n                <DollarSignIcon className=\"w-4 h-4\" />\r\n                <span>Transaction Summary</span>\r\n              </h4>\r\n              <div className=\"space-y-2 text-sm text-gray-600 dark:text-gray-400\">\r\n                <div className=\"flex justify-between\">\r\n                  <span>Shares:</span>\r\n                  <span className=\"font-medium\">{watchedAmount}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span>Price per share:</span>\r\n                  <span className=\"font-medium\">{selectedCompany.price} DSTK</span>\r\n                </div>\r\n                <div className=\"flex justify-between font-semibold border-t border-white/10 dark:border-black/10 pt-2 text-gray-900 dark:text-gray-100\">\r\n                  <span>Total {tradeType === 'buy' ? 'Cost' : 'Proceeds'}:</span>\r\n                  <AnimatedCounter \r\n                    value={parseFloat(calculateCost())} \r\n                    suffix=\" DSTK\"\r\n                    decimals={2}\r\n                    className={tradeType === 'buy' ? 'text-danger' : 'text-success'}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {tradeType === 'buy' && (\r\n                <div className=\"mt-3 text-xs text-gray-500 dark:text-gray-400 flex items-center justify-between\">\r\n                  <span>Your DSTK Balance:</span>\r\n                  <AnimatedCounter \r\n                    value={parseFloat(balance || '0')} \r\n                    suffix=\" DSTK\"\r\n                    decimals={2}\r\n                    className=\"font-medium\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Error Display */}\r\n        <AnimatePresence>\r\n          {error && (\r\n            <motion.div \r\n              className=\"glass-card p-4 border border-danger/30 bg-danger/10\"\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.95 }}\r\n            >\r\n              <p className=\"text-sm text-danger flex items-center space-x-2\">\r\n                <AlertCircleIcon className=\"w-4 h-4\" />\r\n                <span>Transaction failed: {error.message}</span>\r\n              </p>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Submit Button */}\r\n        <motion.button\r\n          type=\"submit\"\r\n          disabled={!canTrade() || isPending || isConfirming || loading}\r\n          className={`w-full flex items-center justify-center space-x-2 py-3 px-4 rounded-md font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${\r\n            tradeType === 'buy'\r\n              ? 'bg-success hover:bg-success/80 text-white shadow-lg'\r\n              : 'bg-danger hover:bg-danger/80 text-white shadow-lg'\r\n          }`}\r\n          whileHover={{ scale: 1.02 }}\r\n          whileTap={{ scale: 0.98 }}\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.5 }}\r\n        >\r\n          {(isPending || isConfirming || loading) ? (\r\n            <LoadingSpinner size=\"small\" />\r\n          ) : tradeType === 'buy' ? (\r\n            <TrendingUpIcon className=\"w-5 h-5\" />\r\n          ) : (\r\n            <TrendingDownIcon className=\"w-5 h-5\" />\r\n          )}\r\n          <span>\r\n            {isPending || isConfirming || loading\r\n              ? 'Processing...'\r\n              : !canTrade()\r\n              ? tradeType === 'buy' \r\n                ? 'Insufficient Balance' \r\n                : 'Insufficient Shares'\r\n              : `${tradeType === 'buy' ? 'Buy' : 'Sell'} Shares`}\r\n          </span>\r\n        </motion.button>\r\n\r\n        {/* Success Display */}\r\n        <AnimatePresence>\r\n          {isConfirmed && (\r\n            <motion.div \r\n              className=\"glass-card p-4 border border-success/30 bg-success/10\"\r\n              initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.95, y: -20 }}\r\n              transition={{ type: 'spring', stiffness: 300, damping: 25 }}\r\n            >\r\n              <p className=\"text-sm text-success flex items-center space-x-2\">\r\n                <TrendingUpIcon className=\"w-4 h-4\" />\r\n                <span>Transaction completed successfully! 🎉</span>\r\n              </p>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.form>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2015, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/lib/utils/companyUtils.ts"],"sourcesContent":["import companiesData from '../constants/companies.json';\r\nimport logosData from '../constants/logos.json';\r\nimport tokensData from '../constants/tokens.json';\r\nimport { Company, CompanyData, LogoMapping, CompanyList, FilterOptions } from '../types/company';\r\n\r\n// Get all companies as an array\r\nexport const getAllCompanies = (): CompanyList => {\r\n  const companies = companiesData.companies as { [key: string]: Company };\r\n  return Object.values(companies);\r\n};\r\n\r\n// Get company by ID\r\nexport const getCompanyById = (id: string): Company | undefined => {\r\n  const companies = companiesData.companies as { [key: string]: Company };\r\n  return companies[id];\r\n};\r\n\r\n// Get company logo URL\r\nexport const getCompanyLogo = (companyId: string): string | undefined => {\r\n  const logos = logosData as LogoMapping;\r\n  return logos[companyId];\r\n};\r\n\r\n// Get companies by sector\r\nexport const getCompaniesBySector = (sector: string): CompanyList => {\r\n  return getAllCompanies().filter(company => company.sector === sector);\r\n};\r\n\r\n// Get companies by category  \r\nexport const getCompaniesByCategory = (category: string): CompanyList => {\r\n  return getAllCompanies().filter(company => company.category === category);\r\n};\r\n\r\n// Search companies\r\nexport const searchCompanies = (searchTerm: string): CompanyList => {\r\n  const term = searchTerm.toLowerCase();\r\n  return getAllCompanies().filter(company => \r\n    company.name.toLowerCase().includes(term) ||\r\n    company.symbol.toLowerCase().includes(term) ||\r\n    company.tokenName.toLowerCase().includes(term) ||\r\n    company.description.toLowerCase().includes(term) ||\r\n    company.category.toLowerCase().includes(term) ||\r\n    company.sector.toLowerCase().includes(term)\r\n  );\r\n};\r\n\r\n// Filter and sort companies\r\nexport const filterAndSortCompanies = (options: FilterOptions): CompanyList => {\r\n  let companies = getAllCompanies();\r\n\r\n  // Apply search filter\r\n  if (options.searchTerm) {\r\n    companies = searchCompanies(options.searchTerm);\r\n  }\r\n\r\n  // Apply sector filter\r\n  if (options.selectedSector) {\r\n    companies = companies.filter(company => company.sector === options.selectedSector);\r\n  }\r\n\r\n  // Apply category filter\r\n  if (options.selectedCategory) {\r\n    companies = companies.filter(company => company.category === options.selectedCategory);\r\n  }\r\n\r\n  // Apply sorting\r\n  if (options.sortField && options.sortDirection) {\r\n    companies.sort((a, b) => {\r\n      let aValue: any, bValue: any;\r\n      \r\n      switch (options.sortField) {\r\n        case 'name':\r\n          aValue = a.name;\r\n          bValue = b.name;\r\n          break;\r\n        case 'price':\r\n          // Extract numeric value from price string (e.g., \"$1.00\" -> 1.00)\r\n          aValue = parseFloat(a.price.replace('$', ''));\r\n          bValue = parseFloat(b.price.replace('$', ''));\r\n          break;\r\n        case 'marketCap':\r\n          // Extract numeric value from market cap string (e.g., \"$1B\" -> 1000000000)\r\n          aValue = parseMarketCap(a.marketCap);\r\n          bValue = parseMarketCap(b.marketCap);\r\n          break;\r\n        default:\r\n          return 0;\r\n      }\r\n\r\n      if (typeof aValue === 'string') {\r\n        return options.sortDirection === 'asc' \r\n          ? aValue.localeCompare(bValue) \r\n          : bValue.localeCompare(aValue);\r\n      }\r\n      \r\n      return options.sortDirection === 'asc' ? aValue - bValue : bValue - aValue;\r\n    });\r\n  }\r\n\r\n  return companies;\r\n};\r\n\r\n// Parse market cap string to number for sorting\r\nconst parseMarketCap = (marketCap: string): number => {\r\n  const value = parseFloat(marketCap.replace(/[$,]/g, ''));\r\n  if (marketCap.includes('B')) {\r\n    return value * 1e9;\r\n  } else if (marketCap.includes('M')) {\r\n    return value * 1e6;\r\n  } else if (marketCap.includes('K')) {\r\n    return value * 1e3;\r\n  }\r\n  return value;\r\n};\r\n\r\n// Get all available sectors\r\nexport const getAllSectors = (): string[] => {\r\n  return companiesData.sectors;\r\n};\r\n\r\n// Get all available categories\r\nexport const getAllCategories = (): string[] => {\r\n  return companiesData.categories;\r\n};\r\n\r\n// Get random companies for featured section\r\nexport const getRandomCompanies = (count: number): CompanyList => {\r\n  const companies = getAllCompanies();\r\n  const shuffled = [...companies].sort(() => 0.5 - Math.random());\r\n  return shuffled.slice(0, count);\r\n};\r\n\r\n// Get trending companies (high market cap)\r\nexport const getTrendingCompanies = (): CompanyList => {\r\n  return getAllCompanies()\r\n    .filter(company => {\r\n      const marketCapValue = parseFloat(company.marketCap.replace(/[$BM]/g, ''));\r\n      const marketCapInNumber = company.marketCap.includes('B') ? marketCapValue * 1000 : marketCapValue;\r\n      return marketCapInNumber > 500; // Companies with market cap over 500M\r\n    })\r\n    .sort((a, b) => {\r\n      const aValue = parseFloat(a.marketCap.replace(/[$BM]/g, '')) * (a.marketCap.includes('B') ? 1000 : 1);\r\n      const bValue = parseFloat(b.marketCap.replace(/[$BM]/g, '')) * (b.marketCap.includes('B') ? 1000 : 1);\r\n      return bValue - aValue;\r\n    });\r\n};\r\n\r\n// Get top companies by market cap\r\nexport const getTopCompaniesByMarketCap = (count: number = 10): CompanyList => {\r\n  return getAllCompanies()\r\n    .sort((a, b) => parseMarketCap(b.marketCap) - parseMarketCap(a.marketCap))\r\n    .slice(0, count);\r\n};\r\n\r\n// Format market cap for display\r\nexport const formatMarketCap = (marketCapString: string): string => {\r\n  const value = parseMarketCap(marketCapString);\r\n  \r\n  if (value >= 1e9) {\r\n    return `$${(value / 1e9).toFixed(1)}B`;\r\n  } else if (value >= 1e6) {\r\n    return `$${(value / 1e6).toFixed(1)}M`;\r\n  } else if (value >= 1e3) {\r\n    return `$${(value / 1e3).toFixed(1)}K`;\r\n  }\r\n  \r\n  return `$${value.toFixed(2)}`;\r\n};\r\n\r\n// Format price for display\r\nexport const formatPrice = (priceString: string): string => {\r\n  const value = parseFloat(priceString.replace('$', ''));\r\n  return `$${value.toFixed(2)}`;\r\n};\r\n\r\n// Get company statistics\r\nexport const getCompanyStats = () => {\r\n  const companies = getAllCompanies();\r\n  const totalMarketCap = companies.reduce((sum, company) => \r\n    sum + parseMarketCap(company.marketCap), 0\r\n  );\r\n  \r\n  return {\r\n    totalCompanies: companies.length,\r\n    totalMarketCap: formatMarketCap(`$${totalMarketCap}`),\r\n    sectors: getAllSectors().length,\r\n    categories: getAllCategories().length,\r\n    averagePrice: companies.reduce((sum, company) => \r\n      sum + parseFloat(company.price.replace('$', '')), 0\r\n    ) / companies.length\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;;;AAKO,MAAM,kBAAkB;IAC7B,MAAM,YAAY,oHAAA,CAAA,UAAa,CAAC,SAAS;IACzC,OAAO,OAAO,MAAM,CAAC;AACvB;AAGO,MAAM,iBAAiB,CAAC;IAC7B,MAAM,YAAY,oHAAA,CAAA,UAAa,CAAC,SAAS;IACzC,OAAO,SAAS,CAAC,GAAG;AACtB;AAGO,MAAM,iBAAiB,CAAC;IAC7B,MAAM,QAAQ,gHAAA,CAAA,UAAS;IACvB,OAAO,KAAK,CAAC,UAAU;AACzB;AAGO,MAAM,uBAAuB,CAAC;IACnC,OAAO,kBAAkB,MAAM,CAAC,CAAA,UAAW,QAAQ,MAAM,KAAK;AAChE;AAGO,MAAM,yBAAyB,CAAC;IACrC,OAAO,kBAAkB,MAAM,CAAC,CAAA,UAAW,QAAQ,QAAQ,KAAK;AAClE;AAGO,MAAM,kBAAkB,CAAC;IAC9B,MAAM,OAAO,WAAW,WAAW;IACnC,OAAO,kBAAkB,MAAM,CAAC,CAAA,UAC9B,QAAQ,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,SACpC,QAAQ,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC,SACtC,QAAQ,SAAS,CAAC,WAAW,GAAG,QAAQ,CAAC,SACzC,QAAQ,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC,SAC3C,QAAQ,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,SACxC,QAAQ,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC;AAE1C;AAGO,MAAM,yBAAyB,CAAC;IACrC,IAAI,YAAY;IAEhB,sBAAsB;IACtB,IAAI,QAAQ,UAAU,EAAE;QACtB,YAAY,gBAAgB,QAAQ,UAAU;IAChD;IAEA,sBAAsB;IACtB,IAAI,QAAQ,cAAc,EAAE;QAC1B,YAAY,UAAU,MAAM,CAAC,CAAA,UAAW,QAAQ,MAAM,KAAK,QAAQ,cAAc;IACnF;IAEA,wBAAwB;IACxB,IAAI,QAAQ,gBAAgB,EAAE;QAC5B,YAAY,UAAU,MAAM,CAAC,CAAA,UAAW,QAAQ,QAAQ,KAAK,QAAQ,gBAAgB;IACvF;IAEA,gBAAgB;IAChB,IAAI,QAAQ,SAAS,IAAI,QAAQ,aAAa,EAAE;QAC9C,UAAU,IAAI,CAAC,CAAC,GAAG;YACjB,IAAI,QAAa;YAEjB,OAAQ,QAAQ,SAAS;gBACvB,KAAK;oBACH,SAAS,EAAE,IAAI;oBACf,SAAS,EAAE,IAAI;oBACf;gBACF,KAAK;oBACH,kEAAkE;oBAClE,SAAS,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,KAAK;oBACzC,SAAS,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,KAAK;oBACzC;gBACF,KAAK;oBACH,2EAA2E;oBAC3E,SAAS,eAAe,EAAE,SAAS;oBACnC,SAAS,eAAe,EAAE,SAAS;oBACnC;gBACF;oBACE,OAAO;YACX;YAEA,IAAI,OAAO,WAAW,UAAU;gBAC9B,OAAO,QAAQ,aAAa,KAAK,QAC7B,OAAO,aAAa,CAAC,UACrB,OAAO,aAAa,CAAC;YAC3B;YAEA,OAAO,QAAQ,aAAa,KAAK,QAAQ,SAAS,SAAS,SAAS;QACtE;IACF;IAEA,OAAO;AACT;AAEA,gDAAgD;AAChD,MAAM,iBAAiB,CAAC;IACtB,MAAM,QAAQ,WAAW,UAAU,OAAO,CAAC,SAAS;IACpD,IAAI,UAAU,QAAQ,CAAC,MAAM;QAC3B,OAAO,QAAQ;IACjB,OAAO,IAAI,UAAU,QAAQ,CAAC,MAAM;QAClC,OAAO,QAAQ;IACjB,OAAO,IAAI,UAAU,QAAQ,CAAC,MAAM;QAClC,OAAO,QAAQ;IACjB;IACA,OAAO;AACT;AAGO,MAAM,gBAAgB;IAC3B,OAAO,oHAAA,CAAA,UAAa,CAAC,OAAO;AAC9B;AAGO,MAAM,mBAAmB;IAC9B,OAAO,oHAAA,CAAA,UAAa,CAAC,UAAU;AACjC;AAGO,MAAM,qBAAqB,CAAC;IACjC,MAAM,YAAY;IAClB,MAAM,WAAW;WAAI;KAAU,CAAC,IAAI,CAAC,IAAM,MAAM,KAAK,MAAM;IAC5D,OAAO,SAAS,KAAK,CAAC,GAAG;AAC3B;AAGO,MAAM,uBAAuB;IAClC,OAAO,kBACJ,MAAM,CAAC,CAAA;QACN,MAAM,iBAAiB,WAAW,QAAQ,SAAS,CAAC,OAAO,CAAC,UAAU;QACtE,MAAM,oBAAoB,QAAQ,SAAS,CAAC,QAAQ,CAAC,OAAO,iBAAiB,OAAO;QACpF,OAAO,oBAAoB,KAAK,sCAAsC;IACxE,GACC,IAAI,CAAC,CAAC,GAAG;QACR,MAAM,SAAS,WAAW,EAAE,SAAS,CAAC,OAAO,CAAC,UAAU,OAAO,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,OAAO,OAAO,CAAC;QACpG,MAAM,SAAS,WAAW,EAAE,SAAS,CAAC,OAAO,CAAC,UAAU,OAAO,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,OAAO,OAAO,CAAC;QACpG,OAAO,SAAS;IAClB;AACJ;AAGO,MAAM,6BAA6B,CAAC,QAAgB,EAAE;IAC3D,OAAO,kBACJ,IAAI,CAAC,CAAC,GAAG,IAAM,eAAe,EAAE,SAAS,IAAI,eAAe,EAAE,SAAS,GACvE,KAAK,CAAC,GAAG;AACd;AAGO,MAAM,kBAAkB,CAAC;IAC9B,MAAM,QAAQ,eAAe;IAE7B,IAAI,SAAS,KAAK;QAChB,OAAO,CAAC,CAAC,EAAE,CAAC,QAAQ,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;IACxC,OAAO,IAAI,SAAS,KAAK;QACvB,OAAO,CAAC,CAAC,EAAE,CAAC,QAAQ,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;IACxC,OAAO,IAAI,SAAS,KAAK;QACvB,OAAO,CAAC,CAAC,EAAE,CAAC,QAAQ,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;IACxC;IAEA,OAAO,CAAC,CAAC,EAAE,MAAM,OAAO,CAAC,IAAI;AAC/B;AAGO,MAAM,cAAc,CAAC;IAC1B,MAAM,QAAQ,WAAW,YAAY,OAAO,CAAC,KAAK;IAClD,OAAO,CAAC,CAAC,EAAE,MAAM,OAAO,CAAC,IAAI;AAC/B;AAGO,MAAM,kBAAkB;IAC7B,MAAM,YAAY;IAClB,MAAM,iBAAiB,UAAU,MAAM,CAAC,CAAC,KAAK,UAC5C,MAAM,eAAe,QAAQ,SAAS,GAAG;IAG3C,OAAO;QACL,gBAAgB,UAAU,MAAM;QAChC,gBAAgB,gBAAgB,CAAC,CAAC,EAAE,gBAAgB;QACpD,SAAS,gBAAgB,MAAM;QAC/B,YAAY,mBAAmB,MAAM;QACrC,cAAc,UAAU,MAAM,CAAC,CAAC,KAAK,UACnC,MAAM,WAAW,QAAQ,KAAK,CAAC,OAAO,CAAC,KAAK,MAAM,KAChD,UAAU,MAAM;IACtB;AACF","debugId":null}},
    {"offset": {"line": 2173, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/CompanyList.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useDeStock } from '@/lib/hooks/useDeStock';\r\nimport { useAccount } from 'wagmi';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { TrendingUpIcon, TrendingDownIcon, BuildingIcon, SearchIcon, SortAscIcon, FilterIcon } from 'lucide-react';\r\nimport { AnimatedCounter } from './AnimatedCounter';\r\nimport { LoadingSpinner } from './LoadingSpinner';\r\nimport { SkeletonLoader } from './SkeletonLoader';\r\nimport { getAllCompanies, getCompanyLogo, getAllSectors } from '@/lib/utils/companyUtils';\r\nimport { Company as CompanyType } from '@/lib/types/company';\r\n\r\ninterface Company {\r\n  id: number;\r\n  name: string;\r\n  symbol?: string;\r\n  owner: string;\r\n  initialPrice: string;\r\n  totalSupply: string;\r\n  currentPrice?: string;\r\n  change?: number;\r\n  changePercent?: number;\r\n  volume?: number;\r\n  marketCap?: number;\r\n  sector?: string;\r\n  logo?: string;\r\n  tokenData?: CompanyType;\r\n}\r\n\r\ntype SortField = 'name' | 'currentPrice' | 'change' | 'volume' | 'marketCap';\r\ntype SortDirection = 'asc' | 'desc';\r\n\r\nexport function CompanyList() {\r\n  const { isConnected } = useAccount();\r\n  const { nextCompanyId, getCompany, getSharePrice } = useDeStock();\r\n  const router = useRouter();\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [sortField, setSortField] = useState<SortField>('marketCap');\r\n  const [sortDirection, setSortDirection] = useState<SortDirection>('desc');\r\n  const [selectedSector, setSelectedSector] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    loadCompanies();\r\n  }, []);\r\n\r\n  const loadCompanies = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Try to load from API first\r\n      const response = await fetch('/api/market?type=companies');\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setCompanies(result.companies || []);\r\n      } else {\r\n        // Fallback to token data\r\n        const tokenCompanies = getAllCompanies();\r\n        const transformedCompanies = tokenCompanies.map((company, index) => ({\r\n          id: index,\r\n          name: company.name,\r\n          symbol: company.symbol,\r\n          owner: '0x' + Math.random().toString(16).substr(2, 40), // Mock address\r\n          initialPrice: company.price.replace('$', ''),\r\n          totalSupply: '1000000',\r\n          currentPrice: company.price.replace('$', ''),\r\n          change: (Math.random() - 0.5) * 20, // Random change\r\n          changePercent: (Math.random() - 0.5) * 20,\r\n          volume: Math.floor(Math.random() * 1000000),\r\n          marketCap: parseFloat(company.marketCap.replace(/[$BM]/g, '')) * (company.marketCap.includes('B') ? 1000000000 : 1000000),\r\n          sector: company.sector,\r\n          logo: company.logo,\r\n          tokenData: company // Store the full token data\r\n        }));\r\n        setCompanies(transformedCompanies);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load companies:', error);\r\n      // Final fallback to contract data if available\r\n      if (isConnected && nextCompanyId > 0) {\r\n        await loadCompaniesFromContract();\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadCompaniesFromContract = async () => {\r\n    const companyPromises = [];\r\n    for (let i = 0; i < nextCompanyId; i++) {\r\n      companyPromises.push(loadCompanyData(i));\r\n    }\r\n    const loadedCompanies = await Promise.all(companyPromises);\r\n    setCompanies(loadedCompanies.filter(Boolean) as Company[]);\r\n  };\r\n\r\n  const loadCompanyData = async (id: number): Promise<Company | null> => {\r\n    try {\r\n      // Note: This would need to be implemented with actual contract calls\r\n      // const companyData = await getCompany(id);\r\n      // const priceData = await getSharePrice(id);\r\n      \r\n      // Placeholder data for now\r\n      return {\r\n        id,\r\n        name: `Company ${id + 1}`,\r\n        owner: '0x1234567890123456789012345678901234567890',\r\n        initialPrice: '10.0',\r\n        totalSupply: '1000',\r\n        currentPrice: '12.5',\r\n      };\r\n    } catch (error) {\r\n      console.error(`Failed to load company ${id}:`, error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSort = (field: SortField) => {\r\n    if (sortField === field) {\r\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortField(field);\r\n      setSortDirection('desc');\r\n    }\r\n  };\r\n\r\n  const sortedAndFilteredCompanies = companies\r\n    .filter(company => {\r\n      const matchesSearch = company.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                           (company.symbol && company.symbol.toLowerCase().includes(searchTerm.toLowerCase()));\r\n      const matchesSector = !selectedSector || company.sector === selectedSector;\r\n      return matchesSearch && matchesSector;\r\n    })\r\n    .sort((a, b) => {\r\n      let aValue: any, bValue: any;\r\n      \r\n      switch (sortField) {\r\n        case 'name':\r\n          aValue = a.name;\r\n          bValue = b.name;\r\n          break;\r\n        case 'currentPrice':\r\n          aValue = parseFloat(a.currentPrice || '0');\r\n          bValue = parseFloat(b.currentPrice || '0');\r\n          break;\r\n        case 'change':\r\n          aValue = a.change || 0;\r\n          bValue = b.change || 0;\r\n          break;\r\n        case 'volume':\r\n          aValue = a.volume || 0;\r\n          bValue = b.volume || 0;\r\n          break;\r\n        case 'marketCap':\r\n          aValue = a.marketCap || 0;\r\n          bValue = b.marketCap || 0;\r\n          break;\r\n        default:\r\n          return 0;\r\n      }\r\n\r\n      if (typeof aValue === 'string') {\r\n        return sortDirection === 'asc' \r\n          ? aValue.localeCompare(bValue) \r\n          : bValue.localeCompare(aValue);\r\n      }\r\n      \r\n      return sortDirection === 'asc' ? aValue - bValue : bValue - aValue;\r\n    });\r\n\r\n  const uniqueSectors = Array.from(new Set(companies.map(c => c.sector).filter(Boolean)));\r\n\r\n  const formatAddress = (address: string) => {\r\n    return `${address.slice(0, 6)}...${address.slice(-4)}`;\r\n  };\r\n\r\n  const formatNumber = (num: number) => {\r\n    if (num >= 1e9) return `${(num / 1e9).toFixed(1)}B`;\r\n    if (num >= 1e6) return `${(num / 1e6).toFixed(1)}M`;\r\n    if (num >= 1e3) return `${(num / 1e3).toFixed(1)}K`;\r\n    return num.toString();\r\n  };\r\n\r\n  if (!isConnected) {\r\n    return (\r\n      <div className=\"destock-card text-center py-8\">\r\n        <BuildingIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n          Connect Your Wallet\r\n        </h3>\r\n        <p className=\"text-gray-600\">\r\n          Connect your wallet to view listed companies.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        {[...Array(3)].map((_, i) => (\r\n          <div key={i} className=\"destock-card animate-pulse\">\r\n            <div className=\"p-4\">\r\n              <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\r\n              <div className=\"h-3 bg-gray-200 rounded w-1/2 mb-2\"></div>\r\n              <div className=\"h-3 bg-gray-200 rounded w-1/4\"></div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (companies.length === 0) {\r\n    return (\r\n      <div className=\"destock-card text-center py-8\">\r\n        <BuildingIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n          No Companies Listed\r\n        </h3>\r\n        <p className=\"text-gray-600 mb-4\">\r\n          Be the first to register your company on DeStock!\r\n        </p>\r\n        <Link\r\n          href=\"/register\"\r\n          className=\"destock-button-primary inline-flex items-center\"\r\n        >\r\n          Register Company\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div \r\n      className=\"glass-card p-6\"\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.5, delay: 0.1 }}\r\n    >\r\n      <h2 className=\"text-2xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\r\n        Market Overview\r\n      </h2>\r\n      \r\n      {/* Search and Filter Controls */}\r\n      <motion.div \r\n        className=\"mb-6 space-y-4\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ delay: 0.2 }}\r\n      >\r\n        <div className=\"flex flex-col sm:flex-row gap-4\">\r\n          <div className=\"relative flex-1\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search companies or symbols...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"w-full p-3 pl-10 rounded-xl bg-gray-800/50 border border-gray-700/50 \r\n                       text-white placeholder-gray-400 focus:outline-none focus:ring-2 \r\n                       focus:ring-blue-500/50 transition-all duration-200\"\r\n            />\r\n            <svg\r\n              className=\"absolute left-3 top-3 w-5 h-5 text-gray-400\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n            </svg>\r\n          </div>\r\n          \r\n          <select\r\n            value={selectedSector}\r\n            onChange={(e) => setSelectedSector(e.target.value)}\r\n            className=\"p-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white \r\n                     focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-200\"\r\n          >\r\n            <option value=\"\">All Sectors</option>\r\n            {uniqueSectors.map(sector => (\r\n              <option key={sector} value={sector}>{sector}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </motion.div>\r\n\r\n      {/* Company Table */}\r\n      <motion.div \r\n        className=\"overflow-x-auto\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ delay: 0.3 }}\r\n      >\r\n        <table className=\"w-full\">\r\n          <thead>\r\n            <tr className=\"border-b border-gray-700/50\">\r\n              {[\r\n                { key: 'name', label: 'Company' },\r\n                { key: 'currentPrice', label: 'Price' },\r\n                { key: 'change', label: 'Change (24h)' },\r\n                { key: 'volume', label: 'Volume' },\r\n                { key: 'marketCap', label: 'Market Cap' }\r\n              ].map(({ key, label }) => (\r\n                <th\r\n                  key={key}\r\n                  className=\"text-left py-4 px-4 text-gray-300 font-medium cursor-pointer \r\n                           hover:text-white transition-colors duration-200\"\r\n                  onClick={() => handleSort(key as SortField)}\r\n                >\r\n                  <div className=\"flex items-center space-x-1\">\r\n                    <span>{label}</span>\r\n                    {sortField === key && (\r\n                      <svg\r\n                        className={`w-4 h-4 transition-transform duration-200 ${\r\n                          sortDirection === 'desc' ? 'rotate-180' : ''\r\n                        }`}\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\r\n                      </svg>\r\n                    )}\r\n                  </div>\r\n                </th>\r\n              ))}\r\n              <th className=\"text-left py-4 px-4 text-gray-300 font-medium\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {sortedAndFilteredCompanies.map((company: Company, index: number) => {\r\n              const changeColor = (company.change || 0) >= 0 ? 'text-green-400' : 'text-red-400';\r\n              const changePrefix = (company.change || 0) >= 0 ? '+' : '';\r\n              \r\n              return (\r\n                <motion.tr\r\n                  key={company.id}\r\n                  className=\"border-b border-gray-800/30 hover:bg-gray-800/20 transition-colors duration-200\"\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.3, delay: index * 0.05 }}\r\n                  whileHover={{ scale: 1.01 }}\r\n                >\r\n                  <td className=\"py-4 px-4\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <div className=\"w-10 h-10 rounded-full overflow-hidden bg-gradient-to-r from-blue-500 to-purple-500 \r\n                                    flex items-center justify-center text-white font-bold relative\">\r\n                        {company.logo ? (\r\n                          <Image\r\n                            src={company.logo}\r\n                            alt={`${company.name} logo`}\r\n                            width={40}\r\n                            height={40}\r\n                            className=\"object-cover rounded-full\"\r\n                            onError={(e) => {\r\n                              // Fallback to symbol if image fails\r\n                              e.currentTarget.style.display = 'none';\r\n                            }}\r\n                          />\r\n                        ) : null}\r\n                        {!company.logo && (\r\n                          <span className=\"text-sm font-bold\">\r\n                            {company.symbol ? company.symbol.charAt(0) : company.name.charAt(0)}\r\n                          </span>\r\n                        )}\r\n                        {/* Fallback text overlay */}\r\n                        <span className=\"absolute inset-0 flex items-center justify-center text-sm font-bold bg-gradient-to-r from-blue-500 to-purple-500 rounded-full opacity-0 hover:opacity-100 transition-opacity\">\r\n                          {company.symbol ? company.symbol.charAt(0) : company.name.charAt(0)}\r\n                        </span>\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"font-semibold text-white\">\r\n                          <span>{company.name}</span>\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-400\">\r\n                          <span>{company.symbol || formatAddress(company.id.toString())}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"py-4 px-4\">\r\n                    <div className=\"font-semibold text-white\">\r\n                      {company.currentPrice} DSTK\r\n                    </div>\r\n                  </td>\r\n                  <td className={`py-4 px-4 font-semibold ${changeColor}`}>\r\n                    {changePrefix}{company.change?.toFixed(2) || '0.00'}%\r\n                  </td>\r\n                  <td className=\"py-4 px-4 text-gray-300\">\r\n                    {formatNumber(company.volume || 0)}\r\n                  </td>\r\n                  <td className=\"py-4 px-4 text-gray-300\">\r\n                    {formatNumber(company.marketCap || 0)} DSTK\r\n                  </td>\r\n                  <td className=\"py-4 px-4\">\r\n                    <motion.button\r\n                      onClick={() => router.push(`/company/${company.id}`)}\r\n                      className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 \r\n                               hover:from-blue-700 hover:to-purple-700 rounded-lg \r\n                               transition-all duration-200 text-sm font-medium text-white\"\r\n                      whileHover={{ scale: 1.05 }}\r\n                      whileTap={{ scale: 0.95 }}\r\n                    >\r\n                      Trade\r\n                    </motion.button>\r\n                  </td>\r\n                </motion.tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </motion.div>\r\n\r\n      {sortedAndFilteredCompanies.length === 0 && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          className=\"text-center py-12 text-gray-400\"\r\n        >\r\n          <div className=\"text-lg font-medium mb-2\">No companies found</div>\r\n          <div className=\"text-sm\">\r\n            {searchTerm ? `No results for \"${searchTerm}\"` : 'No companies available'}\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2923, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/TradingChart.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { createChart, IChartApi, ISeriesApi, ColorType, UTCTimestamp } from 'lightweight-charts';\r\nimport { motion } from 'framer-motion';\r\nimport { useTheme } from 'next-themes';\r\nimport { TrendingUpIcon, TrendingDownIcon, BarChart3Icon, LineChartIcon } from 'lucide-react';\r\nimport { LoadingSpinner } from './LoadingSpinner';\r\n\r\ninterface ChartDataPoint {\r\n  time: UTCTimestamp;\r\n  open: number;\r\n  high: number;\r\n  low: number;\r\n  close: number;\r\n  volume?: number;\r\n}\r\n\r\ninterface TradingChartProps {\r\n  symbol?: string;\r\n  data?: ChartDataPoint[];\r\n  height?: number;\r\n  showTimeframes?: boolean;\r\n  showIndicators?: boolean;\r\n  className?: string;\r\n}\r\n\r\ntype Timeframe = '1H' | '4H' | '1D' | '1W' | '1M';\r\ntype ChartType = 'candlestick' | 'line' | 'area';\r\n\r\n// Stable empty array reference to prevent unnecessary re-renders\r\nconst EMPTY_DATA: ChartDataPoint[] = [];\r\n\r\nexport function TradingChart({\r\n  symbol = 'DEMO',\r\n  data = EMPTY_DATA,\r\n  height = 400,\r\n  showTimeframes = true,\r\n  showIndicators = true,\r\n  className = '',\r\n}: TradingChartProps) {\r\n  const chartContainerRef = useRef<HTMLDivElement>(null);\r\n  const chartRef = useRef<IChartApi | null>(null);\r\n  const candlestickSeriesRef = useRef<ISeriesApi<'Candlestick'> | null>(null);\r\n  const dataRef = useRef<ChartDataPoint[]>(EMPTY_DATA);\r\n  const [selectedTimeframe, setSelectedTimeframe] = useState<Timeframe>('1D');\r\n  const [chartType, setChartType] = useState<ChartType>('candlestick');\r\n  const [loading, setLoading] = useState(true);\r\n  const [chartData, setChartData] = useState<ChartDataPoint[]>([]);\r\n  const { theme } = useTheme();\r\n\r\n  const timeframes: Timeframe[] = ['1H', '4H', '1D', '1W', '1M'];\r\n\r\n  // Initialize chart\r\n  useEffect(() => {\r\n    if (!chartContainerRef.current) return;\r\n\r\n    const isDark = theme === 'dark';\r\n    \r\n    const chart = createChart(chartContainerRef.current, {\r\n      width: chartContainerRef.current.clientWidth,\r\n      height,\r\n      layout: {\r\n        background: { type: ColorType.Solid, color: 'transparent' },\r\n        textColor: isDark ? '#E5E7EB' : '#374151',\r\n      },\r\n      grid: {\r\n        vertLines: {\r\n          color: isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\r\n        },\r\n        horzLines: {\r\n          color: isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\r\n        },\r\n      },\r\n      crosshair: {\r\n        mode: 1, // Normal crosshair\r\n      },\r\n      timeScale: {\r\n        borderColor: isDark ? '#374151' : '#D1D5DB',\r\n        timeVisible: true,\r\n        secondsVisible: false,\r\n      },\r\n      rightPriceScale: {\r\n        borderColor: isDark ? '#374151' : '#D1D5DB',\r\n      },\r\n    });\r\n\r\n    const candlestickSeries = chart.addCandlestickSeries({\r\n      upColor: '#00D4AA',\r\n      downColor: '#F6465D',\r\n      borderDownColor: '#F6465D',\r\n      borderUpColor: '#00D4AA',\r\n      wickDownColor: '#F6465D',\r\n      wickUpColor: '#00D4AA',\r\n    });\r\n\r\n    chartRef.current = chart;\r\n    candlestickSeriesRef.current = candlestickSeries;\r\n\r\n    // Handle resize\r\n    const handleResize = () => {\r\n      if (chartContainerRef.current && chartRef.current) {\r\n        chartRef.current.applyOptions({\r\n          width: chartContainerRef.current.clientWidth,\r\n        });\r\n      }\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n      if (chartRef.current) {\r\n        chartRef.current.remove();\r\n        chartRef.current = null;\r\n        candlestickSeriesRef.current = null;\r\n      }\r\n    };\r\n  }, [height, theme]);\r\n\r\n  // Update chart theme\r\n  useEffect(() => {\r\n    if (!chartRef.current) return;\r\n\r\n    const isDark = theme === 'dark';\r\n    \r\n    chartRef.current.applyOptions({\r\n      layout: {\r\n        background: { type: ColorType.Solid, color: 'transparent' },\r\n        textColor: isDark ? '#E5E7EB' : '#374151',\r\n      },\r\n      grid: {\r\n        vertLines: {\r\n          color: isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\r\n        },\r\n        horzLines: {\r\n          color: isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\r\n        },\r\n      },\r\n      timeScale: {\r\n        borderColor: isDark ? '#374151' : '#D1D5DB',\r\n      },\r\n      rightPriceScale: {\r\n        borderColor: isDark ? '#374151' : '#D1D5DB',\r\n      },\r\n    });\r\n  }, [theme]);\r\n\r\n  // Handle prop data changes\r\n  useEffect(() => {\r\n    // Only update if data reference actually changed and has content\r\n    if (data !== dataRef.current && data.length > 0 && data !== EMPTY_DATA) {\r\n      console.log('TradingChart: Using provided data', data.length, 'points');\r\n      dataRef.current = data;\r\n      setChartData(data);\r\n      setLoading(false);\r\n    }\r\n  }, [data]);\r\n\r\n  // Load chart data from API\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      // Skip API loading if data is provided via props\r\n      if (data.length > 0 && data !== EMPTY_DATA) {\r\n        return;\r\n      }\r\n\r\n      console.log('TradingChart: Loading data from API', { symbol, selectedTimeframe });\r\n      setLoading(true);\r\n      try {\r\n        // Fetch data from API\r\n        const response = await fetch(`/api/market?type=chart&symbol=${symbol}&timeframe=${selectedTimeframe}&days=30`);\r\n        const result = await response.json();\r\n        \r\n        if (response.ok && result.data && result.data.ohlc) {\r\n          const apiData = result.data.ohlc || [];\r\n          \r\n          // Convert to proper format for Lightweight Charts\r\n          const formattedData = apiData.map((item: any) => ({\r\n            ...item,\r\n            time: item.time as UTCTimestamp,\r\n          }));\r\n          \r\n          console.log('TradingChart: API data loaded', formattedData.length, 'points');\r\n          setChartData(formattedData);\r\n        } else {\r\n          console.warn('Failed to fetch chart data:', result);\r\n          // Set empty data to stop loading\r\n          setChartData([]);\r\n        }\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Failed to load chart data:', error);\r\n        setChartData([]);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, [symbol, selectedTimeframe]);\r\n\r\n  // Update chart data\r\n  useEffect(() => {\r\n    if (!candlestickSeriesRef.current || chartData.length === 0) return;\r\n\r\n    candlestickSeriesRef.current.setData(chartData);\r\n    \r\n    // Fit content after data is loaded\r\n    if (chartRef.current) {\r\n      chartRef.current.timeScale().fitContent();\r\n    }\r\n  }, [chartData]);\r\n\r\n  const handleTimeframeChange = (timeframe: Timeframe) => {\r\n    setSelectedTimeframe(timeframe);\r\n  };\r\n\r\n  const currentPrice = chartData.length > 0 ? chartData[chartData.length - 1].close : 0;\r\n  const previousPrice = chartData.length > 1 ? chartData[chartData.length - 2].close : currentPrice;\r\n  const priceChange = currentPrice - previousPrice;\r\n  const priceChangePercent = previousPrice > 0 ? (priceChange / previousPrice) * 100 : 0;\r\n  const isPositive = priceChange >= 0;\r\n\r\n  return (\r\n    <div className={`glass-card ${className}`}>\r\n      {/* Chart Header */}\r\n      <div className=\"p-4 border-b border-white/10 dark:border-black/10\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\r\n              {symbol}\r\n            </h3>\r\n            \r\n            {/* Price Information */}\r\n            <div className=\"flex items-center space-x-2\">\r\n              <span className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\r\n                ${currentPrice.toFixed(2)}\r\n              </span>\r\n              <div className={`flex items-center space-x-1 ${isPositive ? 'text-success' : 'text-danger'}`}>\r\n                {isPositive ? (\r\n                  <TrendingUpIcon className=\"w-4 h-4\" />\r\n                ) : (\r\n                  <TrendingDownIcon className=\"w-4 h-4\" />\r\n                )}\r\n                <span className=\"font-medium\">\r\n                  {isPositive ? '+' : ''}{priceChange.toFixed(2)} ({priceChangePercent.toFixed(2)}%)\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Chart Type Toggle */}\r\n          <div className=\"flex items-center space-x-2\">\r\n            <motion.button\r\n              onClick={() => setChartType('candlestick')}\r\n              className={`p-2 rounded-md transition-colors duration-200 ${\r\n                chartType === 'candlestick'\r\n                  ? 'bg-destock-primary text-white'\r\n                  : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'\r\n              }`}\r\n              whileTap={{ scale: 0.95 }}\r\n            >\r\n              <BarChart3Icon className=\"w-4 h-4\" />\r\n            </motion.button>\r\n            <motion.button\r\n              onClick={() => setChartType('line')}\r\n              className={`p-2 rounded-md transition-colors duration-200 ${\r\n                chartType === 'line'\r\n                  ? 'bg-destock-primary text-white'\r\n                  : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'\r\n              }`}\r\n              whileTap={{ scale: 0.95 }}\r\n            >\r\n              <LineChartIcon className=\"w-4 h-4\" />\r\n            </motion.button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Timeframe Selector */}\r\n        {showTimeframes && (\r\n          <div className=\"flex space-x-1\">\r\n            {timeframes.map((timeframe) => (\r\n              <motion.button\r\n                key={timeframe}\r\n                onClick={() => handleTimeframeChange(timeframe)}\r\n                className={`px-3 py-1 text-sm font-medium rounded-md transition-all duration-200 ${\r\n                  selectedTimeframe === timeframe\r\n                    ? 'bg-destock-primary text-white shadow-sm'\r\n                    : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700'\r\n                }`}\r\n                whileTap={{ scale: 0.95 }}\r\n              >\r\n                {timeframe}\r\n              </motion.button>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Chart Container */}\r\n      <div className=\"relative\">\r\n        {loading && (\r\n          <div className=\"absolute inset-0 flex items-center justify-center z-10\">\r\n            <LoadingSpinner />\r\n          </div>\r\n        )}\r\n        \r\n        <motion.div\r\n          ref={chartContainerRef}\r\n          className={`${loading ? 'opacity-30' : 'opacity-100'} transition-opacity duration-200`}\r\n          initial={{ opacity: 0, scale: 0.95 }}\r\n          animate={{ opacity: loading ? 0.3 : 1, scale: 1 }}\r\n          transition={{ duration: 0.3 }}\r\n          style={{ height: `${height}px` }}\r\n        />\r\n      </div>\r\n\r\n      {/* Chart Footer with Stats */}\r\n      <div className=\"p-4 border-t border-white/10 dark:border-black/10\">\r\n        <div className=\"grid grid-cols-4 gap-4 text-sm\">\r\n          <div>\r\n            <span className=\"text-gray-500 dark:text-gray-400 block\">Open</span>\r\n            <span className=\"font-medium text-gray-900 dark:text-gray-100\">\r\n              ${chartData.length > 0 ? chartData[chartData.length - 1].open.toFixed(2) : '0.00'}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-500 dark:text-gray-400 block\">High</span>\r\n            <span className=\"font-medium text-success\">\r\n              ${chartData.length > 0 ? chartData[chartData.length - 1].high.toFixed(2) : '0.00'}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-500 dark:text-gray-400 block\">Low</span>\r\n            <span className=\"font-medium text-danger\">\r\n              ${chartData.length > 0 ? chartData[chartData.length - 1].low.toFixed(2) : '0.00'}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-500 dark:text-gray-400 block\">Volume</span>\r\n            <span className=\"font-medium text-gray-900 dark:text-gray-100\">\r\n              {chartData.length > 0 ? (chartData[chartData.length - 1].volume || 0).toLocaleString() : '0'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3466, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/MarketHeatMap.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { getAllCompanies } from '@/lib/utils/companyUtils';\r\n\r\ninterface HeatMapData {\r\n  id: string;\r\n  name: string;\r\n  symbol: string;\r\n  value: number;\r\n  change: number;\r\n  size: number;\r\n}\r\n\r\ninterface MarketHeatMapProps {\r\n  className?: string;\r\n}\r\n\r\nexport function MarketHeatMap({ className }: MarketHeatMapProps) {\r\n  const [heatMapData, setHeatMapData] = useState<HeatMapData[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadHeatMapData();\r\n  }, []);\r\n\r\n  const loadHeatMapData = async () => {\r\n    try {\r\n      const response = await fetch('/api/market?type=heatmap');\r\n      const result = await response.json();\r\n      setHeatMapData(result.heatmap || []);\r\n    } catch (error) {\r\n      console.error('Failed to load heatmap data:', error);\r\n      // Fallback to real token data\r\n      const companies = getAllCompanies().slice(0, 12);\r\n      const fallbackData = companies.map((company) => {\r\n        const marketCapValue = parseFloat(company.marketCap.replace(/[$BM]/g, ''));\r\n        const marketCapInNumber = company.marketCap.includes('B') ? marketCapValue * 1000000000 : marketCapValue * 1000000;\r\n        \r\n        return {\r\n          id: company.id,\r\n          name: company.name,\r\n          symbol: company.symbol,\r\n          value: parseFloat(company.price.replace('$', '')),\r\n          change: (Math.random() - 0.5) * 20, // Random change for demo\r\n          size: Math.min(Math.max((marketCapInNumber / 1000000000) * 50 + 40, 40), 120)\r\n        };\r\n      });\r\n      setHeatMapData(fallbackData);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getColorByChange = (change: number) => {\r\n    if (change > 5) return 'from-green-500 to-green-600';\r\n    if (change > 2) return 'from-green-400 to-green-500';\r\n    if (change > 0) return 'from-green-300 to-green-400';\r\n    if (change > -2) return 'from-red-300 to-red-400';\r\n    if (change > -5) return 'from-red-400 to-red-500';\r\n    return 'from-red-500 to-red-600';\r\n  };\r\n\r\n  const getTextColor = (change: number) => {\r\n    return Math.abs(change) > 3 ? 'text-white' : 'text-gray-800';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={`glass-card p-6 ${className}`}>\r\n        <h3 className=\"text-xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\r\n          Market Heat Map\r\n        </h3>\r\n        <div className=\"grid grid-cols-4 md:grid-cols-6 gap-2\">\r\n          {[...Array(12)].map((_, i) => (\r\n            <div\r\n              key={i}\r\n              className=\"aspect-square rounded-lg bg-gray-700/30 animate-pulse\"\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div \r\n      className={`glass-card p-6 ${className}`}\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.5, delay: 0.4 }}\r\n    >\r\n      <h3 className=\"text-xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\r\n        Market Heat Map\r\n      </h3>\r\n      \r\n      <div className=\"grid grid-cols-4 md:grid-cols-6 gap-2\">\r\n        {heatMapData.map((item, index) => (\r\n          <motion.div\r\n            key={item.id}\r\n            className={`\r\n              aspect-square rounded-lg p-2 cursor-pointer\r\n              bg-gradient-to-br ${getColorByChange(item.change)}\r\n              hover:scale-105 transition-all duration-200\r\n              flex flex-col justify-between\r\n              ${getTextColor(item.change)}\r\n            `}\r\n            style={{\r\n              minHeight: `${Math.max(item.size, 60)}px`,\r\n              opacity: 0.8 + (Math.abs(item.change) / 20) * 0.2\r\n            }}\r\n            initial={{ opacity: 0, scale: 0.8 }}\r\n            animate={{ opacity: 0.8 + (Math.abs(item.change) / 20) * 0.2, scale: 1 }}\r\n            transition={{ duration: 0.3, delay: index * 0.05 }}\r\n            whileHover={{ \r\n              scale: 1.05,\r\n              opacity: 1,\r\n              transition: { duration: 0.2 }\r\n            }}\r\n            title={`${item.name} (${item.symbol}): ${item.change > 0 ? '+' : ''}${item.change.toFixed(2)}%`}\r\n          >\r\n            <div className=\"text-xs font-semibold truncate\">\r\n              {item.symbol}\r\n            </div>\r\n            <div className=\"text-xs font-bold\">\r\n              {item.change > 0 ? '+' : ''}{item.change.toFixed(1)}%\r\n            </div>\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"mt-4 flex items-center justify-between text-xs text-gray-400\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <div className=\"flex items-center space-x-1\">\r\n            <div className=\"w-3 h-3 rounded bg-gradient-to-r from-green-400 to-green-500\"></div>\r\n            <span>Positive</span>\r\n          </div>\r\n          <div className=\"flex items-center space-x-1\">\r\n            <div className=\"w-3 h-3 rounded bg-gradient-to-r from-red-400 to-red-500\"></div>\r\n            <span>Negative</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"text-xs\">\r\n          Size = Market Cap | Color = 24h Change\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3730, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/PriceTicker.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { TrendingUpIcon, TrendingDownIcon } from 'lucide-react';\r\nimport { AnimatedCounter } from './AnimatedCounter';\r\nimport { getAllCompanies } from '@/lib/utils/companyUtils';\r\n\r\ninterface TickerItem {\r\n  symbol: string;\r\n  name: string;\r\n  price: number;\r\n  change: number;\r\n  changePercent: number;\r\n  volume: number;\r\n}\r\n\r\ninterface PriceTickerProps {\r\n  speed?: number;\r\n  direction?: 'left' | 'right';\r\n  className?: string;\r\n  pauseOnHover?: boolean;\r\n}\r\n\r\nexport function PriceTicker({ \r\n  speed = 50, \r\n  direction = 'left', \r\n  className = '',\r\n  pauseOnHover = true \r\n}: PriceTickerProps) {\r\n  const [tickerData, setTickerData] = useState<TickerItem[]>([]);\r\n  const [isPaused, setIsPaused] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchTickerData = async () => {\r\n      try {\r\n        const response = await fetch('/api/market?type=ticker');\r\n        const result = await response.json();\r\n        setTickerData(result.ticker || []);\r\n      } catch (error) {\r\n        console.error('Failed to fetch ticker data:', error);\r\n        // Fallback to real token data\r\n        const companies = getAllCompanies().slice(0, 10);\r\n        const fallbackData = companies.map(company => ({\r\n          symbol: company.symbol,\r\n          name: company.name,\r\n          price: parseFloat(company.price.replace('$', '')),\r\n          change: (Math.random() - 0.5) * 10,\r\n          changePercent: (Math.random() - 0.5) * 15,\r\n          volume: Math.floor(Math.random() * 1000000),\r\n        }));\r\n        setTickerData(fallbackData);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTickerData();\r\n\r\n    // Update ticker data every 30 seconds\r\n    const interval = setInterval(fetchTickerData, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // Real-time price updates simulation\r\n  useEffect(() => {\r\n    if (tickerData.length === 0) return;\r\n\r\n    const interval = setInterval(() => {\r\n      setTickerData(prev => prev.map(item => {\r\n        const changePercent = (Math.random() - 0.5) * 0.5; // ±0.25%\r\n        const newPrice = item.price * (1 + changePercent / 100);\r\n        const priceChange = newPrice - item.price;\r\n        \r\n        return {\r\n          ...item,\r\n          price: Number(newPrice.toFixed(2)),\r\n          change: Number(priceChange.toFixed(2)),\r\n          changePercent: Number(((priceChange / item.price) * 100).toFixed(2)),\r\n        };\r\n      }));\r\n    }, 5000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [tickerData.length]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={`glass-card h-16 flex items-center justify-center ${className}`}>\r\n        <div className=\"flex space-x-4\">\r\n          {Array.from({ length: 5 }).map((_, i) => (\r\n            <div key={i} className=\"flex space-x-2 animate-pulse\">\r\n              <div className=\"w-12 h-4 bg-gray-300 dark:bg-gray-600 rounded\" />\r\n              <div className=\"w-16 h-4 bg-gray-300 dark:bg-gray-600 rounded\" />\r\n              <div className=\"w-12 h-4 bg-gray-300 dark:bg-gray-600 rounded\" />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className={`glass-card overflow-hidden relative ${className}`}\r\n      onMouseEnter={() => pauseOnHover && setIsPaused(true)}\r\n      onMouseLeave={() => pauseOnHover && setIsPaused(false)}\r\n    >\r\n      <div className=\"h-16 flex items-center\">\r\n        <motion.div\r\n          className=\"flex space-x-8 whitespace-nowrap\"\r\n          animate={{\r\n            x: direction === 'left' ? '-50%' : '50%',\r\n          }}\r\n          transition={{\r\n            duration: speed,\r\n            repeat: Infinity,\r\n            ease: 'linear',\r\n          }}\r\n          style={{\r\n            animationPlayState: isPaused ? 'paused' : 'running',\r\n          }}\r\n        >\r\n          {/* Duplicate the data to create seamless loop */}\r\n          {[...tickerData, ...tickerData].map((item, index) => (\r\n            <motion.div\r\n              key={`${item.symbol}-${index}`}\r\n              className=\"flex items-center space-x-3 min-w-fit\"\r\n              whileHover={pauseOnHover ? { scale: 1.05 } : {}}\r\n            >\r\n              <span className=\"font-semibold text-gray-900 dark:text-gray-100\">\r\n                {item.symbol}\r\n              </span>\r\n              \r\n              <AnimatedCounter\r\n                value={item.price}\r\n                format=\"currency\"\r\n                decimals={2}\r\n                className=\"font-medium text-gray-900 dark:text-gray-100\"\r\n              />\r\n              \r\n              <div className={`flex items-center space-x-1 ${\r\n                item.change >= 0 ? 'text-success' : 'text-danger'\r\n              }`}>\r\n                {item.change >= 0 ? (\r\n                  <TrendingUpIcon className=\"w-3 h-3\" />\r\n                ) : (\r\n                  <TrendingDownIcon className=\"w-3 h-3\" />\r\n                )}\r\n                <span className=\"text-sm font-medium\">\r\n                  {item.change >= 0 ? '+' : ''}{item.change.toFixed(2)}\r\n                </span>\r\n                <span className=\"text-sm\">\r\n                  ({item.changePercent >= 0 ? '+' : ''}{item.changePercent.toFixed(2)}%)\r\n                </span>\r\n              </div>\r\n              \r\n              <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                Vol: {(item.volume / 1000000).toFixed(1)}M\r\n              </span>\r\n            </motion.div>\r\n          ))}\r\n        </motion.div>\r\n      </div>\r\n      \r\n      {/* Gradient Overlays */}\r\n      <div className=\"absolute left-0 top-0 w-12 h-full bg-gradient-to-r from-white/80 dark:from-gray-900/80 to-transparent pointer-events-none\" />\r\n      <div className=\"absolute right-0 top-0 w-12 h-full bg-gradient-to-l from-white/80 dark:from-gray-900/80 to-transparent pointer-events-none\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3995, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { DashboardGrid } from '@/components/DashboardGrid';\r\nimport { TradeView } from '@/components/TradeView';\r\nimport { CompanyList } from '@/components/CompanyList';\r\nimport { TradingChart } from '@/components/TradingChart';\r\nimport { MarketHeatMap } from '@/components/MarketHeatMap';\r\nimport { PriceTicker } from '@/components/PriceTicker';\r\nimport { motion } from 'framer-motion';\r\nimport { useMemo } from 'react';\r\n\r\nexport default function HomePage() {\r\n  // Memoize widget components to prevent re-creation on every render\r\n  const widgets = useMemo(() => [\r\n    {\r\n      id: 'trading',\r\n      title: 'Trading Interface',\r\n      component: <TradeView />,\r\n      defaultSize: 40,\r\n      minSize: 30,\r\n    },\r\n    {\r\n      id: 'chart',\r\n      title: 'Price Chart',\r\n      component: <TradingChart symbol=\"DSTK\" height={350} />,\r\n      defaultSize: 60,\r\n      minSize: 40,\r\n    },\r\n  ], []);\r\n\r\n  const bottomWidgets = useMemo(() => [\r\n    {\r\n      id: 'companies',\r\n      title: 'Market Overview',\r\n      component: <CompanyList />,\r\n      defaultSize: 60,\r\n      minSize: 50,\r\n    },\r\n    {\r\n      id: 'heatmap',\r\n      title: 'Market Heat Map',\r\n      component: <MarketHeatMap />,\r\n      defaultSize: 40,\r\n      minSize: 30,\r\n    },\r\n  ], []);\r\n\r\n  return (\r\n    <motion.div \r\n      className=\"space-y-6\"\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.5 }}\r\n    >\r\n      {/* Header Section */}\r\n      <motion.div \r\n        className=\"text-center glass-card p-8\"\r\n        initial={{ opacity: 0, y: -20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 0.1, duration: 0.5 }}\r\n      >\r\n        <h1 className=\"text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4\">\r\n          Welcome to DeStock\r\n        </h1>\r\n        <p className=\"text-xl text-gray-600 dark:text-gray-400 max-w-4xl mx-auto\">\r\n          The professional decentralized trading platform with advanced charting, \r\n          real-time analytics, and seamless Web3 integration. Trade company shares \r\n          using DSTK tokens with institutional-grade tools.\r\n        </p>\r\n      </motion.div>\r\n\r\n      {/* Price Ticker */}\r\n      <motion.div\r\n        initial={{ opacity: 0, x: -50 }}\r\n        animate={{ opacity: 1, x: 0 }}\r\n        transition={{ delay: 0.2, duration: 0.5 }}\r\n      >\r\n        <PriceTicker />\r\n      </motion.div>\r\n\r\n      {/* Main Dashboard Grid */}\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.95 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        transition={{ delay: 0.3, duration: 0.5 }}\r\n      >\r\n        <DashboardGrid widgets={widgets} />\r\n      </motion.div>\r\n\r\n      {/* Bottom Section */}\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 0.4, duration: 0.5 }}\r\n      >\r\n        <DashboardGrid widgets={bottomWidgets} layout=\"grid\" />\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAWe,SAAS;IACtB,mEAAmE;IACnE,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE,IAAM;YAC5B;gBACE,IAAI;gBACJ,OAAO;gBACP,yBAAW,8OAAC,uIAAA,CAAA,YAAS;;;;;gBACrB,aAAa;gBACb,SAAS;YACX;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,yBAAW,8OAAC,0IAAA,CAAA,eAAY;oBAAC,QAAO;oBAAO,QAAQ;;;;;;gBAC/C,aAAa;gBACb,SAAS;YACX;SACD,EAAE,EAAE;IAEL,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE,IAAM;YAClC;gBACE,IAAI;gBACJ,OAAO;gBACP,yBAAW,8OAAC,yIAAA,CAAA,cAAW;;;;;gBACvB,aAAa;gBACb,SAAS;YACX;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,yBAAW,8OAAC,2IAAA,CAAA,gBAAa;;;;;gBACzB,aAAa;gBACb,SAAS;YACX;SACD,EAAE,EAAE;IAEL,qBACE,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;QACT,WAAU;QACV,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;QAAI;;0BAG5B,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;;kCAExC,8OAAC;wBAAG,WAAU;kCAA2D;;;;;;kCAGzE,8OAAC;wBAAE,WAAU;kCAA6D;;;;;;;;;;;;0BAQ5E,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAExC,cAAA,8OAAC,yIAAA,CAAA,cAAW;;;;;;;;;;0BAId,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAK;gBACnC,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAE;gBAChC,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAExC,cAAA,8OAAC,2IAAA,CAAA,gBAAa;oBAAC,SAAS;;;;;;;;;;;0BAI1B,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAExC,cAAA,8OAAC,2IAAA,CAAA,gBAAa;oBAAC,SAAS;oBAAe,QAAO;;;;;;;;;;;;;;;;;AAItD","debugId":null}}]
}