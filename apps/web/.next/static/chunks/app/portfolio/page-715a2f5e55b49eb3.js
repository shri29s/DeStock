(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{3809:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h});var s=t(4568),r=t(3055),l=t(6888),c=t(6543),i=t(7620),n=t(9204),d=t(4624);let x=(0,d.A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),o=(0,d.A)("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);var m=t(6734);function h(){let{isConnected:e,address:a}=(0,r.F)(),{balance:t}=(0,l.O)(),{getShareBalance:d,nextCompanyId:h}=(0,c.P)(),[p,u]=(0,i.useState)([]),[g,y]=(0,i.useState)(!1),[N,f]=(0,i.useState)("0");(0,i.useEffect)(()=>{e&&h>0&&j()},[e,h]);let j=async()=>{y(!0);try{let e=[{companyId:0,companyName:"Tech Corp",shares:"50",currentPrice:"15.2",totalValue:"760",change:12.5},{companyId:1,companyName:"Green Energy Inc",shares:"25",currentPrice:"8.7",totalValue:"217.5",change:-3.2}];u(e);let a=e.reduce((e,a)=>e+parseFloat(a.totalValue),0);f(a.toFixed(2))}catch(e){console.error("Failed to load portfolio:",e)}finally{y(!1)}};return e?(0,s.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Portfolio"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Track your investments and portfolio performance."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"destock-card",children:(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{className:"w-8 h-8 text-green-600"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Total Portfolio Value"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[N," DSTK"]})]})]})})}),(0,s.jsx)("div",{className:"destock-card",children:(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(n.A,{className:"w-8 h-8 text-blue-600"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"DSTK Balance"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[t," DSTK"]})]})]})})}),(0,s.jsx)("div",{className:"destock-card",children:(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(o,{className:"w-8 h-8 text-purple-600"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Holdings"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.length})]})]})})})]}),(0,s.jsx)("div",{className:"destock-card",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Your Holdings"}),g?(0,s.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,a)=>(0,s.jsx)("div",{className:"animate-pulse",children:(0,s.jsx)("div",{className:"h-12 bg-gray-200 rounded"})},a))}):0===p.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(m.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Holdings Yet"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Start trading to build your portfolio."})]}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shares"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Change"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200",children:p.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.companyName})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.shares}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.currentPrice," DSTK"]}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[e.totalValue," DSTK"]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.change>=0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[e.change>=0?"+":"",e.change.toFixed(2),"%"]})})]},e.companyId))})]})})]})})]}):(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsxs)("div",{className:"destock-card text-center py-12",children:[(0,s.jsx)(n.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connect Your Wallet"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Connect your wallet to view your portfolio and holdings."})]})})}},3995:(e,a,t)=>{"use strict";t.d(a,{g:()=>l});var s=t(3201),r=t(8283);function l(e,a="wei"){return(0,r.X)(e,s.eL[a])}},4624:(e,a,t)=>{"use strict";t.d(a,{A:()=>c});var s=t(7620),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(e,a)=>{let t=(0,s.forwardRef)((t,c)=>{let{color:i="currentColor",size:n=24,strokeWidth:d=2,absoluteStrokeWidth:x,className:o="",children:m,...h}=t;return(0,s.createElement)("svg",{ref:c,...r,width:n,height:n,stroke:i,strokeWidth:x?24*Number(d)/Number(n):d,className:["lucide","lucide-".concat(l(e)),o].join(" "),...h},[...a.map(e=>{let[a,t]=e;return(0,s.createElement)(a,t)}),...Array.isArray(m)?m:[m]])});return t.displayName="".concat(e),t}},6543:(e,a,t)=>{"use strict";t.d(a,{P:()=>x});var s=t(3055),r=t(441),l=t(4072),c=t(4953),i=t(4532),n=t(7620),d=t(3995);function x(){let{address:e,chainId:a}=(0,s.F)(),t=(0,n.useMemo)(()=>{if(a)return(0,i.RZ)("DESTOCK",a)},[a]),{writeContract:x,data:o,error:m,isPending:h}=(0,r.x)(),{isLoading:p,isSuccess:u}=(0,l.g)({hash:o}),{data:g}=(0,c.Q)({address:t,abi:i.$B,functionName:"nextCompanyId"}),y=(0,n.useCallback)(e=>(0,c.Q)({address:t,abi:i.$B,functionName:"companies",args:[BigInt(e)]}),[t]),N=(0,n.useCallback)(e=>(0,c.Q)({address:t,abi:i.$B,functionName:"getSharePrice",args:[BigInt(e)]}),[t]),f=(0,n.useCallback)((a,s)=>{let r=s||e;return(0,c.Q)({address:t,abi:i.$B,functionName:"balanceOf",args:r?[r,BigInt(a)]:void 0,query:{enabled:!!r}})},[t,e]),j=(0,n.useCallback)((e,a,s)=>{t&&x({address:t,abi:i.$B,functionName:"registerCompany",args:[e,(0,d.g)(a),BigInt(s)]})},[t,x]),v=(0,n.useCallback)((e,a)=>{t&&x({address:t,abi:i.$B,functionName:"buyShares",args:[BigInt(e),BigInt(a)]})},[t,x]),b=(0,n.useCallback)((e,a)=>{t&&x({address:t,abi:i.$B,functionName:"sellShares",args:[BigInt(e),BigInt(a)]})},[t,x]);return{contractAddress:t,nextCompanyId:g?Number(g):0,getCompany:y,getSharePrice:N,getShareBalance:f,registerCompany:j,buyShares:v,sellShares:b,hash:o,isPending:h,isConfirming:p,isConfirmed:u,error:m}}},6734:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(4624).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},8527:(e,a,t)=>{Promise.resolve().then(t.bind(t,3809))},9204:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(4624).A)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[850,888,587,315,358],()=>a(8527)),_N_E=e.O()}]);