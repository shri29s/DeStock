{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/shri/web3Hackathon/DeStock/apps/web/components/LoadingSpinner.tsx"],"sourcesContent":["'use client';\n\nimport { motion } from 'framer-motion';\nimport { clsx } from 'clsx';\n\ninterface LoadingSpinnerProps {\n  size?: 'small' | 'medium' | 'large';\n  variant?: 'circular' | 'dots' | 'bars';\n  className?: string;\n  overlay?: boolean;\n}\n\nexport function LoadingSpinner({ \n  size = 'medium', \n  variant = 'circular', \n  className = '',\n  overlay = false \n}: LoadingSpinnerProps) {\n  const sizeClasses = {\n    small: 'w-4 h-4',\n    medium: 'w-8 h-8',\n    large: 'w-12 h-12',\n  };\n\n  if (variant === 'circular') {\n    return (\n      <div className={clsx(\n        'flex items-center justify-center',\n        overlay && 'fixed inset-0 glass-modal z-50',\n        className\n      )}>\n        <motion.div\n          className={clsx(\n            'border-2 border-destock-primary/20 border-t-destock-primary rounded-full',\n            sizeClasses[size]\n          )}\n          animate={{ rotate: 360 }}\n          transition={{\n            duration: 1,\n            repeat: Infinity,\n            ease: 'linear',\n          }}\n        />\n      </div>\n    );\n  }\n\n  if (variant === 'dots') {\n    return (\n      <div className={clsx(\n        'flex items-center justify-center space-x-1',\n        overlay && 'fixed inset-0 glass-modal z-50',\n        className\n      )}>\n        {[0, 1, 2].map((index) => (\n          <motion.div\n            key={index}\n            className=\"w-2 h-2 bg-destock-primary rounded-full\"\n            animate={{\n              scale: [1, 1.5, 1],\n              opacity: [0.5, 1, 0.5],\n            }}\n            transition={{\n              duration: 1,\n              repeat: Infinity,\n              delay: index * 0.2,\n            }}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  if (variant === 'bars') {\n    return (\n      <div className={clsx(\n        'flex items-center justify-center space-x-1',\n        overlay && 'fixed inset-0 glass-modal z-50',\n        className\n      )}>\n        {[0, 1, 2, 3].map((index) => (\n          <motion.div\n            key={index}\n            className=\"w-1 bg-destock-primary rounded-full\"\n            style={{ height: size === 'small' ? 16 : size === 'medium' ? 24 : 32 }}\n            animate={{\n              scaleY: [1, 2, 1],\n            }}\n            transition={{\n              duration: 1,\n              repeat: Infinity,\n              delay: index * 0.1,\n            }}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  return null;\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAYO,SAAS,eAAe,EAC7B,OAAO,QAAQ,EACf,UAAU,UAAU,EACpB,YAAY,EAAE,EACd,UAAU,KAAK,EACK;IACpB,MAAM,cAAc;QAClB,OAAO;QACP,QAAQ;QACR,OAAO;IACT;IAEA,IAAI,YAAY,YAAY;QAC1B,qBACE,6LAAC;YAAI,WAAW,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EACjB,oCACA,WAAW,kCACX;sBAEA,cAAA,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,WAAW,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EACZ,4EACA,WAAW,CAAC,KAAK;gBAEnB,SAAS;oBAAE,QAAQ;gBAAI;gBACvB,YAAY;oBACV,UAAU;oBACV,QAAQ;oBACR,MAAM;gBACR;;;;;;;;;;;IAIR;IAEA,IAAI,YAAY,QAAQ;QACtB,qBACE,6LAAC;YAAI,WAAW,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EACjB,8CACA,WAAW,kCACX;sBAEC;gBAAC;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,sBACd,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;oBAET,WAAU;oBACV,SAAS;wBACP,OAAO;4BAAC;4BAAG;4BAAK;yBAAE;wBAClB,SAAS;4BAAC;4BAAK;4BAAG;yBAAI;oBACxB;oBACA,YAAY;wBACV,UAAU;wBACV,QAAQ;wBACR,OAAO,QAAQ;oBACjB;mBAVK;;;;;;;;;;IAef;IAEA,IAAI,YAAY,QAAQ;QACtB,qBACE,6LAAC;YAAI,WAAW,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EACjB,8CACA,WAAW,kCACX;sBAEC;gBAAC;gBAAG;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,sBACjB,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;oBAET,WAAU;oBACV,OAAO;wBAAE,QAAQ,SAAS,UAAU,KAAK,SAAS,WAAW,KAAK;oBAAG;oBACrE,SAAS;wBACP,QAAQ;4BAAC;4BAAG;4BAAG;yBAAE;oBACnB;oBACA,YAAY;wBACV,UAAU;wBACV,QAAQ;wBACR,OAAO,QAAQ;oBACjB;mBAVK;;;;;;;;;;IAef;IAEA,OAAO;AACT;KAxFgB","debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///home/shri/web3Hackathon/DeStock/apps/web/components/WidgetWrapper.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode, useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { MinusIcon, XIcon, SettingsIcon, GripVerticalIcon } from 'lucide-react';\nimport { clsx } from 'clsx';\nimport { LoadingSpinner } from './LoadingSpinner';\n\ninterface WidgetWrapperProps {\n  title: string;\n  id: string;\n  children?: ReactNode;\n  className?: string;\n  isCollapsed?: boolean;\n  isLoading?: boolean;\n  error?: string;\n  onToggle?: () => void;\n  onClose?: () => void;\n  onSettings?: () => void;\n  showControls?: boolean;\n  draggable?: boolean;\n  resizable?: boolean;\n  size?: 'small' | 'medium' | 'large' | 'full';\n}\n\nexport function WidgetWrapper({\n  title,\n  id,\n  children,\n  className = '',\n  isCollapsed = false,\n  isLoading = false,\n  error,\n  onToggle,\n  onClose,\n  onSettings,\n  showControls = true,\n  draggable = true,\n  resizable = true,\n  size = 'medium',\n}: WidgetWrapperProps) {\n  const [isHovered, setIsHovered] = useState(false);\n\n  const sizeClasses = {\n    small: 'min-h-[200px]',\n    medium: 'min-h-[300px]',\n    large: 'min-h-[400px]',\n    full: 'h-full',\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent, action: () => void) => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault();\n      action();\n    }\n  };\n\n  return (\n    <motion.div\n      className={clsx(\n        'glass-card widget-enter',\n        sizeClasses[size],\n        className\n      )}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      layout\n      initial={{ scale: 0.95, opacity: 0 }}\n      animate={{ scale: 1, opacity: 1 }}\n      exit={{ scale: 0.95, opacity: 0 }}\n      transition={{ type: 'spring', stiffness: 300, damping: 20 }}\n      role=\"region\"\n      aria-labelledby={`widget-${id}-title`}\n    >\n      {/* Widget Header */}\n      <div className=\"flex items-center justify-between p-4 border-b border-white/10 dark:border-black/10\">\n        <div className=\"flex items-center space-x-2\">\n          {draggable && (\n            <motion.div\n              className=\"cursor-grab text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n              whileHover={{ scale: 1.1 }}\n              whileTap={{ scale: 0.9 }}\n            >\n              <GripVerticalIcon className=\"w-4 h-4\" />\n            </motion.div>\n          )}\n          <h3 \n            id={`widget-${id}-title`}\n            className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\"\n          >\n            {title}\n          </h3>\n        </div>\n\n        {/* Widget Controls */}\n        {showControls && (\n          <AnimatePresence>\n            {(isHovered || isCollapsed) && (\n              <motion.div\n                className=\"flex items-center space-x-1\"\n                initial={{ opacity: 0, scale: 0.8 }}\n                animate={{ opacity: 1, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.8 }}\n                transition={{ duration: 0.2 }}\n              >\n                {onSettings && (\n                  <motion.button\n                    onClick={onSettings}\n                    onKeyDown={(e) => handleKeyDown(e, onSettings)}\n                    className=\"p-1 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-white/10 dark:hover:bg-black/10 transition-colors duration-200\"\n                    whileHover={{ scale: 1.1 }}\n                    whileTap={{ scale: 0.9 }}\n                    aria-label={`Settings for ${title}`}\n                  >\n                    <SettingsIcon className=\"w-4 h-4\" />\n                  </motion.button>\n                )}\n                \n                {onToggle && (\n                  <motion.button\n                    onClick={onToggle}\n                    onKeyDown={(e) => handleKeyDown(e, onToggle)}\n                    className=\"p-1 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-white/10 dark:hover:bg-black/10 transition-colors duration-200\"\n                    whileHover={{ scale: 1.1 }}\n                    whileTap={{ scale: 0.9 }}\n                    aria-label={isCollapsed ? `Expand ${title}` : `Collapse ${title}`}\n                  >\n                    <MinusIcon className=\"w-4 h-4\" />\n                  </motion.button>\n                )}\n                \n                {onClose && (\n                  <motion.button\n                    onClick={onClose}\n                    onKeyDown={(e) => handleKeyDown(e, onClose)}\n                    className=\"p-1 rounded-md text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200\"\n                    whileHover={{ scale: 1.1 }}\n                    whileTap={{ scale: 0.9 }}\n                    aria-label={`Close ${title}`}\n                  >\n                    <XIcon className=\"w-4 h-4\" />\n                  </motion.button>\n                )}\n              </motion.div>\n            )}\n          </AnimatePresence>\n        )}\n      </div>\n\n      {/* Widget Content */}\n      <AnimatePresence mode=\"wait\">\n        {!isCollapsed && (\n          <motion.div\n            className=\"p-4 h-full overflow-auto custom-scrollbar\"\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            exit={{ opacity: 0, height: 0 }}\n            transition={{ duration: 0.3, ease: 'easeInOut' }}\n          >\n            {error ? (\n              <div className=\"flex items-center justify-center h-32\">\n                <div className=\"text-center\">\n                  <div className=\"text-red-500 dark:text-red-400 text-sm font-medium mb-2\">\n                    Error loading widget\n                  </div>\n                  <div className=\"text-gray-500 dark:text-gray-400 text-xs\">\n                    {error}\n                  </div>\n                </div>\n              </div>\n            ) : isLoading ? (\n              <div className=\"flex items-center justify-center h-32\">\n                <LoadingSpinner />\n              </div>\n            ) : (\n              children\n            )}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Resize Handle */}\n      {resizable && !isCollapsed && (\n        <div className=\"absolute bottom-0 right-0 w-4 h-4 cursor-se-resize opacity-0 hover:opacity-100 transition-opacity duration-200\">\n          <div className=\"w-full h-full bg-gray-400 dark:bg-gray-600 transform rotate-45 translate-x-2 translate-y-2\" />\n        </div>\n      )}\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///home/shri/web3Hackathon/DeStock/apps/web/components/DashboardGrid.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Panel, PanelGroup, PanelResizeHandle } from 'react-resizable-panels';\nimport { WidgetWrapper } from './WidgetWrapper';\n\ninterface Widget {\n  id: string;\n  title: string;\n  component: React.ReactNode;\n  defaultSize?: number;\n  minSize?: number;\n  collapsible?: boolean;\n}\n\ninterface DashboardGridProps {\n  widgets: Widget[];\n  layout?: 'grid' | 'tabs';\n  className?: string;\n}\n\nexport function DashboardGrid({ widgets, layout = 'grid', className = '' }: DashboardGridProps) {\n  const [isMobile, setIsMobile] = useState(false);\n  const [activeTab, setActiveTab] = useState(0);\n  const [collapsedWidgets, setCollapsedWidgets] = useState<Set<string>>(new Set());\n\n  useEffect(() => {\n    const checkIsMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n\n    checkIsMobile();\n    window.addEventListener('resize', checkIsMobile);\n    \n    return () => window.removeEventListener('resize', checkIsMobile);\n  }, []);\n\n  const toggleWidget = (widgetId: string) => {\n    const newCollapsed = new Set(collapsedWidgets);\n    if (newCollapsed.has(widgetId)) {\n      newCollapsed.delete(widgetId);\n    } else {\n      newCollapsed.add(widgetId);\n    }\n    setCollapsedWidgets(newCollapsed);\n  };\n\n  // Mobile layout - use tabs\n  if (isMobile || layout === 'tabs') {\n    return (\n      <div className={`space-y-4 ${className}`}>\n        {/* Tab Navigation */}\n        <div className=\"flex space-x-1 glass-card p-1 rounded-lg\">\n          {widgets.map((widget, index) => (\n            <motion.button\n              key={widget.id}\n              onClick={() => setActiveTab(index)}\n              className={`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${\n                activeTab === index\n                  ? 'bg-destock-primary text-white shadow-sm'\n                  : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\n              }`}\n              whileTap={{ scale: 0.98 }}\n            >\n              {widget.title}\n            </motion.button>\n          ))}\n        </div>\n\n        {/* Tab Content */}\n        <motion.div\n          key={activeTab}\n          initial={{ opacity: 0, x: 20 }}\n          animate={{ opacity: 1, x: 0 }}\n          exit={{ opacity: 0, x: -20 }}\n          transition={{ duration: 0.2 }}\n        >\n          <WidgetWrapper\n            title={widgets[activeTab].title}\n            id={widgets[activeTab].id}\n            onToggle={() => toggleWidget(widgets[activeTab].id)}\n            isCollapsed={collapsedWidgets.has(widgets[activeTab].id)}\n            showControls={false}\n          >\n            {widgets[activeTab].component}\n          </WidgetWrapper>\n        </motion.div>\n      </div>\n    );\n  }\n\n  // Desktop layout - use resizable panels\n  return (\n    <motion.div \n      className={`h-[calc(100vh-200px)] ${className}`}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={{ duration: 0.3 }}\n    >\n      <PanelGroup direction=\"horizontal\" className=\"space-x-4\">\n        {widgets.map((widget, index) => (\n          <Panel\n            key={widget.id}\n            defaultSize={widget.defaultSize || 50}\n            minSize={widget.minSize || 20}\n            collapsible={widget.collapsible}\n          >\n            <motion.div\n              className=\"h-full\"\n              initial={{ scale: 0.95, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              transition={{ delay: index * 0.1, duration: 0.3 }}\n            >\n              <WidgetWrapper\n                title={widget.title}\n                id={widget.id}\n                onToggle={() => toggleWidget(widget.id)}\n                isCollapsed={collapsedWidgets.has(widget.id)}\n                className=\"h-full\"\n              >\n                {!collapsedWidgets.has(widget.id) && widget.component}\n              </WidgetWrapper>\n            </motion.div>\n            \n            {/* Resize Handle */}\n            {index < widgets.length - 1 && (\n              <PanelResizeHandle className=\"w-4 flex items-center justify-center\">\n                <div className=\"w-1 h-8 bg-gray-300 dark:bg-gray-600 rounded-full hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors duration-200\" />\n              </PanelResizeHandle>\n            )}\n          </Panel>\n        ))}\n      </PanelGroup>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAsBO,SAAS,cAAc,EAAE,OAAO,EAAE,SAAS,MAAM,EAAE,YAAY,EAAE,EAAsB;;IAC5F,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe,IAAI;IAE1E,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,MAAM;yDAAgB;oBACpB,YAAY,OAAO,UAAU,GAAG;gBAClC;;YAEA;YACA,OAAO,gBAAgB,CAAC,UAAU;YAElC;2CAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;kCAAG,EAAE;IAEL,MAAM,eAAe,CAAC;QACpB,MAAM,eAAe,IAAI,IAAI;QAC7B,IAAI,aAAa,GAAG,CAAC,WAAW;YAC9B,aAAa,MAAM,CAAC;QACtB,OAAO;YACL,aAAa,GAAG,CAAC;QACnB;QACA,oBAAoB;IACtB;IAEA,2BAA2B;IAC3B,IAAI,YAAY,WAAW,QAAQ;QACjC,qBACE,6LAAC;YAAI,WAAW,CAAC,UAAU,EAAE,WAAW;;8BAEtC,6LAAC;oBAAI,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACpB,6LAAC,6LAAA,CAAA,SAAM,CAAC,MAAM;4BAEZ,SAAS,IAAM,aAAa;4BAC5B,WAAW,CAAC,4EAA4E,EACtF,cAAc,QACV,4CACA,iFACJ;4BACF,UAAU;gCAAE,OAAO;4BAAK;sCAEvB,OAAO,KAAK;2BATR,OAAO,EAAE;;;;;;;;;;8BAepB,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;oBAET,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,MAAM;wBAAE,SAAS;wBAAG,GAAG,CAAC;oBAAG;oBAC3B,YAAY;wBAAE,UAAU;oBAAI;8BAE5B,cAAA,6LAAC,8IAAA,CAAA,gBAAa;wBACZ,OAAO,OAAO,CAAC,UAAU,CAAC,KAAK;wBAC/B,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE;wBACzB,UAAU,IAAM,aAAa,OAAO,CAAC,UAAU,CAAC,EAAE;wBAClD,aAAa,iBAAiB,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;wBACvD,cAAc;kCAEb,OAAO,CAAC,UAAU,CAAC,SAAS;;;;;;mBAb1B;;;;;;;;;;;IAkBb;IAEA,wCAAwC;IACxC,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QACT,WAAW,CAAC,sBAAsB,EAAE,WAAW;QAC/C,SAAS;YAAE,SAAS;QAAE;QACtB,SAAS;YAAE,SAAS;QAAE;QACtB,YAAY;YAAE,UAAU;QAAI;kBAE5B,cAAA,6LAAC,iNAAA,CAAA,aAAU;YAAC,WAAU;YAAa,WAAU;sBAC1C,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACpB,6LAAC,iNAAA,CAAA,QAAK;oBAEJ,aAAa,OAAO,WAAW,IAAI;oBACnC,SAAS,OAAO,OAAO,IAAI;oBAC3B,aAAa,OAAO,WAAW;;sCAE/B,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;4BACT,WAAU;4BACV,SAAS;gCAAE,OAAO;gCAAM,SAAS;4BAAE;4BACnC,SAAS;gCAAE,OAAO;gCAAG,SAAS;4BAAE;4BAChC,YAAY;gCAAE,OAAO,QAAQ;gCAAK,UAAU;4BAAI;sCAEhD,cAAA,6LAAC,8IAAA,CAAA,gBAAa;gCACZ,OAAO,OAAO,KAAK;gCACnB,IAAI,OAAO,EAAE;gCACb,UAAU,IAAM,aAAa,OAAO,EAAE;gCACtC,aAAa,iBAAiB,GAAG,CAAC,OAAO,EAAE;gCAC3C,WAAU;0CAET,CAAC,iBAAiB,GAAG,CAAC,OAAO,EAAE,KAAK,OAAO,SAAS;;;;;;;;;;;wBAKxD,QAAQ,QAAQ,MAAM,GAAG,mBACxB,6LAAC,iNAAA,CAAA,oBAAiB;4BAAC,WAAU;sCAC3B,cAAA,6LAAC;gCAAI,WAAU;;;;;;;;;;;;mBAzBd,OAAO,EAAE;;;;;;;;;;;;;;;AAiC1B;GAlHgB;KAAA","debugId":null}},
    {"offset": {"line": 650, "column": 0}, "map": {"version":3,"sources":["file:///home/shri/web3Hackathon/DeStock/apps/web/lib/hooks/useDeStock.ts"],"sourcesContent":["import { useReadContract, useWriteContract, useAccount } from \"wagmi\";\nimport { getContractAddress, DESTOCK_ABI } from \"../contracts\";\nimport { parseEther, Address } from \"viem\";\n\nexport function useDeStock() {\n  const { chainId } = useAccount();\n  const destockAddress = getContractAddress(\"DESTOCK\", chainId ?? 31337);\n\n  const { data: nextCompanyId, refetch: refetchNextCompanyId } =\n    useReadContract({\n      abi: DESTOCK_ABI,\n      address: destockAddress,\n      functionName: \"nextCompanyId\",\n    });\n\n  const {\n    writeContractAsync: registerCompany,\n    isPending,\n    error,\n  } = useWriteContract();\n\n  const handleRegisterCompany = async (\n    name: string,\n    initialLiquidity: string,\n    totalSupply: string,\n    ipfsMetadataUri: string\n  ) => {\n    await registerCompany({\n      abi: DESTOCK_ABI,\n      address: destockAddress,\n      functionName: \"registerCompany\",\n      args: [\n        name,\n        BigInt(totalSupply),\n        parseEther(initialLiquidity),\n        ipfsMetadataUri,\n      ],\n    });\n    refetchNextCompanyId();\n  };\n\n  // Use 'companies' for company details\n  const getCompany = (companyId: number) => {\n    return useReadContract({\n      abi: DESTOCK_ABI,\n      address: destockAddress,\n      functionName: \"companies\",\n      args: [BigInt(companyId)],\n    });\n  };\n\n  const getSharePrice = (companyId: number) => {\n    return useReadContract({\n      abi: DESTOCK_ABI,\n      address: destockAddress,\n      functionName: \"getSharePrice\",\n      args: [BigInt(companyId)],\n    });\n  };\n\n  const getShareBalance = (companyId: number, userAddress: Address) => {\n    return useReadContract({\n      abi: DESTOCK_ABI,\n      address: destockAddress,\n      functionName: \"balanceOf\",\n      args: [userAddress, BigInt(companyId)],\n    });\n  };\n\n  const { writeContractAsync: buyShares } = useWriteContract();\n  const { writeContractAsync: sellShares } = useWriteContract();\n\n  return {\n    nextCompanyId: Number(nextCompanyId),\n    registerCompany: handleRegisterCompany,\n    isPending,\n    error,\n    getCompany,\n    getSharePrice,\n    getShareBalance,\n    buyShares,\n    sellShares,\n  };\n}\n"],"names":[],"mappings":";;;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;;;;;AAEO,SAAS;;;IACd,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,aAAU,AAAD;IAC7B,MAAM,iBAAiB,CAAA,GAAA,kJAAA,CAAA,qBAAkB,AAAD,EAAE,WAAW,WAAW;IAEhE,MAAM,EAAE,MAAM,aAAa,EAAE,SAAS,oBAAoB,EAAE,GAC1D,CAAA,GAAA,mKAAA,CAAA,kBAAe,AAAD,EAAE;QACd,KAAK,uIAAA,CAAA,cAAW;QAChB,SAAS;QACT,cAAc;IAChB;IAEF,MAAM,EACJ,oBAAoB,eAAe,EACnC,SAAS,EACT,KAAK,EACN,GAAG,CAAA,GAAA,oKAAA,CAAA,mBAAgB,AAAD;IAEnB,MAAM,wBAAwB,OAC5B,MACA,kBACA,aACA;QAEA,MAAM,gBAAgB;YACpB,KAAK,uIAAA,CAAA,cAAW;YAChB,SAAS;YACT,cAAc;YACd,MAAM;gBACJ;gBACA,OAAO;gBACP,CAAA,GAAA,8JAAA,CAAA,aAAU,AAAD,EAAE;gBACX;aACD;QACH;QACA;IACF;IAEA,sCAAsC;IACtC,MAAM,aAAa,CAAC;;QAClB,OAAO,CAAA,GAAA,mKAAA,CAAA,kBAAe,AAAD,EAAE;YACrB,KAAK,uIAAA,CAAA,cAAW;YAChB,SAAS;YACT,cAAc;YACd,MAAM;gBAAC,OAAO;aAAW;QAC3B;IACF;QAPM;;YACG,mKAAA,CAAA,kBAAe;;;IAQxB,MAAM,gBAAgB,CAAC;;QACrB,OAAO,CAAA,GAAA,mKAAA,CAAA,kBAAe,AAAD,EAAE;YACrB,KAAK,uIAAA,CAAA,cAAW;YAChB,SAAS;YACT,cAAc;YACd,MAAM;gBAAC,OAAO;aAAW;QAC3B;IACF;QAPM;;YACG,mKAAA,CAAA,kBAAe;;;IAQxB,MAAM,kBAAkB,CAAC,WAAmB;;QAC1C,OAAO,CAAA,GAAA,mKAAA,CAAA,kBAAe,AAAD,EAAE;YACrB,KAAK,uIAAA,CAAA,cAAW;YAChB,SAAS;YACT,cAAc;YACd,MAAM;gBAAC;gBAAa,OAAO;aAAW;QACxC;IACF;QAPM;;YACG,mKAAA,CAAA,kBAAe;;;IAQxB,MAAM,EAAE,oBAAoB,SAAS,EAAE,GAAG,CAAA,GAAA,oKAAA,CAAA,mBAAgB,AAAD;IACzD,MAAM,EAAE,oBAAoB,UAAU,EAAE,GAAG,CAAA,GAAA,oKAAA,CAAA,mBAAgB,AAAD;IAE1D,OAAO;QACL,eAAe,OAAO;QACtB,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GA/EgB;;QACM,8JAAA,CAAA,aAAU;QAI5B,mKAAA,CAAA,kBAAe;QAUb,oKAAA,CAAA,mBAAgB;QAkDsB,oKAAA,CAAA,mBAAgB;QACf,oKAAA,CAAA,mBAAgB","debugId":null}},
    {"offset": {"line": 771, "column": 0}, "map": {"version":3,"sources":["file:///home/shri/web3Hackathon/DeStock/apps/web/components/AnimatedCounter.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { motion, useSpring, useTransform } from 'framer-motion';\n\ninterface AnimatedCounterProps {\n  value: number;\n  format?: 'currency' | 'percentage' | 'decimal' | 'integer';\n  decimals?: number;\n  prefix?: string;\n  suffix?: string;\n  duration?: number;\n  className?: string;\n  colorChange?: boolean;\n  previousValue?: number;\n}\n\nexport function AnimatedCounter({\n  value,\n  format = 'decimal',\n  decimals = 2,\n  prefix = '',\n  suffix = '',\n  duration = 0.5,\n  className = '',\n  colorChange = false,\n  previousValue,\n}: AnimatedCounterProps) {\n  const [displayValue, setDisplayValue] = useState(value);\n  const [isChanging, setIsChanging] = useState(false);\n\n  const springValue = useSpring(value, {\n    stiffness: 100,\n    damping: 15,\n  });\n\n  const displayNumber = useTransform(springValue, (latest) => {\n    let formatted: string;\n    \n    switch (format) {\n      case 'currency':\n        formatted = new Intl.NumberFormat('en-US', {\n          style: 'currency',\n          currency: 'USD',\n          minimumFractionDigits: decimals,\n          maximumFractionDigits: decimals,\n        }).format(latest);\n        break;\n      case 'percentage':\n        formatted = `${latest.toFixed(decimals)}%`;\n        break;\n      case 'integer':\n        formatted = Math.round(latest).toLocaleString();\n        break;\n      case 'decimal':\n      default:\n        formatted = latest.toFixed(decimals);\n        break;\n    }\n\n    return `${prefix}${formatted}${suffix}`;\n  });\n\n  useEffect(() => {\n    if (value !== displayValue) {\n      setIsChanging(true);\n      springValue.set(value);\n      setDisplayValue(value);\n      \n      const timer = setTimeout(() => {\n        setIsChanging(false);\n      }, duration * 1000);\n\n      return () => clearTimeout(timer);\n    }\n  }, [value, displayValue, springValue, duration]);\n\n  const getChangeColor = () => {\n    if (!colorChange || previousValue === undefined) return '';\n    \n    if (value > previousValue) return 'text-success';\n    if (value < previousValue) return 'text-danger';\n    return '';\n  };\n\n  return (\n    <motion.span\n      className={`number-counter ${getChangeColor()} ${className}`}\n      animate={isChanging ? {\n        scale: [1, 1.05, 1],\n      } : {}}\n      transition={{\n        type: 'tween',\n        duration: 0.3,\n        ease: 'easeInOut'\n      }}\n      aria-live=\"polite\"\n    >\n      {displayNumber}\n    </motion.span>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;;;AAHA;;;AAiBO,SAAS,gBAAgB,EAC9B,KAAK,EACL,SAAS,SAAS,EAClB,WAAW,CAAC,EACZ,SAAS,EAAE,EACX,SAAS,EAAE,EACX,WAAW,GAAG,EACd,YAAY,EAAE,EACd,cAAc,KAAK,EACnB,aAAa,EACQ;;IACrB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,cAAc,CAAA,GAAA,4KAAA,CAAA,YAAS,AAAD,EAAE,OAAO;QACnC,WAAW;QACX,SAAS;IACX;IAEA,MAAM,gBAAgB,CAAA,GAAA,+KAAA,CAAA,eAAY,AAAD,EAAE;uDAAa,CAAC;YAC/C,IAAI;YAEJ,OAAQ;gBACN,KAAK;oBACH,YAAY,IAAI,KAAK,YAAY,CAAC,SAAS;wBACzC,OAAO;wBACP,UAAU;wBACV,uBAAuB;wBACvB,uBAAuB;oBACzB,GAAG,MAAM,CAAC;oBACV;gBACF,KAAK;oBACH,YAAY,GAAG,OAAO,OAAO,CAAC,UAAU,CAAC,CAAC;oBAC1C;gBACF,KAAK;oBACH,YAAY,KAAK,KAAK,CAAC,QAAQ,cAAc;oBAC7C;gBACF,KAAK;gBACL;oBACE,YAAY,OAAO,OAAO,CAAC;oBAC3B;YACJ;YAEA,OAAO,GAAG,SAAS,YAAY,QAAQ;QACzC;;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,IAAI,UAAU,cAAc;gBAC1B,cAAc;gBACd,YAAY,GAAG,CAAC;gBAChB,gBAAgB;gBAEhB,MAAM,QAAQ;uDAAW;wBACvB,cAAc;oBAChB;sDAAG,WAAW;gBAEd;iDAAO,IAAM,aAAa;;YAC5B;QACF;oCAAG;QAAC;QAAO;QAAc;QAAa;KAAS;IAE/C,MAAM,iBAAiB;QACrB,IAAI,CAAC,eAAe,kBAAkB,WAAW,OAAO;QAExD,IAAI,QAAQ,eAAe,OAAO;QAClC,IAAI,QAAQ,eAAe,OAAO;QAClC,OAAO;IACT;IAEA,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,IAAI;QACV,WAAW,CAAC,eAAe,EAAE,iBAAiB,CAAC,EAAE,WAAW;QAC5D,SAAS,aAAa;YACpB,OAAO;gBAAC;gBAAG;gBAAM;aAAE;QACrB,IAAI,CAAC;QACL,YAAY;YACV,MAAM;YACN,UAAU;YACV,MAAM;QACR;QACA,aAAU;kBAET;;;;;;AAGP;GApFgB;;QAcM,4KAAA,CAAA,YAAS;QAKP,+KAAA,CAAA,eAAY;;;KAnBpB","debugId":null}},
    {"offset": {"line": 886, "column": 0}, "map": {"version":3,"sources":["file:///home/shri/web3Hackathon/DeStock/apps/web/lib/api.ts"],"sourcesContent":["// API utility for backend requests\nexport async function fetchShareholderBalance(\n  companyId: number,\n  address: string\n): Promise<number> {\n  const res = await fetch(\n    `${process.env.NEXT_PUBLIC_BACKEND_URL || \"http://localhost:3000\"}/shareholders/${companyId}`\n  );\n  if (!res.ok) return 0;\n  const data = await res.json();\n  const shareholder = data.find(\n    (s: any) => s.address.toLowerCase() === address.toLowerCase()\n  );\n  return shareholder ? shareholder.balance : 0;\n}\n"],"names":[],"mappings":"AAAA,mCAAmC;;;;AAM5B;AALA,eAAe,wBACpB,SAAiB,EACjB,OAAe;IAEf,MAAM,MAAM,MAAM,MAChB,GAAG,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,uBAAuB,IAAI,wBAAwB,cAAc,EAAE,WAAW;IAE/F,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;IACpB,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,MAAM,cAAc,KAAK,IAAI,CAC3B,CAAC,IAAW,EAAE,OAAO,CAAC,WAAW,OAAO,QAAQ,WAAW;IAE7D,OAAO,cAAc,YAAY,OAAO,GAAG;AAC7C","debugId":null}},
    {"offset": {"line": 907, "column": 0}, "map": {"version":3,"sources":["file:///home/shri/web3Hackathon/DeStock/apps/web/components/TradeView.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useDeStock } from \"@/lib/hooks/useDeStock\";\nimport { useDSTK } from \"@/lib/hooks/useDSTK\";\nimport {\n  useAccount,\n  usePublicClient,\n  useReadContract,\n  useWriteContract,\n} from \"wagmi\";\nimport {\n  ShoppingCartIcon,\n  DollarSignIcon,\n  TrendingUpIcon,\n  TrendingDownIcon,\n  AlertCircleIcon,\n} from \"lucide-react\";\nimport { AnimatedCounter } from \"./AnimatedCounter\";\nimport { LoadingSpinner } from \"./LoadingSpinner\";\nimport {\n  getContractAddress,\n  DESTOCK_ABI,\n  DSTK_TOKEN_ABI,\n} from \"@/lib/contracts\";\nimport { formatUnits } from \"viem\";\nimport { fetchShareholderBalance } from \"@/lib/api\";\n\nconst schema = z.object({\n  companyId: z.string().min(1, \"Please select a company\"),\n  amount: z.string().min(1, \"Amount is required\"),\n});\n\ntype FormData = z.infer<typeof schema>;\n\ninterface Company {\n  id: number;\n  name: string;\n  price: string;\n  owner?: string;\n  totalSupply?: string;\n  ipfsMetadataUri?: string;\n}\n\nexport function TradeView() {\n  const { address, chainId, isConnected } = useAccount();\n  const {\n    buyShares,\n    sellShares,\n    getSharePrice,\n    getShareBalance,\n    nextCompanyId,\n    isPending,\n    error,\n  } = useDeStock();\n  const { balance } = useDSTK();\n  const [companies, setCompanies] = useState<Company[]>([]);\n  const [selectedCompany, setSelectedCompany] = useState<Company | null>(null);\n  const [tradeType, setTradeType] = useState<\"buy\" | \"sell\">(\"buy\");\n  const [userShares, setUserShares] = useState<string>(\"0\");\n  const [loading, setLoading] = useState(false);\n  const [mounted, setMounted] = useState(false);\n  const publicClient = usePublicClient();\n\n  // Fix hydration by ensuring client-side rendering only after mount\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    watch,\n    setValue,\n    reset,\n  } = useForm<FormData>({\n    resolver: zodResolver(schema),\n  });\n\n  const watchedCompanyId = watch(\"companyId\");\n  const watchedAmount = watch(\"amount\");\n\n  // Fetch companies from contract (safe, not using hooks in a loop)\n  const loadCompanies = useCallback(async () => {\n    try {\n      if (!publicClient) return setCompanies([]);\n      const companiesData: Company[] = [];\n      for (let i = 0; i < nextCompanyId; i++) {\n        // Fetch company struct\n        const companyData: any = await publicClient.readContract({\n          abi: DESTOCK_ABI,\n          address: getContractAddress(\"DESTOCK\", chainId ?? 31337),\n          functionName: \"companies\",\n          args: [BigInt(i)],\n        });\n        let name = companyData?.[1] || \"\";\n        let owner = companyData?.[2] || \"\";\n        let totalSupply = companyData?.[3]?.toString() || \"\";\n        let ipfsMetadataUri = companyData?.[6] || \"\";\n        // Fetch price\n        let price = \"0\";\n        try {\n          const priceData: any = await publicClient.readContract({\n            abi: DESTOCK_ABI,\n            address: getContractAddress(\"DESTOCK\", chainId ?? 31337),\n            functionName: \"getSharePrice\",\n            args: [BigInt(i)],\n          });\n          if (priceData) price = formatUnits(priceData, 18);\n        } catch {}\n        companiesData.push({\n          id: i,\n          name,\n          price,\n          owner,\n          totalSupply,\n          ipfsMetadataUri,\n        });\n      }\n      setCompanies(companiesData);\n    } catch (error) {\n      console.error(\"Failed to load companies:\", error);\n      setCompanies([]);\n    }\n  }, [publicClient, chainId, nextCompanyId]);\n\n  // Fetch companies when connected or nextCompanyId changes\n  useEffect(() => {\n    if (isConnected && nextCompanyId > 0) {\n      loadCompanies();\n    } else {\n      setCompanies([]);\n    }\n  }, [isConnected, nextCompanyId, loadCompanies]);\n\n  // Fetch user share balance for selected company (use publicClient)\n  const loadUserShares = useCallback(\n    async (companyId: number) => {\n      try {\n        if (!address || !publicClient) return setUserShares(\"0\");\n        const shareResult = await publicClient.readContract({\n          abi: DESTOCK_ABI,\n          address: getContractAddress(\"DESTOCK\", chainId ?? 31337),\n          functionName: \"balanceOf\",\n          args: [address, BigInt(companyId)],\n        });\n        if (shareResult) {\n          setUserShares(formatUnits(shareResult, 0));\n        } else {\n          setUserShares(\"0\");\n        }\n      } catch (error) {\n        console.error(\"Failed to load user shares:\", error);\n        setUserShares(\"0\");\n      }\n    },\n    [address, publicClient, chainId]\n  );\n\n  // Update selected company and user shares when companies or selection changes\n  useEffect(() => {\n    if (watchedCompanyId && companies.length > 0) {\n      const company = companies.find(\n        (c) => c.id.toString() === watchedCompanyId\n      );\n      if (company) {\n        setSelectedCompany(company);\n        loadUserShares(company.id);\n      } else {\n        setSelectedCompany(null);\n        setUserShares(\"0\");\n      }\n    } else {\n      setSelectedCompany(null);\n      setUserShares(\"0\");\n    }\n  }, [watchedCompanyId, companies, loadUserShares]);\n\n  // Dynamically update userShares ONLY when selectedCompany, address, or chainId changes (from backend)\n  useEffect(() => {\n    if (selectedCompany && address) {\n      (async () => {\n        try {\n          const balance = await fetchShareholderBalance(\n            selectedCompany.id,\n            address\n          );\n          setUserShares(balance.toString());\n        } catch (error) {\n          setUserShares(\"0\");\n        }\n      })();\n    } else {\n      setUserShares(\"0\");\n    }\n  }, [selectedCompany, address, chainId]);\n\n  const calculateCost = () => {\n    if (!selectedCompany || !watchedAmount) return \"0\";\n    return (\n      parseFloat(selectedCompany.price) * parseFloat(watchedAmount)\n    ).toFixed(2);\n  };\n\n  const onSubmit = async (data: FormData) => {\n    if (!selectedCompany) return;\n\n    setLoading(true);\n    try {\n      const destockAddress = getContractAddress(\"DESTOCK\", chainId ?? 31337);\n      if (tradeType === \"buy\") {\n        await buyShares({\n          abi: DESTOCK_ABI,\n          address: destockAddress,\n          functionName: \"buyShares\",\n          args: [BigInt(selectedCompany.id), BigInt(data.amount)],\n        });\n      } else {\n        await sellShares({\n          abi: DESTOCK_ABI,\n          address: destockAddress,\n          functionName: \"sellShares\",\n          args: [BigInt(selectedCompany.id), BigInt(data.amount)],\n        });\n      }\n      reset();\n    } catch (error) {\n      console.error(\"Trade failed:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const canTrade = () => {\n    if (!selectedCompany || !watchedAmount) return false;\n\n    const amount = parseFloat(watchedAmount);\n    if (amount <= 0) return false;\n\n    if (tradeType === \"buy\") {\n      const cost = parseFloat(calculateCost());\n      return parseFloat(balance) >= cost;\n    } else {\n      return parseFloat(userShares) >= amount;\n    }\n  };\n\n  const dstkTokenAddress = getContractAddress(\"DSTK_TOKEN\", chainId ?? 31337);\n  // Fetch DSTK allowance\n  const { data: allowance, refetch: refetchAllowance } = useReadContract({\n    abi: DSTK_TOKEN_ABI,\n    address: dstkTokenAddress,\n    functionName: \"allowance\",\n    args: [address!, getContractAddress(\"DESTOCK\", chainId ?? 31337)],\n    query: { enabled: !!address },\n  });\n  // Write contract for approve\n  const { writeContractAsync: approveDSTK, isPending: isApproving } =\n    useWriteContract();\n\n  // Helper: check if allowance is enough for buy\n  const safeAddress = address || \"0x0000000000000000000000000000000000000000\";\n  const safeChainId = chainId ?? 31337;\n  const safeSelectedCompany = selectedCompany || {\n    id: 0,\n    name: \"\",\n    price: \"0\",\n  };\n  const safeWatchedAmount = watchedAmount || \"0\";\n\n  const buyAmountDSTK =\n    safeSelectedCompany && safeWatchedAmount\n      ? BigInt(\n          Math.floor(\n            Number(safeSelectedCompany.price) * Number(safeWatchedAmount) * 1e18\n          )\n        )\n      : BigInt(0);\n  const hasEnoughAllowance =\n    allowance && buyAmountDSTK > BigInt(0)\n      ? BigInt(allowance) >= buyAmountDSTK\n      : false;\n\n  // Approve handler\n  const handleApprove = async () => {\n    if (!address || !dstkTokenAddress) return;\n    try {\n      await approveDSTK({\n        abi: DSTK_TOKEN_ABI,\n        address: dstkTokenAddress,\n        functionName: \"approve\",\n        args: [getContractAddress(\"DESTOCK\", chainId ?? 31337), buyAmountDSTK],\n      });\n      refetchAllowance();\n    } catch (err) {\n      alert(\"Approval failed. See console for details.\");\n      console.error(err);\n    }\n  };\n\n  // Debug logging\n  console.log(\"TradeView Debug:\", {\n    tradeType,\n    canTrade: canTrade(),\n    hasEnoughAllowance,\n    selectedCompany: !!selectedCompany,\n    watchedAmount,\n    isPending,\n    loading,\n    buyAmountDSTK: buyAmountDSTK.toString(),\n    allowance: allowance?.toString(),\n    balance,\n    userShares,\n  });\n\n  if (!isConnected) {\n    return (\n      <div className=\"trading-card text-center\">\n        <ShoppingCartIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n        <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">\n          Connect Your Wallet\n        </h3>\n        <p className=\"text-gray-600 dark:text-gray-400\">\n          Connect your wallet to start trading shares.\n        </p>\n      </div>\n    );\n  }\n\n  // Render simple version before hydration to prevent mismatch\n  if (!mounted) {\n    return (\n      <div className=\"trading-card text-center\">\n        <ShoppingCartIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n        <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">\n          Trade Shares\n        </h3>\n        <p className=\"text-gray-600 dark:text-gray-400\">\n          Loading trading interface...\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      className=\"glass-card p-8\"\n      initial={{ opacity: 0, scale: 0.95 }}\n      animate={{ opacity: 1, scale: 1 }}\n      transition={{ duration: 0.3 }}\n      suppressHydrationWarning={true}\n    >\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <motion.h3\n          className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\"\n          initial={{ opacity: 0, x: -20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ delay: 0.1 }}\n        >\n          Trade Shares\n        </motion.h3>\n\n        {/* Buy/Sell Toggle */}\n        <motion.div\n          className=\"flex glass-button rounded-lg p-1\"\n          initial={{ opacity: 0, x: 20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ delay: 0.1 }}\n        >\n          <motion.button\n            onClick={() => setTradeType(\"buy\")}\n            className={`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${\n              tradeType === \"buy\"\n                ? \"bg-success text-white shadow-sm\"\n                : \"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200\"\n            }`}\n            whileTap={{ scale: 0.95 }}\n          >\n            <div className=\"flex items-center space-x-1\">\n              <TrendingUpIcon className=\"w-4 h-4\" />\n              <span>Buy</span>\n            </div>\n          </motion.button>\n          <motion.button\n            onClick={() => setTradeType(\"sell\")}\n            className={`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${\n              tradeType === \"sell\"\n                ? \"bg-danger text-white shadow-sm\"\n                : \"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200\"\n            }`}\n            whileTap={{ scale: 0.95 }}\n          >\n            <div className=\"flex items-center space-x-1\">\n              <TrendingDownIcon className=\"w-4 h-4\" />\n              <span>Sell</span>\n            </div>\n          </motion.button>\n        </motion.div>\n      </div>\n\n      <motion.form\n        onSubmit={handleSubmit(onSubmit)}\n        className=\"space-y-6\"\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.2 }}\n      >\n        {/* Company Selection */}\n        <motion.div\n          initial={{ opacity: 0, x: -20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ delay: 0.3 }}\n        >\n          <label className=\"destock-label\" htmlFor=\"companyId\">\n            Select Company\n          </label>\n          <select\n            {...register(\"companyId\")}\n            id=\"companyId\"\n            className=\"destock-input\"\n          >\n            <option value=\"\">Choose a company</option>\n            {companies.map((company) => (\n              <option key={company.id} value={company.id.toString()}>\n                {company.name} - {company.price} DSTK\n              </option>\n            ))}\n          </select>\n          <AnimatePresence>\n            {errors.companyId && (\n              <motion.p\n                className=\"mt-1 text-sm text-danger flex items-center space-x-1\"\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n              >\n                <AlertCircleIcon className=\"w-4 h-4\" />\n                <span>{errors.companyId.message}</span>\n              </motion.p>\n            )}\n          </AnimatePresence>\n        </motion.div>\n\n        {/* Company Info Card */}\n        <AnimatePresence>\n          {selectedCompany && (\n            <motion.div\n              className=\"glass-card p-4\"\n              initial={{ opacity: 0, scale: 0.95, y: 20 }}\n              animate={{ opacity: 1, scale: 1, y: 0 }}\n              exit={{ opacity: 0, scale: 0.95, y: -20 }}\n              transition={{ type: \"spring\", stiffness: 300, damping: 25 }}\n            >\n              <div className=\"flex items-center justify-between mb-3\">\n                <span className=\"text-sm font-semibold text-gray-900 dark:text-gray-100\">\n                  {selectedCompany.name}\n                </span>\n                <motion.span\n                  className=\"text-lg font-bold text-destock-primary\"\n                  key={selectedCompany.price} // Trigger animation on price change\n                  initial={{ scale: 1.2, color: \"#10B981\" }}\n                  animate={{ scale: 1, color: \"#3B82F6\" }}\n                  transition={{ duration: 0.3 }}\n                >\n                  <AnimatedCounter\n                    value={parseFloat(selectedCompany.price)}\n                    suffix=\" DSTK\"\n                    decimals={2}\n                  />\n                </motion.span>\n              </div>\n              <div className=\"text-sm text-gray-600 dark:text-gray-400 flex items-center justify-between\">\n                <span>Your Holdings:</span>\n                <AnimatedCounter\n                  value={parseFloat(userShares)}\n                  suffix=\" shares\"\n                  decimals={0}\n                  className=\"font-medium\"\n                />\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Amount Input */}\n        <motion.div\n          initial={{ opacity: 0, x: -20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ delay: 0.4 }}\n        >\n          <label className=\"destock-label\" htmlFor=\"amount\">\n            Amount\n          </label>\n          <input\n            {...register(\"amount\")}\n            type=\"number\"\n            step=\"1\"\n            min=\"1\"\n            id=\"amount\"\n            className=\"destock-input\"\n            placeholder=\"Number of shares\"\n          />\n          <AnimatePresence>\n            {errors.amount && (\n              <motion.p\n                className=\"mt-1 text-sm text-danger flex items-center space-x-1\"\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n              >\n                <AlertCircleIcon className=\"w-4 h-4\" />\n                <span>{errors.amount.message}</span>\n              </motion.p>\n            )}\n          </AnimatePresence>\n        </motion.div>\n\n        {/* Transaction Summary */}\n        <AnimatePresence>\n          {selectedCompany && watchedAmount && (\n            <motion.div\n              className=\"glass-card p-4\"\n              initial={{ opacity: 0, scale: 0.95 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.95 }}\n              transition={{ type: \"spring\", stiffness: 300, damping: 25 }}\n            >\n              <h4 className=\"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center space-x-2\">\n                <DollarSignIcon className=\"w-4 h-4\" />\n                <span>Transaction Summary</span>\n              </h4>\n              <div className=\"space-y-2 text-sm text-gray-600 dark:text-gray-400\">\n                <div className=\"flex justify-between\">\n                  <span>Shares:</span>\n                  <span className=\"font-medium\">{watchedAmount}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Price per share:</span>\n                  <span className=\"font-medium\">\n                    {selectedCompany.price} DSTK\n                  </span>\n                </div>\n                <div className=\"flex justify-between font-semibold border-t border-white/10 dark:border-black/10 pt-2 text-gray-900 dark:text-gray-100\">\n                  <span>\n                    Total {tradeType === \"buy\" ? \"Cost\" : \"Proceeds\"}:\n                  </span>\n                  <AnimatedCounter\n                    value={parseFloat(calculateCost())}\n                    suffix=\" DSTK\"\n                    decimals={2}\n                    className={\n                      tradeType === \"buy\" ? \"text-danger\" : \"text-success\"\n                    }\n                  />\n                </div>\n              </div>\n              {tradeType === \"buy\" && (\n                <div className=\"mt-3 text-xs text-gray-500 dark:text-gray-400 flex items-center justify-between\">\n                  <span>Your DSTK Balance:</span>\n                  <AnimatedCounter\n                    value={parseFloat(balance || \"0\")}\n                    suffix=\" DSTK\"\n                    decimals={2}\n                    className=\"font-medium\"\n                  />\n                </div>\n              )}\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* FIXED: Approve/Submit Button Area */}\n        <div className=\"flex flex-col gap-3 mt-6\">\n          {/* Approve Button - Only show when needed for buy trades */}\n          {tradeType === \"buy\" &&\n            selectedCompany &&\n            watchedAmount &&\n            !hasEnoughAllowance &&\n            buyAmountDSTK > 0n && (\n              <motion.button\n                type=\"button\"\n                onClick={handleApprove}\n                disabled={isApproving}\n                className=\"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2\"\n                whileHover={{ scale: 1.02 }}\n                whileTap={{ scale: 0.98 }}\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.5 }}\n              >\n                {isApproving && <LoadingSpinner size=\"small\" />}\n                <span>{isApproving ? \"Approving...\" : \"Approve DSTK\"}</span>\n              </motion.button>\n            )}\n\n          {/* Main Trade Button - Always visible when there's a selected company */}\n          {selectedCompany && (\n            <motion.button\n              type=\"submit\"\n              disabled={\n                !canTrade() ||\n                isPending ||\n                loading ||\n                (tradeType === \"buy\" && !hasEnoughAllowance)\n              }\n              className={`w-full flex items-center justify-center space-x-2 py-3 px-4 rounded-md font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${\n                tradeType === \"buy\"\n                  ? \"bg-green-600 hover:bg-green-700 text-white shadow-lg\"\n                  : \"bg-red-600 hover:bg-red-700 text-white shadow-lg\"\n              }`}\n              whileHover={{ scale: 1.02 }}\n              whileTap={{ scale: 0.98 }}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.6 }}\n            >\n              {isPending || loading ? (\n                <LoadingSpinner size=\"small\" />\n              ) : tradeType === \"buy\" ? (\n                <TrendingUpIcon className=\"w-5 h-5\" />\n              ) : (\n                <TrendingDownIcon className=\"w-5 h-5\" />\n              )}\n              <span>\n                {isPending || loading\n                  ? \"Processing...\"\n                  : !canTrade()\n                    ? tradeType === \"buy\"\n                      ? \"Insufficient Balance\"\n                      : \"Insufficient Shares\"\n                    : tradeType === \"buy\" && !hasEnoughAllowance\n                      ? \"Need Approval First\"\n                      : `${tradeType === \"buy\" ? \"Buy\" : \"Sell\"} Shares`}\n              </span>\n            </motion.button>\n          )}\n        </div>\n      </motion.form>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2047, "column": 0}, "map": {"version":3,"sources":["file:///home/shri/web3Hackathon/DeStock/apps/web/components/CompanyList.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useDeStock } from \"@/lib/hooks/useDeStock\";\nimport { useAccount } from \"wagmi\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport {\n  TrendingUpIcon,\n  TrendingDownIcon,\n  BuildingIcon,\n  SearchIcon,\n  SortAscIcon,\n  FilterIcon,\n} from \"lucide-react\";\nimport { AnimatedCounter } from \"./AnimatedCounter\";\nimport { LoadingSpinner } from \"./LoadingSpinner\";\nimport { SkeletonLoader } from \"./SkeletonLoader\";\nimport { formatUnits } from \"viem\";\n\ninterface Company {\n  id: number;\n  name: string;\n  symbol?: string;\n  owner: string;\n  totalSupply: string;\n  currentPrice?: string;\n  change?: number;\n  changePercent?: number;\n  volume?: number;\n  marketCap?: number;\n  sector?: string;\n}\n\ntype SortField = \"name\" | \"currentPrice\" | \"change\" | \"volume\" | \"marketCap\";\ntype SortDirection = \"asc\" | \"desc\";\n\nexport function CompanyList() {\n  const { isConnected } = useAccount();\n  const { nextCompanyId, getCompany, getSharePrice } = useDeStock();\n  const router = useRouter();\n  const [companies, setCompanies] = useState<Company[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [sortField, setSortField] = useState<SortField>(\"marketCap\");\n  const [sortDirection, setSortDirection] = useState<SortDirection>(\"desc\");\n  const [selectedSector, setSelectedSector] = useState<string>(\"\");\n\n  useEffect(() => {\n    if (isConnected && nextCompanyId > 0) {\n      loadCompanies();\n    }\n  }, [isConnected, nextCompanyId]);\n\n  const loadCompanies = async () => {\n    setLoading(true);\n    const companyPromises = [];\n    for (let i = 0; i < nextCompanyId; i++) {\n      companyPromises.push(loadCompanyData(i));\n    }\n    const loadedCompanies = await Promise.all(companyPromises);\n    setCompanies(loadedCompanies.filter((c) => c !== null) as Company[]);\n    setLoading(false);\n  };\n\n  const loadCompanyData = async (id: number): Promise<Company | null> => {\n    try {\n      const companyResult = await getCompany(id);\n      const companyData = companyResult?.data;\n      const priceResult = await getSharePrice(id);\n      const priceData = priceResult?.data;\n\n      // Defensive mapping from contract result to Company interface\n      function mapCompany(raw: any): Company | null {\n        if (\n          Array.isArray(raw) &&\n          raw.length >= 5 &&\n          typeof raw[0] === \"bigint\" &&\n          typeof raw[1] === \"string\" &&\n          typeof raw[2] === \"string\" &&\n          typeof raw[3] === \"bigint\" &&\n          typeof raw[4] === \"bigint\"\n        ) {\n          return {\n            id,\n            name: raw[1],\n            owner: raw[2],\n            totalSupply: formatUnits(raw[4], 0),\n            currentPrice: priceData ? formatUnits(priceData, 18) : undefined,\n          };\n        }\n        return null;\n      }\n\n      return mapCompany(companyData);\n    } catch (error) {\n      console.error(`Failed to load company ${id}:`, error);\n      return null;\n    }\n  };\n\n  const handleSort = (field: SortField) => {\n    if (sortField === field) {\n      setSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\");\n    } else {\n      setSortField(field);\n      setSortDirection(\"desc\");\n    }\n  };\n\n  const sortedAndFilteredCompanies = companies\n    .filter((company) => {\n      const matchesSearch =\n        company.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        (company.symbol &&\n          company.symbol.toLowerCase().includes(searchTerm.toLowerCase()));\n      const matchesSector =\n        !selectedSector || company.sector === selectedSector;\n      return matchesSearch && matchesSector;\n    })\n    .sort((a, b) => {\n      let aValue: any, bValue: any;\n\n      switch (sortField) {\n        case \"name\":\n          aValue = a.name;\n          bValue = b.name;\n          break;\n        case \"currentPrice\":\n          aValue = parseFloat(a.currentPrice || \"0\");\n          bValue = parseFloat(b.currentPrice || \"0\");\n          break;\n        case \"change\":\n          aValue = a.change || 0;\n          bValue = b.change || 0;\n          break;\n        case \"volume\":\n          aValue = a.volume || 0;\n          bValue = b.volume || 0;\n          break;\n        case \"marketCap\":\n          aValue = a.marketCap || 0;\n          bValue = b.marketCap || 0;\n          break;\n        default:\n          return 0;\n      }\n\n      if (typeof aValue === \"string\") {\n        return sortDirection === \"asc\"\n          ? aValue.localeCompare(bValue)\n          : bValue.localeCompare(aValue);\n      }\n\n      return sortDirection === \"asc\" ? aValue - bValue : bValue - aValue;\n    });\n\n  const uniqueSectors = Array.from(\n    new Set(companies.map((c) => c.sector).filter(Boolean))\n  );\n\n  const formatAddress = (address: string) => {\n    return `${address.slice(0, 6)}...${address.slice(-4)}`;\n  };\n\n  const formatNumber = (num: number) => {\n    if (num >= 1e9) return `${(num / 1e9).toFixed(1)}B`;\n    if (num >= 1e6) return `${(num / 1e6).toFixed(1)}M`;\n    if (num >= 1e3) return `${(num / 1e3).toFixed(1)}K`;\n    return num.toString();\n  };\n\n  if (!isConnected) {\n    return (\n      <div className=\"destock-card text-center py-8\">\n        <BuildingIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n          Connect Your Wallet\n        </h3>\n        <p className=\"text-gray-600\">\n          Connect your wallet to view listed companies.\n        </p>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"space-y-4\">\n        {[...Array(3)].map((_, i) => (\n          <div key={i} className=\"destock-card animate-pulse\">\n            <div className=\"p-4\">\n              <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-1/2 mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-1/4\"></div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (companies.length === 0) {\n    return (\n      <div className=\"destock-card text-center py-8\">\n        <BuildingIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n          No Companies Listed\n        </h3>\n        <p className=\"text-gray-600 mb-4\">\n          Be the first to register your company on DeStock!\n        </p>\n        <Link\n          href=\"/register\"\n          className=\"destock-button-primary inline-flex items-center\"\n        >\n          Register Company\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      className=\"glass-card p-6\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5, delay: 0.1 }}\n    >\n      <h2 className=\"text-2xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\n        Market Overview\n      </h2>\n\n      {/* Search and Filter Controls */}\n      <motion.div\n        className=\"mb-6 space-y-4\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.2 }}\n      >\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          <div className=\"relative flex-1\">\n            <input\n              type=\"text\"\n              placeholder=\"Search companies or symbols...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full p-3 pl-10 rounded-xl bg-gray-800/50 border border-gray-700/50 \n                       text-white placeholder-gray-400 focus:outline-none focus:ring-2 \n                       focus:ring-blue-500/50 transition-all duration-200\"\n            />\n            <svg\n              className=\"absolute left-3 top-3 w-5 h-5 text-gray-400\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n              />\n            </svg>\n          </div>\n\n          <select\n            value={selectedSector}\n            onChange={(e) => setSelectedSector(e.target.value)}\n            className=\"p-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white \n                     focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-200\"\n          >\n            <option value=\"\">All Sectors</option>\n            {uniqueSectors.map((sector) => (\n              <option key={sector} value={sector}>\n                {sector}\n              </option>\n            ))}\n          </select>\n        </div>\n      </motion.div>\n\n      {/* Company Table */}\n      <motion.div\n        className=\"overflow-x-auto\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.3 }}\n      >\n        <table className=\"w-full\">\n          <thead>\n            <tr className=\"border-b border-gray-700/50\">\n              {[\n                { key: \"name\", label: \"Company\" },\n                { key: \"currentPrice\", label: \"Price\" },\n                { key: \"change\", label: \"Change (24h)\" },\n                { key: \"volume\", label: \"Volume\" },\n                { key: \"marketCap\", label: \"Market Cap\" },\n              ].map(({ key, label }) => (\n                <th\n                  key={key}\n                  className=\"text-left py-4 px-4 text-gray-300 font-medium cursor-pointer \n                           hover:text-white transition-colors duration-200\"\n                  onClick={() => handleSort(key as SortField)}\n                >\n                  <div className=\"flex items-center space-x-1\">\n                    <span>{label}</span>\n                    {sortField === key && (\n                      <svg\n                        className={`w-4 h-4 transition-transform duration-200 ${\n                          sortDirection === \"desc\" ? \"rotate-180\" : \"\"\n                        }`}\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth={2}\n                          d=\"M5 15l7-7 7 7\"\n                        />\n                      </svg>\n                    )}\n                  </div>\n                </th>\n              ))}\n              <th className=\"text-left py-4 px-4 text-gray-300 font-medium\">\n                Actions\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {sortedAndFilteredCompanies.map(\n              (company: Company, index: number) => {\n                const changeColor =\n                  (company.change || 0) >= 0\n                    ? \"text-green-400\"\n                    : \"text-red-400\";\n                const changePrefix = (company.change || 0) >= 0 ? \"+\" : \"\";\n\n                return (\n                  <motion.tr\n                    key={company.id}\n                    className=\"border-b border-gray-800/30 hover:bg-gray-800/20 transition-colors duration-200\"\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ duration: 0.3, delay: index * 0.05 }}\n                    whileHover={{ scale: 1.01 }}\n                  >\n                    <td className=\"py-4 px-4\">\n                      <div className=\"flex items-center space-x-3\">\n                        <div\n                          className=\"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 \n                                    flex items-center justify-center text-white font-bold\"\n                        >\n                          {company.symbol\n                            ? company.symbol.charAt(0)\n                            : company.name.charAt(0)}\n                        </div>\n                        <div>\n                          <div className=\"font-semibold text-white\">\n                            {company.name}\n                          </div>\n                          <div className=\"text-sm text-gray-400\">\n                            {company.symbol ||\n                              formatAddress(company.id.toString())}\n                          </div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"py-4 px-4\">\n                      <div className=\"font-semibold text-white\">\n                        {company.currentPrice} DSTK\n                      </div>\n                    </td>\n                    <td className={`py-4 px-4 font-semibold ${changeColor}`}>\n                      {changePrefix}\n                      {company.change?.toFixed(2) || \"0.00\"}%\n                    </td>\n                    <td className=\"py-4 px-4 text-gray-300\">\n                      {formatNumber(company.volume || 0)}\n                    </td>\n                    <td className=\"py-4 px-4 text-gray-300\">\n                      {formatNumber(company.marketCap || 0)} DSTK\n                    </td>\n                    <td className=\"py-4 px-4\">\n                      <motion.button\n                        onClick={() => router.push(`/company/${company.id}`)}\n                        className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 \n                               hover:from-blue-700 hover:to-purple-700 rounded-lg \n                               transition-all duration-200 text-sm font-medium text-white\"\n                        whileHover={{ scale: 1.05 }}\n                        whileTap={{ scale: 0.95 }}\n                      >\n                        Trade\n                      </motion.button>\n                    </td>\n                  </motion.tr>\n                );\n              }\n            )}\n          </tbody>\n        </table>\n      </motion.div>\n\n      {sortedAndFilteredCompanies.length === 0 && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          className=\"text-center py-12 text-gray-400\"\n        >\n          <div className=\"text-lg font-medium mb-2\">No companies found</div>\n          <div className=\"text-sm\">\n            {searchTerm\n              ? `No results for \"${searchTerm}\"`\n              : \"No companies available\"}\n          </div>\n        </motion.div>\n      )}\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2742, "column": 0}, "map": {"version":3,"sources":["file:///home/shri/web3Hackathon/DeStock/apps/web/components/TradingChart.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport {\n  createChart,\n  IChartApi,\n  ISeriesApi,\n  ColorType,\n  UTCTimestamp,\n} from \"lightweight-charts\";\nimport { motion } from \"framer-motion\";\nimport { useTheme } from \"next-themes\";\nimport {\n  TrendingUpIcon,\n  TrendingDownIcon,\n  BarChart3Icon,\n  LineChartIcon,\n} from \"lucide-react\";\nimport { LoadingSpinner } from \"./LoadingSpinner\";\n\ninterface ChartDataPoint {\n  time: UTCTimestamp;\n  open: number;\n  high: number;\n  low: number;\n  close: number;\n  volume?: number;\n}\n\ninterface TradingChartProps {\n  symbol?: string;\n  data?: ChartDataPoint[];\n  height?: number;\n  showTimeframes?: boolean;\n  showIndicators?: boolean;\n  className?: string;\n}\n\ntype Timeframe = \"1H\" | \"4H\" | \"1D\" | \"1W\" | \"1M\";\ntype ChartType = \"candlestick\" | \"line\" | \"area\";\n\n// Stable empty array reference to prevent unnecessary re-renders\nconst EMPTY_DATA: ChartDataPoint[] = [];\n\nexport function TradingChart({\n  symbol = \"DEMO\",\n  data = EMPTY_DATA,\n  height = 400,\n  showTimeframes = true,\n  showIndicators = true,\n  className = \"\",\n}: TradingChartProps) {\n  const chartContainerRef = useRef<HTMLDivElement>(null);\n  const chartRef = useRef<IChartApi | null>(null);\n  const candlestickSeriesRef = useRef<ISeriesApi<\"Candlestick\"> | null>(null);\n  const dataRef = useRef<ChartDataPoint[]>(EMPTY_DATA);\n  const [selectedTimeframe, setSelectedTimeframe] = useState<Timeframe>(\"1D\");\n  const [chartType, setChartType] = useState<ChartType>(\"candlestick\");\n  const [loading, setLoading] = useState(true);\n  const [chartData, setChartData] = useState<ChartDataPoint[]>([]);\n  const { theme } = useTheme();\n\n  const timeframes: Timeframe[] = [\"1H\", \"4H\", \"1D\", \"1W\", \"1M\"];\n\n  // Initialize chart\n  useEffect(() => {\n    if (!chartContainerRef.current) return;\n\n    const isDark = theme === \"dark\";\n\n    const chart = createChart(chartContainerRef.current, {\n      width: chartContainerRef.current.clientWidth,\n      height,\n      layout: {\n        background: { type: ColorType.Solid, color: \"transparent\" },\n        textColor: isDark ? \"#E5E7EB\" : \"#374151\",\n      },\n      grid: {\n        vertLines: {\n          color: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        },\n        horzLines: {\n          color: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        },\n      },\n      crosshair: {\n        mode: 1, // Normal crosshair\n      },\n      timeScale: {\n        borderColor: isDark ? \"#374151\" : \"#D1D5DB\",\n        timeVisible: true,\n        secondsVisible: false,\n      },\n      rightPriceScale: {\n        borderColor: isDark ? \"#374151\" : \"#D1D5DB\",\n      },\n    });\n\n    // Use correct v4 API for candlestick series\n    const candlestickSeries = chart.addCandlestickSeries();\n    candlestickSeries.applyOptions({\n      upColor: \"#00D4AA\",\n      downColor: \"#F6465D\",\n      borderDownColor: \"#F6465D\",\n      borderUpColor: \"#00D4AA\",\n      wickDownColor: \"#F6465D\",\n      wickUpColor: \"#00D4AA\",\n    });\n\n    chartRef.current = chart;\n    candlestickSeriesRef.current = candlestickSeries;\n\n    // Handle resize\n    const handleResize = () => {\n      if (chartContainerRef.current && chartRef.current) {\n        chartRef.current.applyOptions({\n          width: chartContainerRef.current.clientWidth,\n        });\n      }\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n      if (chartRef.current) {\n        chartRef.current.remove();\n        chartRef.current = null;\n        candlestickSeriesRef.current = null;\n      }\n    };\n  }, [height, theme]);\n\n  // Update chart theme\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    const isDark = theme === \"dark\";\n\n    chartRef.current.applyOptions({\n      layout: {\n        background: { type: ColorType.Solid, color: \"transparent\" },\n        textColor: isDark ? \"#E5E7EB\" : \"#374151\",\n      },\n      grid: {\n        vertLines: {\n          color: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        },\n        horzLines: {\n          color: isDark ? \"rgba(255, 255, 255, 0.1)\" : \"rgba(0, 0, 0, 0.1)\",\n        },\n      },\n      timeScale: {\n        borderColor: isDark ? \"#374151\" : \"#D1D5DB\",\n      },\n      rightPriceScale: {\n        borderColor: isDark ? \"#374151\" : \"#D1D5DB\",\n      },\n    });\n  }, [theme]);\n\n  // Handle prop data changes\n  useEffect(() => {\n    // Only update if data reference actually changed and has content\n    if (data !== dataRef.current && data.length > 0 && data !== EMPTY_DATA) {\n      console.log(\"TradingChart: Using provided data\", data.length, \"points\");\n      dataRef.current = data;\n      setChartData(data);\n      setLoading(false);\n    }\n  }, [data]);\n\n  // Load chart data from API\n  useEffect(() => {\n    const loadData = async () => {\n      // Skip API loading if data is provided via props\n      if (data.length > 0 && data !== EMPTY_DATA) {\n        return;\n      }\n\n      console.log(\"TradingChart: Loading data from API\", {\n        symbol,\n        selectedTimeframe,\n      });\n      setLoading(true);\n      try {\n        // Fetch data from API\n        const response = await fetch(\n          `/api/market?type=chart&symbol=${symbol}&timeframe=${selectedTimeframe}&days=30`\n        );\n        const result = await response.json();\n\n        if (response.ok && result.data && result.data.ohlc) {\n          const apiData = result.data.ohlc || [];\n\n          // Convert to proper format for Lightweight Charts\n          const formattedData = apiData.map((item: any) => ({\n            ...item,\n            time: item.time as UTCTimestamp,\n          }));\n\n          console.log(\n            \"TradingChart: API data loaded\",\n            formattedData.length,\n            \"points\"\n          );\n          setChartData(formattedData);\n        } else {\n          console.warn(\"Failed to fetch chart data:\", result);\n          // Set empty data to stop loading\n          setChartData([]);\n        }\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Failed to load chart data:\", error);\n        setChartData([]);\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, [symbol, selectedTimeframe]);\n\n  // Update chart data\n  useEffect(() => {\n    if (!candlestickSeriesRef.current || chartData.length === 0) return;\n\n    candlestickSeriesRef.current.setData(chartData);\n\n    // Fit content after data is loaded\n    if (chartRef.current) {\n      chartRef.current.timeScale().fitContent();\n    }\n  }, [chartData]);\n\n  const handleTimeframeChange = (timeframe: Timeframe) => {\n    setSelectedTimeframe(timeframe);\n  };\n\n  const currentPrice =\n    chartData.length > 0 ? chartData[chartData.length - 1].close : 0;\n  const previousPrice =\n    chartData.length > 1 ? chartData[chartData.length - 2].close : currentPrice;\n  const priceChange = currentPrice - previousPrice;\n  const priceChangePercent =\n    previousPrice > 0 ? (priceChange / previousPrice) * 100 : 0;\n  const isPositive = priceChange >= 0;\n\n  return (\n    <div className={`glass-card ${className}`}>\n      {/* Chart Header */}\n      <div className=\"p-4 border-b border-white/10 dark:border-black/10\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center space-x-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n              {symbol}\n            </h3>\n\n            {/* Price Information */}\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\n                ${currentPrice.toFixed(2)}\n              </span>\n              <div\n                className={`flex items-center space-x-1 ${isPositive ? \"text-success\" : \"text-danger\"}`}\n              >\n                {isPositive ? (\n                  <TrendingUpIcon className=\"w-4 h-4\" />\n                ) : (\n                  <TrendingDownIcon className=\"w-4 h-4\" />\n                )}\n                <span className=\"font-medium\">\n                  {isPositive ? \"+\" : \"\"}\n                  {priceChange.toFixed(2)} ({priceChangePercent.toFixed(2)}%)\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Chart Type Toggle */}\n          <div className=\"flex items-center space-x-2\">\n            <motion.button\n              onClick={() => setChartType(\"candlestick\")}\n              className={`p-2 rounded-md transition-colors duration-200 ${\n                chartType === \"candlestick\"\n                  ? \"bg-destock-primary text-white\"\n                  : \"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\"\n              }`}\n              whileTap={{ scale: 0.95 }}\n            >\n              <BarChart3Icon className=\"w-4 h-4\" />\n            </motion.button>\n            <motion.button\n              onClick={() => setChartType(\"line\")}\n              className={`p-2 rounded-md transition-colors duration-200 ${\n                chartType === \"line\"\n                  ? \"bg-destock-primary text-white\"\n                  : \"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\"\n              }`}\n              whileTap={{ scale: 0.95 }}\n            >\n              <LineChartIcon className=\"w-4 h-4\" />\n            </motion.button>\n          </div>\n        </div>\n\n        {/* Timeframe Selector */}\n        {showTimeframes && (\n          <div className=\"flex space-x-1\">\n            {timeframes.map((timeframe) => (\n              <motion.button\n                key={timeframe}\n                onClick={() => handleTimeframeChange(timeframe)}\n                className={`px-3 py-1 text-sm font-medium rounded-md transition-all duration-200 ${\n                  selectedTimeframe === timeframe\n                    ? \"bg-destock-primary text-white shadow-sm\"\n                    : \"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700\"\n                }`}\n                whileTap={{ scale: 0.95 }}\n              >\n                {timeframe}\n              </motion.button>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Chart Container */}\n      <div className=\"relative\">\n        {loading && (\n          <div className=\"absolute inset-0 flex items-center justify-center z-10\">\n            <LoadingSpinner />\n          </div>\n        )}\n\n        <motion.div\n          ref={chartContainerRef}\n          className={`${loading ? \"opacity-30\" : \"opacity-100\"} transition-opacity duration-200`}\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: loading ? 0.3 : 1, scale: 1 }}\n          transition={{ duration: 0.3 }}\n          style={{ height: `${height}px` }}\n        />\n      </div>\n\n      {/* Chart Footer with Stats */}\n      <div className=\"p-4 border-t border-white/10 dark:border-black/10\">\n        <div className=\"grid grid-cols-4 gap-4 text-sm\">\n          <div>\n            <span className=\"text-gray-500 dark:text-gray-400 block\">Open</span>\n            <span className=\"font-medium text-gray-900 dark:text-gray-100\">\n              $\n              {chartData.length > 0\n                ? chartData[chartData.length - 1].open.toFixed(2)\n                : \"0.00\"}\n            </span>\n          </div>\n          <div>\n            <span className=\"text-gray-500 dark:text-gray-400 block\">High</span>\n            <span className=\"font-medium text-success\">\n              $\n              {chartData.length > 0\n                ? chartData[chartData.length - 1].high.toFixed(2)\n                : \"0.00\"}\n            </span>\n          </div>\n          <div>\n            <span className=\"text-gray-500 dark:text-gray-400 block\">Low</span>\n            <span className=\"font-medium text-danger\">\n              $\n              {chartData.length > 0\n                ? chartData[chartData.length - 1].low.toFixed(2)\n                : \"0.00\"}\n            </span>\n          </div>\n          <div>\n            <span className=\"text-gray-500 dark:text-gray-400 block\">\n              Volume\n            </span>\n            <span className=\"font-medium text-gray-900 dark:text-gray-100\">\n              {chartData.length > 0\n                ? (chartData[chartData.length - 1].volume || 0).toLocaleString()\n                : \"0\"}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3318, "column": 0}, "map": {"version":3,"sources":["file:///home/shri/web3Hackathon/DeStock/apps/web/components/MarketHeatMap.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { motion } from 'framer-motion';\n\ninterface HeatMapData {\n  id: string;\n  name: string;\n  symbol: string;\n  value: number;\n  change: number;\n  size: number;\n}\n\ninterface MarketHeatMapProps {\n  className?: string;\n}\n\nexport function MarketHeatMap({ className }: MarketHeatMapProps) {\n  const [heatMapData, setHeatMapData] = useState<HeatMapData[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadHeatMapData();\n  }, []);\n\n  const loadHeatMapData = async () => {\n    try {\n      const response = await fetch('/api/market?type=heatmap');\n      const result = await response.json();\n      setHeatMapData(result.heatmap || []);\n    } catch (error) {\n      console.error('Failed to load heatmap data:', error);\n      // Fallback mock data\n      setHeatMapData(generateMockHeatMapData());\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateMockHeatMapData = (): HeatMapData[] => {\n    const companies = [\n      { name: 'TechCorp', symbol: 'TECH' },\n      { name: 'FinanceInc', symbol: 'FIN' },\n      { name: 'HealthCare Ltd', symbol: 'HEAL' },\n      { name: 'Energy Solutions', symbol: 'NRGY' },\n      { name: 'Retail Giant', symbol: 'RTGN' },\n      { name: 'Manufacturing Co', symbol: 'MANU' },\n      { name: 'Transport Hub', symbol: 'TRNS' },\n      { name: 'Media Group', symbol: 'MEDA' },\n      { name: 'Real Estate', symbol: 'REST' },\n      { name: 'Biotech Inc', symbol: 'BIOT' },\n      { name: 'Aerospace Ltd', symbol: 'AERO' },\n      { name: 'Telecom Corp', symbol: 'TCOM' }\n    ];\n\n    return companies.map((company, index) => ({\n      id: index.toString(),\n      name: company.name,\n      symbol: company.symbol,\n      value: Math.random() * 1000 + 100,\n      change: (Math.random() - 0.5) * 20,\n      size: Math.random() * 80 + 40\n    }));\n  };\n\n  const getColorByChange = (change: number) => {\n    if (change > 5) return 'from-green-500 to-green-600';\n    if (change > 2) return 'from-green-400 to-green-500';\n    if (change > 0) return 'from-green-300 to-green-400';\n    if (change > -2) return 'from-red-300 to-red-400';\n    if (change > -5) return 'from-red-400 to-red-500';\n    return 'from-red-500 to-red-600';\n  };\n\n  const getTextColor = (change: number) => {\n    return Math.abs(change) > 3 ? 'text-white' : 'text-gray-800';\n  };\n\n  if (loading) {\n    return (\n      <div className={`glass-card p-6 ${className}`}>\n        <h3 className=\"text-xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\n          Market Heat Map\n        </h3>\n        <div className=\"grid grid-cols-4 md:grid-cols-6 gap-2\">\n          {[...Array(12)].map((_, i) => (\n            <div\n              key={i}\n              className=\"aspect-square rounded-lg bg-gray-700/30 animate-pulse\"\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <motion.div \n      className={`glass-card p-6 ${className}`}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5, delay: 0.4 }}\n    >\n      <h3 className=\"text-xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\n        Market Heat Map\n      </h3>\n      \n      <div className=\"grid grid-cols-4 md:grid-cols-6 gap-2\">\n        {heatMapData.map((item, index) => (\n          <motion.div\n            key={item.id}\n            className={`\n              aspect-square rounded-lg p-2 cursor-pointer\n              bg-gradient-to-br ${getColorByChange(item.change)}\n              hover:scale-105 transition-all duration-200\n              flex flex-col justify-between\n              ${getTextColor(item.change)}\n            `}\n            style={{\n              minHeight: `${Math.max(item.size, 60)}px`,\n              opacity: 0.8 + (Math.abs(item.change) / 20) * 0.2\n            }}\n            initial={{ opacity: 0, scale: 0.8 }}\n            animate={{ opacity: 0.8 + (Math.abs(item.change) / 20) * 0.2, scale: 1 }}\n            transition={{ duration: 0.3, delay: index * 0.05 }}\n            whileHover={{ \n              scale: 1.05,\n              opacity: 1,\n              transition: { duration: 0.2 }\n            }}\n            title={`${item.name} (${item.symbol}): ${item.change > 0 ? '+' : ''}${item.change.toFixed(2)}%`}\n          >\n            <div className=\"text-xs font-semibold truncate\">\n              {item.symbol}\n            </div>\n            <div className=\"text-xs font-bold\">\n              {item.change > 0 ? '+' : ''}{item.change.toFixed(1)}%\n            </div>\n          </motion.div>\n        ))}\n      </div>\n\n      <div className=\"mt-4 flex items-center justify-between text-xs text-gray-400\">\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex items-center space-x-1\">\n            <div className=\"w-3 h-3 rounded bg-gradient-to-r from-green-400 to-green-500\"></div>\n            <span>Positive</span>\n          </div>\n          <div className=\"flex items-center space-x-1\">\n            <div className=\"w-3 h-3 rounded bg-gradient-to-r from-red-400 to-red-500\"></div>\n            <span>Negative</span>\n          </div>\n        </div>\n        <div className=\"text-xs\">\n          Size = Market Cap | Color = 24h Change\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3638, "column": 0}, "map": {"version":3,"sources":["file:///home/shri/web3Hackathon/DeStock/apps/web/components/PriceTicker.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { TrendingUpIcon, TrendingDownIcon } from 'lucide-react';\nimport { AnimatedCounter } from './AnimatedCounter';\n\ninterface TickerItem {\n  symbol: string;\n  name: string;\n  price: number;\n  change: number;\n  changePercent: number;\n  volume: number;\n}\n\ninterface PriceTickerProps {\n  speed?: number;\n  direction?: 'left' | 'right';\n  className?: string;\n  pauseOnHover?: boolean;\n}\n\nexport function PriceTicker({ \n  speed = 50, \n  direction = 'left', \n  className = '',\n  pauseOnHover = true \n}: PriceTickerProps) {\n  const [tickerData, setTickerData] = useState<TickerItem[]>([]);\n  const [isPaused, setIsPaused] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchTickerData = async () => {\n      try {\n        const response = await fetch('/api/market?type=ticker');\n        const result = await response.json();\n        setTickerData(result.ticker || []);\n      } catch (error) {\n        console.error('Failed to fetch ticker data:', error);\n        // Fallback data\n        setTickerData([\n          { symbol: 'AAPL', name: 'Apple Inc.', price: 182.52, change: 2.34, changePercent: 1.3, volume: 45234567 },\n          { symbol: 'MSFT', name: 'Microsoft', price: 378.91, change: -1.23, changePercent: -0.32, volume: 23456789 },\n          { symbol: 'GOOGL', name: 'Alphabet', price: 142.65, change: 3.45, changePercent: 2.5, volume: 34567890 },\n        ]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTickerData();\n\n    // Update ticker data every 30 seconds\n    const interval = setInterval(fetchTickerData, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Real-time price updates simulation\n  useEffect(() => {\n    if (tickerData.length === 0) return;\n\n    const interval = setInterval(() => {\n      setTickerData(prev => prev.map(item => {\n        const changePercent = (Math.random() - 0.5) * 0.5; // 0.25%\n        const newPrice = item.price * (1 + changePercent / 100);\n        const priceChange = newPrice - item.price;\n        \n        return {\n          ...item,\n          price: Number(newPrice.toFixed(2)),\n          change: Number(priceChange.toFixed(2)),\n          changePercent: Number(((priceChange / item.price) * 100).toFixed(2)),\n        };\n      }));\n    }, 5000);\n\n    return () => clearInterval(interval);\n  }, [tickerData.length]);\n\n  if (loading) {\n    return (\n      <div className={`glass-card h-16 flex items-center justify-center ${className}`}>\n        <div className=\"flex space-x-4\">\n          {Array.from({ length: 5 }).map((_, i) => (\n            <div key={i} className=\"flex space-x-2 animate-pulse\">\n              <div className=\"w-12 h-4 bg-gray-300 dark:bg-gray-600 rounded\" />\n              <div className=\"w-16 h-4 bg-gray-300 dark:bg-gray-600 rounded\" />\n              <div className=\"w-12 h-4 bg-gray-300 dark:bg-gray-600 rounded\" />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div \n      className={`glass-card overflow-hidden relative ${className}`}\n      onMouseEnter={() => pauseOnHover && setIsPaused(true)}\n      onMouseLeave={() => pauseOnHover && setIsPaused(false)}\n    >\n      <div className=\"h-16 flex items-center\">\n        <motion.div\n          className=\"flex space-x-8 whitespace-nowrap\"\n          animate={{\n            x: direction === 'left' ? '-50%' : '50%',\n          }}\n          transition={{\n            duration: speed,\n            repeat: Infinity,\n            ease: 'linear',\n          }}\n          style={{\n            animationPlayState: isPaused ? 'paused' : 'running',\n          }}\n        >\n          {/* Duplicate the data to create seamless loop */}\n          {[...tickerData, ...tickerData].map((item, index) => (\n            <motion.div\n              key={`${item.symbol}-${index}`}\n              className=\"flex items-center space-x-3 min-w-fit\"\n              whileHover={pauseOnHover ? { scale: 1.05 } : {}}\n            >\n              <span className=\"font-semibold text-gray-900 dark:text-gray-100\">\n                {item.symbol}\n              </span>\n              \n              <AnimatedCounter\n                value={item.price}\n                format=\"currency\"\n                decimals={2}\n                className=\"font-medium text-gray-900 dark:text-gray-100\"\n              />\n              \n              <div className={`flex items-center space-x-1 ${\n                item.change >= 0 ? 'text-success' : 'text-danger'\n              }`}>\n                {item.change >= 0 ? (\n                  <TrendingUpIcon className=\"w-3 h-3\" />\n                ) : (\n                  <TrendingDownIcon className=\"w-3 h-3\" />\n                )}\n                <span className=\"text-sm font-medium\">\n                  {item.change >= 0 ? '+' : ''}{item.change.toFixed(2)}\n                </span>\n                <span className=\"text-sm\">\n                  ({item.changePercent >= 0 ? '+' : ''}{item.changePercent.toFixed(2)}%)\n                </span>\n              </div>\n              \n              <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                Vol: {(item.volume / 1000000).toFixed(1)}M\n              </span>\n            </motion.div>\n          ))}\n        </motion.div>\n      </div>\n      \n      {/* Gradient Overlays */}\n      <div className=\"absolute left-0 top-0 w-12 h-full bg-gradient-to-r from-white/80 dark:from-gray-900/80 to-transparent pointer-events-none\" />\n      <div className=\"absolute right-0 top-0 w-12 h-full bg-gradient-to-l from-white/80 dark:from-gray-900/80 to-transparent pointer-events-none\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3942, "column": 0}, "map": {"version":3,"sources":["file:///home/shri/web3Hackathon/DeStock/apps/web/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { DashboardGrid } from '@/components/DashboardGrid';\nimport { TradeView } from '@/components/TradeView';\nimport { CompanyList } from '@/components/CompanyList';\nimport { TradingChart } from '@/components/TradingChart';\nimport { MarketHeatMap } from '@/components/MarketHeatMap';\nimport { PriceTicker } from '@/components/PriceTicker';\nimport { motion } from 'framer-motion';\nimport { useMemo } from 'react';\n\nexport default function HomePage() {\n  // Memoize widget components to prevent re-creation on every render\n  const widgets = useMemo(() => [\n    {\n      id: 'trading',\n      title: 'Trading Interface',\n      component: <TradeView />,\n      defaultSize: 40,\n      minSize: 30,\n    },\n    {\n      id: 'chart',\n      title: 'Price Chart',\n      component: <TradingChart symbol=\"DSTK\" height={350} />,\n      defaultSize: 60,\n      minSize: 40,\n    },\n  ], []);\n\n  const bottomWidgets = useMemo(() => [\n    {\n      id: 'companies',\n      title: 'Market Overview',\n      component: <CompanyList />,\n      defaultSize: 60,\n      minSize: 50,\n    },\n    {\n      id: 'heatmap',\n      title: 'Market Heat Map',\n      component: <MarketHeatMap />,\n      defaultSize: 40,\n      minSize: 30,\n    },\n  ], []);\n\n  return (\n    <motion.div \n      className=\"space-y-6\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n    >\n      {/* Header Section */}\n      <motion.div \n        className=\"text-center glass-card p-8\"\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.1, duration: 0.5 }}\n      >\n        <h1 className=\"text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4\">\n          Welcome to DeStock\n        </h1>\n        <p className=\"text-xl text-gray-600 dark:text-gray-400 max-w-4xl mx-auto\">\n          The professional decentralized trading platform with advanced charting, \n          real-time analytics, and seamless Web3 integration. Trade company shares \n          using DSTK tokens with institutional-grade tools.\n        </p>\n      </motion.div>\n\n      {/* Price Ticker */}\n      <motion.div\n        initial={{ opacity: 0, x: -50 }}\n        animate={{ opacity: 1, x: 0 }}\n        transition={{ delay: 0.2, duration: 0.5 }}\n      >\n        <PriceTicker />\n      </motion.div>\n\n      {/* Main Dashboard Grid */}\n      <motion.div\n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{ opacity: 1, scale: 1 }}\n        transition={{ delay: 0.3, duration: 0.5 }}\n      >\n        <DashboardGrid widgets={widgets} />\n      </motion.div>\n\n      {/* Bottom Section */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.4, duration: 0.5 }}\n      >\n        <DashboardGrid widgets={bottomWidgets} layout=\"grid\" />\n      </motion.div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAWe,SAAS;;IACtB,mEAAmE;IACnE,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;qCAAE,IAAM;gBAC5B;oBACE,IAAI;oBACJ,OAAO;oBACP,yBAAW,6LAAC,0IAAA,CAAA,YAAS;;;;;oBACrB,aAAa;oBACb,SAAS;gBACX;gBACA;oBACE,IAAI;oBACJ,OAAO;oBACP,yBAAW,6LAAC,6IAAA,CAAA,eAAY;wBAAC,QAAO;wBAAO,QAAQ;;;;;;oBAC/C,aAAa;oBACb,SAAS;gBACX;aACD;oCAAE,EAAE;IAEL,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;2CAAE,IAAM;gBAClC;oBACE,IAAI;oBACJ,OAAO;oBACP,yBAAW,6LAAC,4IAAA,CAAA,cAAW;;;;;oBACvB,aAAa;oBACb,SAAS;gBACX;gBACA;oBACE,IAAI;oBACJ,OAAO;oBACP,yBAAW,6LAAC,8IAAA,CAAA,gBAAa;;;;;oBACzB,aAAa;oBACb,SAAS;gBACX;aACD;0CAAE,EAAE;IAEL,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QACT,WAAU;QACV,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;QAAI;;0BAG5B,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;;kCAExC,6LAAC;wBAAG,WAAU;kCAA2D;;;;;;kCAGzE,6LAAC;wBAAE,WAAU;kCAA6D;;;;;;;;;;;;0BAQ5E,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAExC,cAAA,6LAAC,4IAAA,CAAA,cAAW;;;;;;;;;;0BAId,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAK;gBACnC,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAE;gBAChC,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAExC,cAAA,6LAAC,8IAAA,CAAA,gBAAa;oBAAC,SAAS;;;;;;;;;;;0BAI1B,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAExC,cAAA,6LAAC,8IAAA,CAAA,gBAAa;oBAAC,SAAS;oBAAe,QAAO;;;;;;;;;;;;;;;;;AAItD;GAxFwB;KAAA","debugId":null}}]
}