{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/LoadingSpinner.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { motion } from 'framer-motion';\r\nimport { clsx } from 'clsx';\r\n\r\ninterface LoadingSpinnerProps {\r\n  size?: 'small' | 'medium' | 'large';\r\n  variant?: 'circular' | 'dots' | 'bars';\r\n  className?: string;\r\n  overlay?: boolean;\r\n}\r\n\r\nexport function LoadingSpinner({ \r\n  size = 'medium', \r\n  variant = 'circular', \r\n  className = '',\r\n  overlay = false \r\n}: LoadingSpinnerProps) {\r\n  const sizeClasses = {\r\n    small: 'w-4 h-4',\r\n    medium: 'w-8 h-8',\r\n    large: 'w-12 h-12',\r\n  };\r\n\r\n  if (variant === 'circular') {\r\n    return (\r\n      <div className={clsx(\r\n        'flex items-center justify-center',\r\n        overlay && 'fixed inset-0 glass-modal z-50',\r\n        className\r\n      )}>\r\n        <motion.div\r\n          className={clsx(\r\n            'border-2 border-destock-primary/20 border-t-destock-primary rounded-full',\r\n            sizeClasses[size]\r\n          )}\r\n          animate={{ rotate: 360 }}\r\n          transition={{\r\n            duration: 1,\r\n            repeat: Infinity,\r\n            ease: 'linear',\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (variant === 'dots') {\r\n    return (\r\n      <div className={clsx(\r\n        'flex items-center justify-center space-x-1',\r\n        overlay && 'fixed inset-0 glass-modal z-50',\r\n        className\r\n      )}>\r\n        {[0, 1, 2].map((index) => (\r\n          <motion.div\r\n            key={index}\r\n            className=\"w-2 h-2 bg-destock-primary rounded-full\"\r\n            animate={{\r\n              scale: [1, 1.5, 1],\r\n              opacity: [0.5, 1, 0.5],\r\n            }}\r\n            transition={{\r\n              duration: 1,\r\n              repeat: Infinity,\r\n              delay: index * 0.2,\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (variant === 'bars') {\r\n    return (\r\n      <div className={clsx(\r\n        'flex items-center justify-center space-x-1',\r\n        overlay && 'fixed inset-0 glass-modal z-50',\r\n        className\r\n      )}>\r\n        {[0, 1, 2, 3].map((index) => (\r\n          <motion.div\r\n            key={index}\r\n            className=\"w-1 bg-destock-primary rounded-full\"\r\n            style={{ height: size === 'small' ? 16 : size === 'medium' ? 24 : 32 }}\r\n            animate={{\r\n              scaleY: [1, 2, 1],\r\n            }}\r\n            transition={{\r\n              duration: 1,\r\n              repeat: Infinity,\r\n              delay: index * 0.1,\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAYO,SAAS,eAAe,EAC7B,OAAO,QAAQ,EACf,UAAU,UAAU,EACpB,YAAY,EAAE,EACd,UAAU,KAAK,EACK;IACpB,MAAM,cAAc;QAClB,OAAO;QACP,QAAQ;QACR,OAAO;IACT;IAEA,IAAI,YAAY,YAAY;QAC1B,qBACE,6LAAC;YAAI,WAAW,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EACjB,oCACA,WAAW,kCACX;sBAEA,cAAA,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,WAAW,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EACZ,4EACA,WAAW,CAAC,KAAK;gBAEnB,SAAS;oBAAE,QAAQ;gBAAI;gBACvB,YAAY;oBACV,UAAU;oBACV,QAAQ;oBACR,MAAM;gBACR;;;;;;;;;;;IAIR;IAEA,IAAI,YAAY,QAAQ;QACtB,qBACE,6LAAC;YAAI,WAAW,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EACjB,8CACA,WAAW,kCACX;sBAEC;gBAAC;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,sBACd,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;oBAET,WAAU;oBACV,SAAS;wBACP,OAAO;4BAAC;4BAAG;4BAAK;yBAAE;wBAClB,SAAS;4BAAC;4BAAK;4BAAG;yBAAI;oBACxB;oBACA,YAAY;wBACV,UAAU;wBACV,QAAQ;wBACR,OAAO,QAAQ;oBACjB;mBAVK;;;;;;;;;;IAef;IAEA,IAAI,YAAY,QAAQ;QACtB,qBACE,6LAAC;YAAI,WAAW,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EACjB,8CACA,WAAW,kCACX;sBAEC;gBAAC;gBAAG;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,sBACjB,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;oBAET,WAAU;oBACV,OAAO;wBAAE,QAAQ,SAAS,UAAU,KAAK,SAAS,WAAW,KAAK;oBAAG;oBACrE,SAAS;wBACP,QAAQ;4BAAC;4BAAG;4BAAG;yBAAE;oBACnB;oBACA,YAAY;wBACV,UAAU;wBACV,QAAQ;wBACR,OAAO,QAAQ;oBACjB;mBAVK;;;;;;;;;;IAef;IAEA,OAAO;AACT;KAxFgB","debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/WidgetWrapper.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { ReactNode, useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { MinusIcon, XIcon, SettingsIcon, GripVerticalIcon } from 'lucide-react';\r\nimport { clsx } from 'clsx';\r\nimport { LoadingSpinner } from './LoadingSpinner';\r\n\r\ninterface WidgetWrapperProps {\r\n  title: string;\r\n  id: string;\r\n  children?: ReactNode;\r\n  className?: string;\r\n  isCollapsed?: boolean;\r\n  isLoading?: boolean;\r\n  error?: string;\r\n  onToggle?: () => void;\r\n  onClose?: () => void;\r\n  onSettings?: () => void;\r\n  showControls?: boolean;\r\n  draggable?: boolean;\r\n  resizable?: boolean;\r\n  size?: 'small' | 'medium' | 'large' | 'full';\r\n}\r\n\r\nexport function WidgetWrapper({\r\n  title,\r\n  id,\r\n  children,\r\n  className = '',\r\n  isCollapsed = false,\r\n  isLoading = false,\r\n  error,\r\n  onToggle,\r\n  onClose,\r\n  onSettings,\r\n  showControls = true,\r\n  draggable = true,\r\n  resizable = true,\r\n  size = 'medium',\r\n}: WidgetWrapperProps) {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  const sizeClasses = {\r\n    small: 'min-h-[200px]',\r\n    medium: 'min-h-[300px]',\r\n    large: 'min-h-[400px]',\r\n    full: 'h-full',\r\n  };\r\n\r\n  const handleKeyDown = (event: React.KeyboardEvent, action: () => void) => {\r\n    if (event.key === 'Enter' || event.key === ' ') {\r\n      event.preventDefault();\r\n      action();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className={clsx(\r\n        'glass-card widget-enter',\r\n        sizeClasses[size],\r\n        className\r\n      )}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n      layout\r\n      initial={{ scale: 0.95, opacity: 0 }}\r\n      animate={{ scale: 1, opacity: 1 }}\r\n      exit={{ scale: 0.95, opacity: 0 }}\r\n      transition={{ type: 'spring', stiffness: 300, damping: 20 }}\r\n      role=\"region\"\r\n      aria-labelledby={`widget-${id}-title`}\r\n    >\r\n      {/* Widget Header */}\r\n      <div className=\"flex items-center justify-between p-4 border-b border-white/10 dark:border-black/10\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          {draggable && (\r\n            <motion.div\r\n              className=\"cursor-grab text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n              whileHover={{ scale: 1.1 }}\r\n              whileTap={{ scale: 0.9 }}\r\n            >\r\n              <GripVerticalIcon className=\"w-4 h-4\" />\r\n            </motion.div>\r\n          )}\r\n          <h3 \r\n            id={`widget-${id}-title`}\r\n            className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\"\r\n          >\r\n            {title}\r\n          </h3>\r\n        </div>\r\n\r\n        {/* Widget Controls */}\r\n        {showControls && (\r\n          <AnimatePresence>\r\n            {(isHovered || isCollapsed) && (\r\n              <motion.div\r\n                className=\"flex items-center space-x-1\"\r\n                initial={{ opacity: 0, scale: 0.8 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.8 }}\r\n                transition={{ duration: 0.2 }}\r\n              >\r\n                {onSettings && (\r\n                  <motion.button\r\n                    onClick={onSettings}\r\n                    onKeyDown={(e) => handleKeyDown(e, onSettings)}\r\n                    className=\"p-1 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-white/10 dark:hover:bg-black/10 transition-colors duration-200\"\r\n                    whileHover={{ scale: 1.1 }}\r\n                    whileTap={{ scale: 0.9 }}\r\n                    aria-label={`Settings for ${title}`}\r\n                  >\r\n                    <SettingsIcon className=\"w-4 h-4\" />\r\n                  </motion.button>\r\n                )}\r\n                \r\n                {onToggle && (\r\n                  <motion.button\r\n                    onClick={onToggle}\r\n                    onKeyDown={(e) => handleKeyDown(e, onToggle)}\r\n                    className=\"p-1 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-white/10 dark:hover:bg-black/10 transition-colors duration-200\"\r\n                    whileHover={{ scale: 1.1 }}\r\n                    whileTap={{ scale: 0.9 }}\r\n                    aria-label={isCollapsed ? `Expand ${title}` : `Collapse ${title}`}\r\n                  >\r\n                    <MinusIcon className=\"w-4 h-4\" />\r\n                  </motion.button>\r\n                )}\r\n                \r\n                {onClose && (\r\n                  <motion.button\r\n                    onClick={onClose}\r\n                    onKeyDown={(e) => handleKeyDown(e, onClose)}\r\n                    className=\"p-1 rounded-md text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200\"\r\n                    whileHover={{ scale: 1.1 }}\r\n                    whileTap={{ scale: 0.9 }}\r\n                    aria-label={`Close ${title}`}\r\n                  >\r\n                    <XIcon className=\"w-4 h-4\" />\r\n                  </motion.button>\r\n                )}\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        )}\r\n      </div>\r\n\r\n      {/* Widget Content */}\r\n      <AnimatePresence mode=\"wait\">\r\n        {!isCollapsed && (\r\n          <motion.div\r\n            className=\"p-4 h-full overflow-auto custom-scrollbar\"\r\n            initial={{ opacity: 0, height: 0 }}\r\n            animate={{ opacity: 1, height: 'auto' }}\r\n            exit={{ opacity: 0, height: 0 }}\r\n            transition={{ duration: 0.3, ease: 'easeInOut' }}\r\n          >\r\n            {error ? (\r\n              <div className=\"flex items-center justify-center h-32\">\r\n                <div className=\"text-center\">\r\n                  <div className=\"text-red-500 dark:text-red-400 text-sm font-medium mb-2\">\r\n                    Error loading widget\r\n                  </div>\r\n                  <div className=\"text-gray-500 dark:text-gray-400 text-xs\">\r\n                    {error}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : isLoading ? (\r\n              <div className=\"flex items-center justify-center h-32\">\r\n                <LoadingSpinner />\r\n              </div>\r\n            ) : (\r\n              children\r\n            )}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Resize Handle */}\r\n      {resizable && !isCollapsed && (\r\n        <div className=\"absolute bottom-0 right-0 w-4 h-4 cursor-se-resize opacity-0 hover:opacity-100 transition-opacity duration-200\">\r\n          <div className=\"w-full h-full bg-gray-400 dark:bg-gray-600 transform rotate-45 translate-x-2 translate-y-2\" />\r\n        </div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/DashboardGrid.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Panel, PanelGroup, PanelResizeHandle } from 'react-resizable-panels';\r\nimport { WidgetWrapper } from './WidgetWrapper';\r\n\r\ninterface Widget {\r\n  id: string;\r\n  title: string;\r\n  component: React.ReactNode;\r\n  defaultSize?: number;\r\n  minSize?: number;\r\n  collapsible?: boolean;\r\n}\r\n\r\ninterface DashboardGridProps {\r\n  widgets: Widget[];\r\n  layout?: 'grid' | 'tabs';\r\n  className?: string;\r\n}\r\n\r\nexport function DashboardGrid({ widgets, layout = 'grid', className = '' }: DashboardGridProps) {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(0);\r\n  const [collapsedWidgets, setCollapsedWidgets] = useState<Set<string>>(new Set());\r\n\r\n  useEffect(() => {\r\n    const checkIsMobile = () => {\r\n      setIsMobile(window.innerWidth < 768);\r\n    };\r\n\r\n    checkIsMobile();\r\n    window.addEventListener('resize', checkIsMobile);\r\n    \r\n    return () => window.removeEventListener('resize', checkIsMobile);\r\n  }, []);\r\n\r\n  const toggleWidget = (widgetId: string) => {\r\n    const newCollapsed = new Set(collapsedWidgets);\r\n    if (newCollapsed.has(widgetId)) {\r\n      newCollapsed.delete(widgetId);\r\n    } else {\r\n      newCollapsed.add(widgetId);\r\n    }\r\n    setCollapsedWidgets(newCollapsed);\r\n  };\r\n\r\n  // Mobile layout - use tabs\r\n  if (isMobile || layout === 'tabs') {\r\n    return (\r\n      <div className={`space-y-4 ${className}`}>\r\n        {/* Tab Navigation */}\r\n        <div className=\"flex space-x-1 glass-card p-1 rounded-lg\">\r\n          {widgets.map((widget, index) => (\r\n            <motion.button\r\n              key={widget.id}\r\n              onClick={() => setActiveTab(index)}\r\n              className={`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${\r\n                activeTab === index\r\n                  ? 'bg-destock-primary text-white shadow-sm'\r\n                  : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n              }`}\r\n              whileTap={{ scale: 0.98 }}\r\n            >\r\n              {widget.title}\r\n            </motion.button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        <motion.div\r\n          key={activeTab}\r\n          initial={{ opacity: 0, x: 20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          exit={{ opacity: 0, x: -20 }}\r\n          transition={{ duration: 0.2 }}\r\n        >\r\n          <WidgetWrapper\r\n            title={widgets[activeTab].title}\r\n            id={widgets[activeTab].id}\r\n            onToggle={() => toggleWidget(widgets[activeTab].id)}\r\n            isCollapsed={collapsedWidgets.has(widgets[activeTab].id)}\r\n            showControls={false}\r\n          >\r\n            {widgets[activeTab].component}\r\n          </WidgetWrapper>\r\n        </motion.div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Desktop layout - use resizable panels\r\n  return (\r\n    <motion.div \r\n      className={`h-[calc(100vh-200px)] ${className}`}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      transition={{ duration: 0.3 }}\r\n    >\r\n      <PanelGroup direction=\"horizontal\" className=\"space-x-4\">\r\n        {widgets.map((widget, index) => (\r\n          <Panel\r\n            key={widget.id}\r\n            defaultSize={widget.defaultSize || 50}\r\n            minSize={widget.minSize || 20}\r\n            collapsible={widget.collapsible}\r\n          >\r\n            <motion.div\r\n              className=\"h-full\"\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              transition={{ delay: index * 0.1, duration: 0.3 }}\r\n            >\r\n              <WidgetWrapper\r\n                title={widget.title}\r\n                id={widget.id}\r\n                onToggle={() => toggleWidget(widget.id)}\r\n                isCollapsed={collapsedWidgets.has(widget.id)}\r\n                className=\"h-full\"\r\n              >\r\n                {!collapsedWidgets.has(widget.id) && widget.component}\r\n              </WidgetWrapper>\r\n            </motion.div>\r\n            \r\n            {/* Resize Handle */}\r\n            {index < widgets.length - 1 && (\r\n              <PanelResizeHandle className=\"w-4 flex items-center justify-center\">\r\n                <div className=\"w-1 h-8 bg-gray-300 dark:bg-gray-600 rounded-full hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors duration-200\" />\r\n              </PanelResizeHandle>\r\n            )}\r\n          </Panel>\r\n        ))}\r\n      </PanelGroup>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 650, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/lib/hooks/useDeStock.ts"],"sourcesContent":["import { useAccount, useReadContract, useWriteContract, useWaitForTransactionReceipt } from 'wagmi';\r\nimport { DESTOCK_ABI, getContractAddress } from '../contracts';\r\nimport { useCallback, useMemo } from 'react';\r\nimport { Address, parseEther, formatEther } from 'viem';\r\n\r\nexport function useDeStock() {\r\n  const { address, chainId } = useAccount();\r\n  \r\n  const contractAddress = useMemo(() => {\r\n    if (!chainId) return undefined;\r\n    return getContractAddress('DESTOCK', chainId);\r\n  }, [chainId]);\r\n\r\n  const { writeContract, data: hash, error, isPending } = useWriteContract();\r\n  const { isLoading: isConfirming, isSuccess: isConfirmed } = useWaitForTransactionReceipt({\r\n    hash,\r\n  });\r\n\r\n  // Read functions\r\n  const { data: nextCompanyId } = useReadContract({\r\n    address: contractAddress,\r\n    abi: DESTOCK_ABI,\r\n    functionName: 'nextCompanyId',\r\n  });\r\n\r\n  const getCompany = useCallback((companyId: number) => {\r\n    return useReadContract({\r\n      address: contractAddress,\r\n      abi: DESTOCK_ABI,\r\n      functionName: 'companies',\r\n      args: [BigInt(companyId)],\r\n    });\r\n  }, [contractAddress]);\r\n\r\n  const getSharePrice = useCallback((companyId: number) => {\r\n    return useReadContract({\r\n      address: contractAddress,\r\n      abi: DESTOCK_ABI,\r\n      functionName: 'getSharePrice',\r\n      args: [BigInt(companyId)],\r\n    });\r\n  }, [contractAddress]);\r\n\r\n  const getShareBalance = useCallback((companyId: number, userAddress?: Address) => {\r\n    const targetAddress = userAddress || address;\r\n    return useReadContract({\r\n      address: contractAddress,\r\n      abi: DESTOCK_ABI,\r\n      functionName: 'balanceOf',\r\n      args: targetAddress ? [targetAddress, BigInt(companyId)] : undefined,\r\n      query: {\r\n        enabled: !!targetAddress,\r\n      },\r\n    });\r\n  }, [contractAddress, address]);\r\n\r\n  // Write functions\r\n  const registerCompany = useCallback(\r\n    (name: string, initialPrice: string, totalSupply: string) => {\r\n      if (!contractAddress) return;\r\n      \r\n      writeContract({\r\n        address: contractAddress,\r\n        abi: DESTOCK_ABI,\r\n        functionName: 'registerCompany',\r\n        args: [name, parseEther(initialPrice), BigInt(totalSupply)],\r\n      });\r\n    },\r\n    [contractAddress, writeContract]\r\n  );\r\n\r\n  const buyShares = useCallback(\r\n    (companyId: number, amount: string) => {\r\n      if (!contractAddress) return;\r\n      \r\n      writeContract({\r\n        address: contractAddress,\r\n        abi: DESTOCK_ABI,\r\n        functionName: 'buyShares',\r\n        args: [BigInt(companyId), BigInt(amount)],\r\n      });\r\n    },\r\n    [contractAddress, writeContract]\r\n  );\r\n\r\n  const sellShares = useCallback(\r\n    (companyId: number, amount: string) => {\r\n      if (!contractAddress) return;\r\n      \r\n      writeContract({\r\n        address: contractAddress,\r\n        abi: DESTOCK_ABI,\r\n        functionName: 'sellShares',\r\n        args: [BigInt(companyId), BigInt(amount)],\r\n      });\r\n    },\r\n    [contractAddress, writeContract]\r\n  );\r\n\r\n  return {\r\n    // Contract data\r\n    contractAddress,\r\n    nextCompanyId: nextCompanyId ? Number(nextCompanyId) : 0,\r\n    \r\n    // Read functions\r\n    getCompany,\r\n    getSharePrice,\r\n    getShareBalance,\r\n    \r\n    // Write functions\r\n    registerCompany,\r\n    buyShares,\r\n    sellShares,\r\n    \r\n    // Transaction state\r\n    hash,\r\n    isPending,\r\n    isConfirming,\r\n    isConfirmed,\r\n    error,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 848, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/AnimatedCounter.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { motion, useSpring, useTransform } from 'framer-motion';\r\n\r\ninterface AnimatedCounterProps {\r\n  value: number;\r\n  format?: 'currency' | 'percentage' | 'decimal' | 'integer';\r\n  decimals?: number;\r\n  prefix?: string;\r\n  suffix?: string;\r\n  duration?: number;\r\n  className?: string;\r\n  colorChange?: boolean;\r\n  previousValue?: number;\r\n}\r\n\r\nexport function AnimatedCounter({\r\n  value,\r\n  format = 'decimal',\r\n  decimals = 2,\r\n  prefix = '',\r\n  suffix = '',\r\n  duration = 0.5,\r\n  className = '',\r\n  colorChange = false,\r\n  previousValue,\r\n}: AnimatedCounterProps) {\r\n  const [displayValue, setDisplayValue] = useState(value);\r\n  const [isChanging, setIsChanging] = useState(false);\r\n\r\n  const springValue = useSpring(value, {\r\n    stiffness: 100,\r\n    damping: 15,\r\n  });\r\n\r\n  const displayNumber = useTransform(springValue, (latest) => {\r\n    let formatted: string;\r\n    \r\n    switch (format) {\r\n      case 'currency':\r\n        formatted = new Intl.NumberFormat('en-US', {\r\n          style: 'currency',\r\n          currency: 'USD',\r\n          minimumFractionDigits: decimals,\r\n          maximumFractionDigits: decimals,\r\n        }).format(latest);\r\n        break;\r\n      case 'percentage':\r\n        formatted = `${latest.toFixed(decimals)}%`;\r\n        break;\r\n      case 'integer':\r\n        formatted = Math.round(latest).toLocaleString();\r\n        break;\r\n      case 'decimal':\r\n      default:\r\n        formatted = latest.toFixed(decimals);\r\n        break;\r\n    }\r\n\r\n    return `${prefix}${formatted}${suffix}`;\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (value !== displayValue) {\r\n      setIsChanging(true);\r\n      springValue.set(value);\r\n      setDisplayValue(value);\r\n      \r\n      const timer = setTimeout(() => {\r\n        setIsChanging(false);\r\n      }, duration * 1000);\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [value, displayValue, springValue, duration]);\r\n\r\n  const getChangeColor = () => {\r\n    if (!colorChange || previousValue === undefined) return '';\r\n    \r\n    if (value > previousValue) return 'text-success';\r\n    if (value < previousValue) return 'text-danger';\r\n    return '';\r\n  };\r\n\r\n  return (\r\n    <motion.span\r\n      className={`number-counter ${getChangeColor()} ${className}`}\r\n      animate={isChanging ? {\r\n        scale: [1, 1.05, 1],\r\n      } : {}}\r\n      transition={{\r\n        type: 'spring',\r\n        stiffness: 200,\r\n        damping: 10,\r\n      }}\r\n      aria-live=\"polite\"\r\n    >\r\n      {displayNumber}\r\n    </motion.span>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;;;AAHA;;;AAiBO,SAAS,gBAAgB,EAC9B,KAAK,EACL,SAAS,SAAS,EAClB,WAAW,CAAC,EACZ,SAAS,EAAE,EACX,SAAS,EAAE,EACX,WAAW,GAAG,EACd,YAAY,EAAE,EACd,cAAc,KAAK,EACnB,aAAa,EACQ;;IACrB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,cAAc,CAAA,GAAA,4KAAA,CAAA,YAAS,AAAD,EAAE,OAAO;QACnC,WAAW;QACX,SAAS;IACX;IAEA,MAAM,gBAAgB,CAAA,GAAA,+KAAA,CAAA,eAAY,AAAD,EAAE;uDAAa,CAAC;YAC/C,IAAI;YAEJ,OAAQ;gBACN,KAAK;oBACH,YAAY,IAAI,KAAK,YAAY,CAAC,SAAS;wBACzC,OAAO;wBACP,UAAU;wBACV,uBAAuB;wBACvB,uBAAuB;oBACzB,GAAG,MAAM,CAAC;oBACV;gBACF,KAAK;oBACH,YAAY,GAAG,OAAO,OAAO,CAAC,UAAU,CAAC,CAAC;oBAC1C;gBACF,KAAK;oBACH,YAAY,KAAK,KAAK,CAAC,QAAQ,cAAc;oBAC7C;gBACF,KAAK;gBACL;oBACE,YAAY,OAAO,OAAO,CAAC;oBAC3B;YACJ;YAEA,OAAO,GAAG,SAAS,YAAY,QAAQ;QACzC;;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,IAAI,UAAU,cAAc;gBAC1B,cAAc;gBACd,YAAY,GAAG,CAAC;gBAChB,gBAAgB;gBAEhB,MAAM,QAAQ;uDAAW;wBACvB,cAAc;oBAChB;sDAAG,WAAW;gBAEd;iDAAO,IAAM,aAAa;;YAC5B;QACF;oCAAG;QAAC;QAAO;QAAc;QAAa;KAAS;IAE/C,MAAM,iBAAiB;QACrB,IAAI,CAAC,eAAe,kBAAkB,WAAW,OAAO;QAExD,IAAI,QAAQ,eAAe,OAAO;QAClC,IAAI,QAAQ,eAAe,OAAO;QAClC,OAAO;IACT;IAEA,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,IAAI;QACV,WAAW,CAAC,eAAe,EAAE,iBAAiB,CAAC,EAAE,WAAW;QAC5D,SAAS,aAAa;YACpB,OAAO;gBAAC;gBAAG;gBAAM;aAAE;QACrB,IAAI,CAAC;QACL,YAAY;YACV,MAAM;YACN,WAAW;YACX,SAAS;QACX;QACA,aAAU;kBAET;;;;;;AAGP;GApFgB;;QAcM,4KAAA,CAAA,YAAS;QAKP,+KAAA,CAAA,eAAY;;;KAnBpB","debugId":null}},
    {"offset": {"line": 963, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/TradeView.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { z } from 'zod';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useDeStock } from '@/lib/hooks/useDeStock';\r\nimport { useDSTK } from '@/lib/hooks/useDSTK';\r\nimport { useAccount } from 'wagmi';\r\nimport { ShoppingCartIcon, DollarSignIcon, TrendingUpIcon, TrendingDownIcon, AlertCircleIcon } from 'lucide-react';\r\nimport { AnimatedCounter } from './AnimatedCounter';\r\nimport { LoadingSpinner } from './LoadingSpinner';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst schema = z.object({\r\n  companyId: z.string().min(1, 'Please select a company'),\r\n  amount: z.string().min(1, 'Amount is required'),\r\n});\r\n\r\ntype FormData = z.infer<typeof schema>;\r\n\r\ninterface Company {\r\n  id: number;\r\n  name: string;\r\n  price: string;\r\n}\r\n\r\nexport function TradeView() {\r\n  const { isConnected } = useAccount();\r\n  const { buyShares, sellShares, getSharePrice, getShareBalance, nextCompanyId, isPending, isConfirming, isConfirmed, error } = useDeStock();\r\n  const { balance } = useDSTK();\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [selectedCompany, setSelectedCompany] = useState<Company | null>(null);\r\n  const [tradeType, setTradeType] = useState<'buy' | 'sell'>('buy');\r\n  const [userShares, setUserShares] = useState<string>('0');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    watch,\r\n    setValue,\r\n    reset,\r\n  } = useForm<FormData>({\r\n    resolver: zodResolver(schema),\r\n  });\r\n\r\n  const watchedCompanyId = watch('companyId');\r\n  const watchedAmount = watch('amount');\r\n\r\n  useEffect(() => {\r\n    if (isConnected && nextCompanyId > 0) {\r\n      loadCompanies();\r\n    }\r\n  }, [isConnected, nextCompanyId]);\r\n\r\n  useEffect(() => {\r\n    if (watchedCompanyId) {\r\n      const company = companies.find(c => c.id.toString() === watchedCompanyId);\r\n      if (company) {\r\n        setSelectedCompany(company);\r\n        loadUserShares(company.id);\r\n      }\r\n    }\r\n  }, [watchedCompanyId, companies]);\r\n\r\n  const loadCompanies = async () => {\r\n    try {\r\n      // Placeholder implementation - would need real contract calls\r\n      const companiesData: Company[] = [];\r\n      for (let i = 0; i < nextCompanyId; i++) {\r\n        companiesData.push({\r\n          id: i,\r\n          name: `Company ${i + 1}`,\r\n          price: '12.5',\r\n        });\r\n      }\r\n      setCompanies(companiesData);\r\n    } catch (error) {\r\n      console.error('Failed to load companies:', error);\r\n    }\r\n  };\r\n\r\n  const loadUserShares = async (companyId: number) => {\r\n    try {\r\n      // Placeholder implementation - would need real contract calls\r\n      setUserShares('100');\r\n    } catch (error) {\r\n      console.error('Failed to load user shares:', error);\r\n      setUserShares('0');\r\n    }\r\n  };\r\n\r\n  const calculateCost = () => {\r\n    if (!selectedCompany || !watchedAmount) return '0';\r\n    return (parseFloat(selectedCompany.price) * parseFloat(watchedAmount)).toFixed(2);\r\n  };\r\n\r\n  const onSubmit = async (data: FormData) => {\r\n    if (!selectedCompany) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      if (tradeType === 'buy') {\r\n        await buyShares(selectedCompany.id, data.amount);\r\n      } else {\r\n        await sellShares(selectedCompany.id, data.amount);\r\n      }\r\n      reset();\r\n    } catch (error) {\r\n      console.error('Trade failed:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const canTrade = () => {\r\n    if (!selectedCompany || !watchedAmount) return false;\r\n    \r\n    const amount = parseFloat(watchedAmount);\r\n    if (amount <= 0) return false;\r\n\r\n    if (tradeType === 'buy') {\r\n      const cost = parseFloat(calculateCost());\r\n      return parseFloat(balance) >= cost;\r\n    } else {\r\n      return parseFloat(userShares) >= amount;\r\n    }\r\n  };\r\n\r\n  if (!isConnected) {\r\n    return (\r\n      <div className=\"trading-card text-center\">\r\n        <ShoppingCartIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n          Connect Your Wallet\r\n        </h3>\r\n        <p className=\"text-gray-600\">\r\n          Connect your wallet to start trading shares.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div \r\n      className=\"glass-card p-6 widget-enter\"\r\n      initial={{ opacity: 0, scale: 0.95 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      transition={{ duration: 0.3 }}\r\n    >\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <motion.h3 \r\n          className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\"\r\n          initial={{ opacity: 0, x: -20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ delay: 0.1 }}\r\n        >\r\n          Trade Shares\r\n        </motion.h3>\r\n        \r\n        {/* Buy/Sell Toggle */}\r\n        <motion.div \r\n          className=\"flex glass-button rounded-lg p-1\"\r\n          initial={{ opacity: 0, x: 20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ delay: 0.1 }}\r\n        >\r\n          <motion.button\r\n            onClick={() => setTradeType('buy')}\r\n            className={`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${\r\n              tradeType === 'buy'\r\n                ? 'bg-success text-white shadow-sm'\r\n                : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n            }`}\r\n            whileTap={{ scale: 0.95 }}\r\n          >\r\n            <div className=\"flex items-center space-x-1\">\r\n              <TrendingUpIcon className=\"w-4 h-4\" />\r\n              <span>Buy</span>\r\n            </div>\r\n          </motion.button>\r\n          <motion.button\r\n            onClick={() => setTradeType('sell')}\r\n            className={`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${\r\n              tradeType === 'sell'\r\n                ? 'bg-danger text-white shadow-sm'\r\n                : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n            }`}\r\n            whileTap={{ scale: 0.95 }}\r\n          >\r\n            <div className=\"flex items-center space-x-1\">\r\n              <TrendingDownIcon className=\"w-4 h-4\" />\r\n              <span>Sell</span>\r\n            </div>\r\n          </motion.button>\r\n        </motion.div>\r\n      </div>\r\n\r\n      <motion.form \r\n        onSubmit={handleSubmit(onSubmit)} \r\n        className=\"space-y-6\"\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 0.2 }}\r\n      >\r\n        {/* Company Selection */}\r\n        <motion.div\r\n          initial={{ opacity: 0, x: -20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ delay: 0.3 }}\r\n        >\r\n          <label className=\"destock-label\" htmlFor=\"companyId\">\r\n            Select Company\r\n          </label>\r\n          <select\r\n            {...register('companyId')}\r\n            id=\"companyId\"\r\n            className=\"destock-input\"\r\n          >\r\n            <option value=\"\">Choose a company</option>\r\n            {companies.map((company) => (\r\n              <option key={company.id} value={company.id.toString()}>\r\n                {company.name} - {company.price} DSTK\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <AnimatePresence>\r\n            {errors.companyId && (\r\n              <motion.p \r\n                className=\"mt-1 text-sm text-danger flex items-center space-x-1\"\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -10 }}\r\n              >\r\n                <AlertCircleIcon className=\"w-4 h-4\" />\r\n                <span>{errors.companyId.message}</span>\r\n              </motion.p>\r\n            )}\r\n          </AnimatePresence>\r\n        </motion.div>\r\n\r\n        {/* Company Info Card */}\r\n        <AnimatePresence>\r\n          {selectedCompany && (\r\n            <motion.div \r\n              className=\"glass-card p-4\"\r\n              initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.95, y: -20 }}\r\n              transition={{ type: 'spring', stiffness: 300, damping: 25 }}\r\n            >\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <span className=\"text-sm font-semibold text-gray-900 dark:text-gray-100\">\r\n                  {selectedCompany.name}\r\n                </span>\r\n                <motion.span \r\n                  className=\"text-lg font-bold text-destock-primary\"\r\n                  key={selectedCompany.price} // Trigger animation on price change\r\n                  initial={{ scale: 1.2, color: '#10B981' }}\r\n                  animate={{ scale: 1, color: '#3B82F6' }}\r\n                  transition={{ duration: 0.3 }}\r\n                >\r\n                  <AnimatedCounter \r\n                    value={parseFloat(selectedCompany.price)} \r\n                    suffix=\" DSTK\"\r\n                    decimals={2}\r\n                  />\r\n                </motion.span>\r\n              </div>\r\n              <div className=\"text-sm text-gray-600 dark:text-gray-400 flex items-center justify-between\">\r\n                <span>Your Holdings:</span>\r\n                <AnimatedCounter \r\n                  value={parseFloat(userShares)} \r\n                  suffix=\" shares\"\r\n                  decimals={0}\r\n                  className=\"font-medium\"\r\n                />\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Amount Input */}\r\n        <motion.div\r\n          initial={{ opacity: 0, x: -20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ delay: 0.4 }}\r\n        >\r\n          <label className=\"destock-label\" htmlFor=\"amount\">\r\n            Amount\r\n          </label>\r\n          <input\r\n            {...register('amount')}\r\n            type=\"number\"\r\n            step=\"1\"\r\n            min=\"1\"\r\n            id=\"amount\"\r\n            className=\"destock-input\"\r\n            placeholder=\"Number of shares\"\r\n          />\r\n          <AnimatePresence>\r\n            {errors.amount && (\r\n              <motion.p \r\n                className=\"mt-1 text-sm text-danger flex items-center space-x-1\"\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -10 }}\r\n              >\r\n                <AlertCircleIcon className=\"w-4 h-4\" />\r\n                <span>{errors.amount.message}</span>\r\n              </motion.p>\r\n            )}\r\n          </AnimatePresence>\r\n        </motion.div>\r\n\r\n        {/* Transaction Summary */}\r\n        <AnimatePresence>\r\n          {selectedCompany && watchedAmount && (\r\n            <motion.div \r\n              className=\"glass-card p-4\"\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.95 }}\r\n              transition={{ type: 'spring', stiffness: 300, damping: 25 }}\r\n            >\r\n              <h4 className=\"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center space-x-2\">\r\n                <DollarSignIcon className=\"w-4 h-4\" />\r\n                <span>Transaction Summary</span>\r\n              </h4>\r\n              <div className=\"space-y-2 text-sm text-gray-600 dark:text-gray-400\">\r\n                <div className=\"flex justify-between\">\r\n                  <span>Shares:</span>\r\n                  <span className=\"font-medium\">{watchedAmount}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span>Price per share:</span>\r\n                  <span className=\"font-medium\">{selectedCompany.price} DSTK</span>\r\n                </div>\r\n                <div className=\"flex justify-between font-semibold border-t border-white/10 dark:border-black/10 pt-2 text-gray-900 dark:text-gray-100\">\r\n                  <span>Total {tradeType === 'buy' ? 'Cost' : 'Proceeds'}:</span>\r\n                  <AnimatedCounter \r\n                    value={parseFloat(calculateCost())} \r\n                    suffix=\" DSTK\"\r\n                    decimals={2}\r\n                    className={tradeType === 'buy' ? 'text-danger' : 'text-success'}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {tradeType === 'buy' && (\r\n                <div className=\"mt-3 text-xs text-gray-500 dark:text-gray-400 flex items-center justify-between\">\r\n                  <span>Your DSTK Balance:</span>\r\n                  <AnimatedCounter \r\n                    value={parseFloat(balance || '0')} \r\n                    suffix=\" DSTK\"\r\n                    decimals={2}\r\n                    className=\"font-medium\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Error Display */}\r\n        <AnimatePresence>\r\n          {error && (\r\n            <motion.div \r\n              className=\"glass-card p-4 border border-danger/30 bg-danger/10\"\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.95 }}\r\n            >\r\n              <p className=\"text-sm text-danger flex items-center space-x-2\">\r\n                <AlertCircleIcon className=\"w-4 h-4\" />\r\n                <span>Transaction failed: {error.message}</span>\r\n              </p>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Submit Button */}\r\n        <motion.button\r\n          type=\"submit\"\r\n          disabled={!canTrade() || isPending || isConfirming || loading}\r\n          className={`w-full flex items-center justify-center space-x-2 py-3 px-4 rounded-md font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${\r\n            tradeType === 'buy'\r\n              ? 'bg-success hover:bg-success/80 text-white shadow-lg'\r\n              : 'bg-danger hover:bg-danger/80 text-white shadow-lg'\r\n          }`}\r\n          whileHover={{ scale: 1.02 }}\r\n          whileTap={{ scale: 0.98 }}\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.5 }}\r\n        >\r\n          {(isPending || isConfirming || loading) ? (\r\n            <LoadingSpinner size=\"small\" />\r\n          ) : tradeType === 'buy' ? (\r\n            <TrendingUpIcon className=\"w-5 h-5\" />\r\n          ) : (\r\n            <TrendingDownIcon className=\"w-5 h-5\" />\r\n          )}\r\n          <span>\r\n            {isPending || isConfirming || loading\r\n              ? 'Processing...'\r\n              : !canTrade()\r\n              ? tradeType === 'buy' \r\n                ? 'Insufficient Balance' \r\n                : 'Insufficient Shares'\r\n              : `${tradeType === 'buy' ? 'Buy' : 'Sell'} Shares`}\r\n          </span>\r\n        </motion.button>\r\n\r\n        {/* Success Display */}\r\n        <AnimatePresence>\r\n          {isConfirmed && (\r\n            <motion.div \r\n              className=\"glass-card p-4 border border-success/30 bg-success/10\"\r\n              initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.95, y: -20 }}\r\n              transition={{ type: 'spring', stiffness: 300, damping: 25 }}\r\n            >\r\n              <p className=\"text-sm text-success flex items-center space-x-2\">\r\n                <TrendingUpIcon className=\"w-4 h-4\" />\r\n                <span>Transaction completed successfully! 🎉</span>\r\n              </p>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.form>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1930, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/CompanyList.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useDeStock } from '@/lib/hooks/useDeStock';\r\nimport { useAccount } from 'wagmi';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { TrendingUpIcon, TrendingDownIcon, BuildingIcon, SearchIcon, SortAscIcon, FilterIcon } from 'lucide-react';\r\nimport { AnimatedCounter } from './AnimatedCounter';\r\nimport { LoadingSpinner } from './LoadingSpinner';\r\nimport { SkeletonLoader } from './SkeletonLoader';\r\n\r\ninterface Company {\r\n  id: number;\r\n  name: string;\r\n  symbol?: string;\r\n  owner: string;\r\n  initialPrice: string;\r\n  totalSupply: string;\r\n  currentPrice?: string;\r\n  change?: number;\r\n  changePercent?: number;\r\n  volume?: number;\r\n  marketCap?: number;\r\n  sector?: string;\r\n}\r\n\r\ntype SortField = 'name' | 'currentPrice' | 'change' | 'volume' | 'marketCap';\r\ntype SortDirection = 'asc' | 'desc';\r\n\r\nexport function CompanyList() {\r\n  const { isConnected } = useAccount();\r\n  const { nextCompanyId, getCompany, getSharePrice } = useDeStock();\r\n  const router = useRouter();\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [sortField, setSortField] = useState<SortField>('marketCap');\r\n  const [sortDirection, setSortDirection] = useState<SortDirection>('desc');\r\n  const [selectedSector, setSelectedSector] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    loadCompanies();\r\n  }, []);\r\n\r\n  const loadCompanies = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch('/api/market?type=companies');\r\n      const result = await response.json();\r\n      setCompanies(result.companies || []);\r\n    } catch (error) {\r\n      console.error('Failed to load companies:', error);\r\n      // Fallback to previous implementation if API fails\r\n      if (isConnected && nextCompanyId > 0) {\r\n        await loadCompaniesFromContract();\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadCompaniesFromContract = async () => {\r\n    const companyPromises = [];\r\n    for (let i = 0; i < nextCompanyId; i++) {\r\n      companyPromises.push(loadCompanyData(i));\r\n    }\r\n    const loadedCompanies = await Promise.all(companyPromises);\r\n    setCompanies(loadedCompanies.filter(Boolean) as Company[]);\r\n  };\r\n\r\n  const loadCompanyData = async (id: number): Promise<Company | null> => {\r\n    try {\r\n      // Note: This would need to be implemented with actual contract calls\r\n      // const companyData = await getCompany(id);\r\n      // const priceData = await getSharePrice(id);\r\n      \r\n      // Placeholder data for now\r\n      return {\r\n        id,\r\n        name: `Company ${id + 1}`,\r\n        owner: '0x1234567890123456789012345678901234567890',\r\n        initialPrice: '10.0',\r\n        totalSupply: '1000',\r\n        currentPrice: '12.5',\r\n      };\r\n    } catch (error) {\r\n      console.error(`Failed to load company ${id}:`, error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSort = (field: SortField) => {\r\n    if (sortField === field) {\r\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortField(field);\r\n      setSortDirection('desc');\r\n    }\r\n  };\r\n\r\n  const sortedAndFilteredCompanies = companies\r\n    .filter(company => {\r\n      const matchesSearch = company.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                           (company.symbol && company.symbol.toLowerCase().includes(searchTerm.toLowerCase()));\r\n      const matchesSector = !selectedSector || company.sector === selectedSector;\r\n      return matchesSearch && matchesSector;\r\n    })\r\n    .sort((a, b) => {\r\n      let aValue: any, bValue: any;\r\n      \r\n      switch (sortField) {\r\n        case 'name':\r\n          aValue = a.name;\r\n          bValue = b.name;\r\n          break;\r\n        case 'currentPrice':\r\n          aValue = parseFloat(a.currentPrice || '0');\r\n          bValue = parseFloat(b.currentPrice || '0');\r\n          break;\r\n        case 'change':\r\n          aValue = a.change || 0;\r\n          bValue = b.change || 0;\r\n          break;\r\n        case 'volume':\r\n          aValue = a.volume || 0;\r\n          bValue = b.volume || 0;\r\n          break;\r\n        case 'marketCap':\r\n          aValue = a.marketCap || 0;\r\n          bValue = b.marketCap || 0;\r\n          break;\r\n        default:\r\n          return 0;\r\n      }\r\n\r\n      if (typeof aValue === 'string') {\r\n        return sortDirection === 'asc' \r\n          ? aValue.localeCompare(bValue) \r\n          : bValue.localeCompare(aValue);\r\n      }\r\n      \r\n      return sortDirection === 'asc' ? aValue - bValue : bValue - aValue;\r\n    });\r\n\r\n  const uniqueSectors = Array.from(new Set(companies.map(c => c.sector).filter(Boolean)));\r\n\r\n  const formatAddress = (address: string) => {\r\n    return `${address.slice(0, 6)}...${address.slice(-4)}`;\r\n  };\r\n\r\n  const formatNumber = (num: number) => {\r\n    if (num >= 1e9) return `${(num / 1e9).toFixed(1)}B`;\r\n    if (num >= 1e6) return `${(num / 1e6).toFixed(1)}M`;\r\n    if (num >= 1e3) return `${(num / 1e3).toFixed(1)}K`;\r\n    return num.toString();\r\n  };\r\n\r\n  if (!isConnected) {\r\n    return (\r\n      <div className=\"destock-card text-center py-8\">\r\n        <BuildingIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n          Connect Your Wallet\r\n        </h3>\r\n        <p className=\"text-gray-600\">\r\n          Connect your wallet to view listed companies.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        {[...Array(3)].map((_, i) => (\r\n          <div key={i} className=\"destock-card animate-pulse\">\r\n            <div className=\"p-4\">\r\n              <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\r\n              <div className=\"h-3 bg-gray-200 rounded w-1/2 mb-2\"></div>\r\n              <div className=\"h-3 bg-gray-200 rounded w-1/4\"></div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (companies.length === 0) {\r\n    return (\r\n      <div className=\"destock-card text-center py-8\">\r\n        <BuildingIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n          No Companies Listed\r\n        </h3>\r\n        <p className=\"text-gray-600 mb-4\">\r\n          Be the first to register your company on DeStock!\r\n        </p>\r\n        <Link\r\n          href=\"/register\"\r\n          className=\"destock-button-primary inline-flex items-center\"\r\n        >\r\n          Register Company\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div \r\n      className=\"glass-card p-6\"\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.5, delay: 0.1 }}\r\n    >\r\n      <h2 className=\"text-2xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\r\n        Market Overview\r\n      </h2>\r\n      \r\n      {/* Search and Filter Controls */}\r\n      <motion.div \r\n        className=\"mb-6 space-y-4\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ delay: 0.2 }}\r\n      >\r\n        <div className=\"flex flex-col sm:flex-row gap-4\">\r\n          <div className=\"relative flex-1\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search companies or symbols...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"w-full p-3 pl-10 rounded-xl bg-gray-800/50 border border-gray-700/50 \r\n                       text-white placeholder-gray-400 focus:outline-none focus:ring-2 \r\n                       focus:ring-blue-500/50 transition-all duration-200\"\r\n            />\r\n            <svg\r\n              className=\"absolute left-3 top-3 w-5 h-5 text-gray-400\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n            </svg>\r\n          </div>\r\n          \r\n          <select\r\n            value={selectedSector}\r\n            onChange={(e) => setSelectedSector(e.target.value)}\r\n            className=\"p-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white \r\n                     focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-200\"\r\n          >\r\n            <option value=\"\">All Sectors</option>\r\n            {uniqueSectors.map(sector => (\r\n              <option key={sector} value={sector}>{sector}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </motion.div>\r\n\r\n      {/* Company Table */}\r\n      <motion.div \r\n        className=\"overflow-x-auto\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ delay: 0.3 }}\r\n      >\r\n        <table className=\"w-full\">\r\n          <thead>\r\n            <tr className=\"border-b border-gray-700/50\">\r\n              {[\r\n                { key: 'name', label: 'Company' },\r\n                { key: 'currentPrice', label: 'Price' },\r\n                { key: 'change', label: 'Change (24h)' },\r\n                { key: 'volume', label: 'Volume' },\r\n                { key: 'marketCap', label: 'Market Cap' }\r\n              ].map(({ key, label }) => (\r\n                <th\r\n                  key={key}\r\n                  className=\"text-left py-4 px-4 text-gray-300 font-medium cursor-pointer \r\n                           hover:text-white transition-colors duration-200\"\r\n                  onClick={() => handleSort(key as SortField)}\r\n                >\r\n                  <div className=\"flex items-center space-x-1\">\r\n                    <span>{label}</span>\r\n                    {sortField === key && (\r\n                      <svg\r\n                        className={`w-4 h-4 transition-transform duration-200 ${\r\n                          sortDirection === 'desc' ? 'rotate-180' : ''\r\n                        }`}\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\r\n                      </svg>\r\n                    )}\r\n                  </div>\r\n                </th>\r\n              ))}\r\n              <th className=\"text-left py-4 px-4 text-gray-300 font-medium\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {sortedAndFilteredCompanies.map((company: Company, index: number) => {\r\n              const changeColor = (company.change || 0) >= 0 ? 'text-green-400' : 'text-red-400';\r\n              const changePrefix = (company.change || 0) >= 0 ? '+' : '';\r\n              \r\n              return (\r\n                <motion.tr\r\n                  key={company.id}\r\n                  className=\"border-b border-gray-800/30 hover:bg-gray-800/20 transition-colors duration-200\"\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.3, delay: index * 0.05 }}\r\n                  whileHover={{ scale: 1.01 }}\r\n                >\r\n                  <td className=\"py-4 px-4\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <div className=\"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 \r\n                                    flex items-center justify-center text-white font-bold\">\r\n                        {company.symbol ? company.symbol.charAt(0) : company.name.charAt(0)}\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"font-semibold text-white\">{company.name}</div>\r\n                        <div className=\"text-sm text-gray-400\">\r\n                          {company.symbol || formatAddress(company.id.toString())}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"py-4 px-4\">\r\n                    <div className=\"font-semibold text-white\">\r\n                      {company.currentPrice} DSTK\r\n                    </div>\r\n                  </td>\r\n                  <td className={`py-4 px-4 font-semibold ${changeColor}`}>\r\n                    {changePrefix}{company.change?.toFixed(2) || '0.00'}%\r\n                  </td>\r\n                  <td className=\"py-4 px-4 text-gray-300\">\r\n                    {formatNumber(company.volume || 0)}\r\n                  </td>\r\n                  <td className=\"py-4 px-4 text-gray-300\">\r\n                    {formatNumber(company.marketCap || 0)} DSTK\r\n                  </td>\r\n                  <td className=\"py-4 px-4\">\r\n                    <motion.button\r\n                      onClick={() => router.push(`/company/${company.id}`)}\r\n                      className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 \r\n                               hover:from-blue-700 hover:to-purple-700 rounded-lg \r\n                               transition-all duration-200 text-sm font-medium text-white\"\r\n                      whileHover={{ scale: 1.05 }}\r\n                      whileTap={{ scale: 0.95 }}\r\n                    >\r\n                      Trade\r\n                    </motion.button>\r\n                  </td>\r\n                </motion.tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </motion.div>\r\n\r\n      {sortedAndFilteredCompanies.length === 0 && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          className=\"text-center py-12 text-gray-400\"\r\n        >\r\n          <div className=\"text-lg font-medium mb-2\">No companies found</div>\r\n          <div className=\"text-sm\">\r\n            {searchTerm ? `No results for \"${searchTerm}\"` : 'No companies available'}\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2626, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/TradingChart.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { createChart, IChartApi, ISeriesApi, ColorType, UTCTimestamp } from 'lightweight-charts';\r\nimport { motion } from 'framer-motion';\r\nimport { useTheme } from 'next-themes';\r\nimport { TrendingUpIcon, TrendingDownIcon, BarChart3Icon, LineChartIcon } from 'lucide-react';\r\nimport { LoadingSpinner } from './LoadingSpinner';\r\n\r\ninterface ChartDataPoint {\r\n  time: UTCTimestamp;\r\n  open: number;\r\n  high: number;\r\n  low: number;\r\n  close: number;\r\n  volume?: number;\r\n}\r\n\r\ninterface TradingChartProps {\r\n  symbol?: string;\r\n  data?: ChartDataPoint[];\r\n  height?: number;\r\n  showTimeframes?: boolean;\r\n  showIndicators?: boolean;\r\n  className?: string;\r\n}\r\n\r\ntype Timeframe = '1H' | '4H' | '1D' | '1W' | '1M';\r\ntype ChartType = 'candlestick' | 'line' | 'area';\r\n\r\nexport function TradingChart({\r\n  symbol = 'DEMO',\r\n  data = [],\r\n  height = 400,\r\n  showTimeframes = true,\r\n  showIndicators = true,\r\n  className = '',\r\n}: TradingChartProps) {\r\n  const chartContainerRef = useRef<HTMLDivElement>(null);\r\n  const chartRef = useRef<IChartApi | null>(null);\r\n  const candlestickSeriesRef = useRef<ISeriesApi<'Candlestick'> | null>(null);\r\n  const [selectedTimeframe, setSelectedTimeframe] = useState<Timeframe>('1D');\r\n  const [chartType, setChartType] = useState<ChartType>('candlestick');\r\n  const [loading, setLoading] = useState(true);\r\n  const [chartData, setChartData] = useState<ChartDataPoint[]>([]);\r\n  const { theme } = useTheme();\r\n\r\n  const timeframes: Timeframe[] = ['1H', '4H', '1D', '1W', '1M'];\r\n\r\n  // Initialize chart\r\n  useEffect(() => {\r\n    if (!chartContainerRef.current) return;\r\n\r\n    const isDark = theme === 'dark';\r\n    \r\n    const chart = createChart(chartContainerRef.current, {\r\n      width: chartContainerRef.current.clientWidth,\r\n      height,\r\n      layout: {\r\n        background: { type: ColorType.Solid, color: 'transparent' },\r\n        textColor: isDark ? '#E5E7EB' : '#374151',\r\n      },\r\n      grid: {\r\n        vertLines: {\r\n          color: isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\r\n        },\r\n        horzLines: {\r\n          color: isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\r\n        },\r\n      },\r\n      crosshair: {\r\n        mode: 1, // Normal crosshair\r\n      },\r\n      timeScale: {\r\n        borderColor: isDark ? '#374151' : '#D1D5DB',\r\n        timeVisible: true,\r\n        secondsVisible: false,\r\n      },\r\n      rightPriceScale: {\r\n        borderColor: isDark ? '#374151' : '#D1D5DB',\r\n      },\r\n    });\r\n\r\n    const candlestickSeries = chart.addCandlestickSeries({\r\n      upColor: '#00D4AA',\r\n      downColor: '#F6465D',\r\n      borderDownColor: '#F6465D',\r\n      borderUpColor: '#00D4AA',\r\n      wickDownColor: '#F6465D',\r\n      wickUpColor: '#00D4AA',\r\n    });\r\n\r\n    chartRef.current = chart;\r\n    candlestickSeriesRef.current = candlestickSeries;\r\n\r\n    // Handle resize\r\n    const handleResize = () => {\r\n      if (chartContainerRef.current && chartRef.current) {\r\n        chartRef.current.applyOptions({\r\n          width: chartContainerRef.current.clientWidth,\r\n        });\r\n      }\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n      if (chartRef.current) {\r\n        chartRef.current.remove();\r\n        chartRef.current = null;\r\n        candlestickSeriesRef.current = null;\r\n      }\r\n    };\r\n  }, [height, theme]);\r\n\r\n  // Update chart theme\r\n  useEffect(() => {\r\n    if (!chartRef.current) return;\r\n\r\n    const isDark = theme === 'dark';\r\n    \r\n    chartRef.current.applyOptions({\r\n      layout: {\r\n        background: { type: ColorType.Solid, color: 'transparent' },\r\n        textColor: isDark ? '#E5E7EB' : '#374151',\r\n      },\r\n      grid: {\r\n        vertLines: {\r\n          color: isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\r\n        },\r\n        horzLines: {\r\n          color: isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\r\n        },\r\n      },\r\n      timeScale: {\r\n        borderColor: isDark ? '#374151' : '#D1D5DB',\r\n      },\r\n      rightPriceScale: {\r\n        borderColor: isDark ? '#374151' : '#D1D5DB',\r\n      },\r\n    });\r\n  }, [theme]);\r\n\r\n  // Load chart data\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        // If data is provided directly, use it\r\n        if (data.length > 0) {\r\n          setChartData(data);\r\n        } else {\r\n          // Fetch data from API\r\n          const response = await fetch(`/api/market?type=chart&symbol=${symbol}&timeframe=${selectedTimeframe}&days=30`);\r\n          const result = await response.json();\r\n          const apiData = result.data.ohlc || [];\r\n          \r\n          // Convert to proper format for Lightweight Charts\r\n          const formattedData = apiData.map((item: any) => ({\r\n            ...item,\r\n            time: item.time as UTCTimestamp,\r\n          }));\r\n          \r\n          setChartData(formattedData);\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to load chart data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, [symbol, selectedTimeframe, data]);\r\n\r\n  // Update chart data\r\n  useEffect(() => {\r\n    if (!candlestickSeriesRef.current || chartData.length === 0) return;\r\n\r\n    candlestickSeriesRef.current.setData(chartData);\r\n    \r\n    // Fit content after data is loaded\r\n    if (chartRef.current) {\r\n      chartRef.current.timeScale().fitContent();\r\n    }\r\n  }, [chartData]);\r\n\r\n  const handleTimeframeChange = (timeframe: Timeframe) => {\r\n    setSelectedTimeframe(timeframe);\r\n  };\r\n\r\n  const currentPrice = chartData.length > 0 ? chartData[chartData.length - 1].close : 0;\r\n  const previousPrice = chartData.length > 1 ? chartData[chartData.length - 2].close : currentPrice;\r\n  const priceChange = currentPrice - previousPrice;\r\n  const priceChangePercent = previousPrice > 0 ? (priceChange / previousPrice) * 100 : 0;\r\n  const isPositive = priceChange >= 0;\r\n\r\n  return (\r\n    <div className={`glass-card ${className}`}>\r\n      {/* Chart Header */}\r\n      <div className=\"p-4 border-b border-white/10 dark:border-black/10\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\r\n              {symbol}\r\n            </h3>\r\n            \r\n            {/* Price Information */}\r\n            <div className=\"flex items-center space-x-2\">\r\n              <span className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\r\n                ${currentPrice.toFixed(2)}\r\n              </span>\r\n              <div className={`flex items-center space-x-1 ${isPositive ? 'text-success' : 'text-danger'}`}>\r\n                {isPositive ? (\r\n                  <TrendingUpIcon className=\"w-4 h-4\" />\r\n                ) : (\r\n                  <TrendingDownIcon className=\"w-4 h-4\" />\r\n                )}\r\n                <span className=\"font-medium\">\r\n                  {isPositive ? '+' : ''}{priceChange.toFixed(2)} ({priceChangePercent.toFixed(2)}%)\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Chart Type Toggle */}\r\n          <div className=\"flex items-center space-x-2\">\r\n            <motion.button\r\n              onClick={() => setChartType('candlestick')}\r\n              className={`p-2 rounded-md transition-colors duration-200 ${\r\n                chartType === 'candlestick'\r\n                  ? 'bg-destock-primary text-white'\r\n                  : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'\r\n              }`}\r\n              whileTap={{ scale: 0.95 }}\r\n            >\r\n              <BarChart3Icon className=\"w-4 h-4\" />\r\n            </motion.button>\r\n            <motion.button\r\n              onClick={() => setChartType('line')}\r\n              className={`p-2 rounded-md transition-colors duration-200 ${\r\n                chartType === 'line'\r\n                  ? 'bg-destock-primary text-white'\r\n                  : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'\r\n              }`}\r\n              whileTap={{ scale: 0.95 }}\r\n            >\r\n              <LineChartIcon className=\"w-4 h-4\" />\r\n            </motion.button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Timeframe Selector */}\r\n        {showTimeframes && (\r\n          <div className=\"flex space-x-1\">\r\n            {timeframes.map((timeframe) => (\r\n              <motion.button\r\n                key={timeframe}\r\n                onClick={() => handleTimeframeChange(timeframe)}\r\n                className={`px-3 py-1 text-sm font-medium rounded-md transition-all duration-200 ${\r\n                  selectedTimeframe === timeframe\r\n                    ? 'bg-destock-primary text-white shadow-sm'\r\n                    : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700'\r\n                }`}\r\n                whileTap={{ scale: 0.95 }}\r\n              >\r\n                {timeframe}\r\n              </motion.button>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Chart Container */}\r\n      <div className=\"relative\">\r\n        {loading && (\r\n          <div className=\"absolute inset-0 flex items-center justify-center z-10\">\r\n            <LoadingSpinner />\r\n          </div>\r\n        )}\r\n        \r\n        <motion.div\r\n          ref={chartContainerRef}\r\n          className={`${loading ? 'opacity-30' : 'opacity-100'} transition-opacity duration-200`}\r\n          initial={{ opacity: 0, scale: 0.95 }}\r\n          animate={{ opacity: loading ? 0.3 : 1, scale: 1 }}\r\n          transition={{ duration: 0.3 }}\r\n          style={{ height: `${height}px` }}\r\n        />\r\n      </div>\r\n\r\n      {/* Chart Footer with Stats */}\r\n      <div className=\"p-4 border-t border-white/10 dark:border-black/10\">\r\n        <div className=\"grid grid-cols-4 gap-4 text-sm\">\r\n          <div>\r\n            <span className=\"text-gray-500 dark:text-gray-400 block\">Open</span>\r\n            <span className=\"font-medium text-gray-900 dark:text-gray-100\">\r\n              ${chartData.length > 0 ? chartData[chartData.length - 1].open.toFixed(2) : '0.00'}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-500 dark:text-gray-400 block\">High</span>\r\n            <span className=\"font-medium text-success\">\r\n              ${chartData.length > 0 ? chartData[chartData.length - 1].high.toFixed(2) : '0.00'}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-500 dark:text-gray-400 block\">Low</span>\r\n            <span className=\"font-medium text-danger\">\r\n              ${chartData.length > 0 ? chartData[chartData.length - 1].low.toFixed(2) : '0.00'}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-500 dark:text-gray-400 block\">Volume</span>\r\n            <span className=\"font-medium text-gray-900 dark:text-gray-100\">\r\n              {chartData.length > 0 ? (chartData[chartData.length - 1].volume || 0).toLocaleString() : '0'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3173, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/components/PriceTicker.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { TrendingUpIcon, TrendingDownIcon } from 'lucide-react';\r\nimport { AnimatedCounter } from './AnimatedCounter';\r\n\r\ninterface TickerItem {\r\n  symbol: string;\r\n  name: string;\r\n  price: number;\r\n  change: number;\r\n  changePercent: number;\r\n  volume: number;\r\n}\r\n\r\ninterface PriceTickerProps {\r\n  speed?: number;\r\n  direction?: 'left' | 'right';\r\n  className?: string;\r\n  pauseOnHover?: boolean;\r\n}\r\n\r\nexport function PriceTicker({ \r\n  speed = 50, \r\n  direction = 'left', \r\n  className = '',\r\n  pauseOnHover = true \r\n}: PriceTickerProps) {\r\n  const [tickerData, setTickerData] = useState<TickerItem[]>([]);\r\n  const [isPaused, setIsPaused] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchTickerData = async () => {\r\n      try {\r\n        const response = await fetch('/api/market?type=ticker');\r\n        const result = await response.json();\r\n        setTickerData(result.ticker || []);\r\n      } catch (error) {\r\n        console.error('Failed to fetch ticker data:', error);\r\n        // Fallback data\r\n        setTickerData([\r\n          { symbol: 'AAPL', name: 'Apple Inc.', price: 182.52, change: 2.34, changePercent: 1.3, volume: 45234567 },\r\n          { symbol: 'MSFT', name: 'Microsoft', price: 378.91, change: -1.23, changePercent: -0.32, volume: 23456789 },\r\n          { symbol: 'GOOGL', name: 'Alphabet', price: 142.65, change: 3.45, changePercent: 2.5, volume: 34567890 },\r\n        ]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTickerData();\r\n\r\n    // Update ticker data every 30 seconds\r\n    const interval = setInterval(fetchTickerData, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // Real-time price updates simulation\r\n  useEffect(() => {\r\n    if (tickerData.length === 0) return;\r\n\r\n    const interval = setInterval(() => {\r\n      setTickerData(prev => prev.map(item => {\r\n        const changePercent = (Math.random() - 0.5) * 0.5; // ±0.25%\r\n        const newPrice = item.price * (1 + changePercent / 100);\r\n        const priceChange = newPrice - item.price;\r\n        \r\n        return {\r\n          ...item,\r\n          price: Number(newPrice.toFixed(2)),\r\n          change: Number(priceChange.toFixed(2)),\r\n          changePercent: Number(((priceChange / item.price) * 100).toFixed(2)),\r\n        };\r\n      }));\r\n    }, 5000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [tickerData.length]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={`glass-card h-16 flex items-center justify-center ${className}`}>\r\n        <div className=\"flex space-x-4\">\r\n          {Array.from({ length: 5 }).map((_, i) => (\r\n            <div key={i} className=\"flex space-x-2 animate-pulse\">\r\n              <div className=\"w-12 h-4 bg-gray-300 dark:bg-gray-600 rounded\" />\r\n              <div className=\"w-16 h-4 bg-gray-300 dark:bg-gray-600 rounded\" />\r\n              <div className=\"w-12 h-4 bg-gray-300 dark:bg-gray-600 rounded\" />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className={`glass-card overflow-hidden relative ${className}`}\r\n      onMouseEnter={() => pauseOnHover && setIsPaused(true)}\r\n      onMouseLeave={() => pauseOnHover && setIsPaused(false)}\r\n    >\r\n      <div className=\"h-16 flex items-center\">\r\n        <motion.div\r\n          className=\"flex space-x-8 whitespace-nowrap\"\r\n          animate={{\r\n            x: direction === 'left' ? '-50%' : '50%',\r\n          }}\r\n          transition={{\r\n            duration: speed,\r\n            repeat: Infinity,\r\n            ease: 'linear',\r\n          }}\r\n          style={{\r\n            animationPlayState: isPaused ? 'paused' : 'running',\r\n          }}\r\n        >\r\n          {/* Duplicate the data to create seamless loop */}\r\n          {[...tickerData, ...tickerData].map((item, index) => (\r\n            <motion.div\r\n              key={`${item.symbol}-${index}`}\r\n              className=\"flex items-center space-x-3 min-w-fit\"\r\n              whileHover={pauseOnHover ? { scale: 1.05 } : {}}\r\n            >\r\n              <span className=\"font-semibold text-gray-900 dark:text-gray-100\">\r\n                {item.symbol}\r\n              </span>\r\n              \r\n              <AnimatedCounter\r\n                value={item.price}\r\n                format=\"currency\"\r\n                decimals={2}\r\n                className=\"font-medium text-gray-900 dark:text-gray-100\"\r\n              />\r\n              \r\n              <div className={`flex items-center space-x-1 ${\r\n                item.change >= 0 ? 'text-success' : 'text-danger'\r\n              }`}>\r\n                {item.change >= 0 ? (\r\n                  <TrendingUpIcon className=\"w-3 h-3\" />\r\n                ) : (\r\n                  <TrendingDownIcon className=\"w-3 h-3\" />\r\n                )}\r\n                <span className=\"text-sm font-medium\">\r\n                  {item.change >= 0 ? '+' : ''}{item.change.toFixed(2)}\r\n                </span>\r\n                <span className=\"text-sm\">\r\n                  ({item.changePercent >= 0 ? '+' : ''}{item.changePercent.toFixed(2)}%)\r\n                </span>\r\n              </div>\r\n              \r\n              <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                Vol: {(item.volume / 1000000).toFixed(1)}M\r\n              </span>\r\n            </motion.div>\r\n          ))}\r\n        </motion.div>\r\n      </div>\r\n      \r\n      {/* Gradient Overlays */}\r\n      <div className=\"absolute left-0 top-0 w-12 h-full bg-gradient-to-r from-white/80 dark:from-gray-900/80 to-transparent pointer-events-none\" />\r\n      <div className=\"absolute right-0 top-0 w-12 h-full bg-gradient-to-l from-white/80 dark:from-gray-900/80 to-transparent pointer-events-none\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3477, "column": 0}, "map": {"version":3,"sources":["file:///D:/intel/web3ssh/DeStock/apps/web/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { DashboardGrid } from '@/components/DashboardGrid';\r\nimport { TradeView } from '@/components/TradeView';\r\nimport { CompanyList } from '@/components/CompanyList';\r\nimport { TradingChart } from '@/components/TradingChart';\r\nimport { PriceTicker } from '@/components/PriceTicker';\r\nimport { motion } from 'framer-motion';\r\n\r\nexport default function HomePage() {\r\n  const widgets = [\r\n    {\r\n      id: 'trading',\r\n      title: 'Trading Interface',\r\n      component: <TradeView />,\r\n      defaultSize: 40,\r\n      minSize: 30,\r\n    },\r\n    {\r\n      id: 'chart',\r\n      title: 'Price Chart',\r\n      component: <TradingChart symbol=\"DSTK\" height={350} />,\r\n      defaultSize: 60,\r\n      minSize: 40,\r\n    },\r\n  ];\r\n\r\n  const bottomWidgets = [\r\n    {\r\n      id: 'companies',\r\n      title: 'Market Overview',\r\n      component: <CompanyList />,\r\n      defaultSize: 100,\r\n      minSize: 50,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <motion.div \r\n      className=\"space-y-6\"\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.5 }}\r\n    >\r\n      {/* Header Section */}\r\n      <motion.div \r\n        className=\"text-center glass-card p-8\"\r\n        initial={{ opacity: 0, y: -20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 0.1, duration: 0.5 }}\r\n      >\r\n        <h1 className=\"text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4\">\r\n          Welcome to DeStock\r\n        </h1>\r\n        <p className=\"text-xl text-gray-600 dark:text-gray-400 max-w-4xl mx-auto\">\r\n          The professional decentralized trading platform with advanced charting, \r\n          real-time analytics, and seamless Web3 integration. Trade company shares \r\n          using DSTK tokens with institutional-grade tools.\r\n        </p>\r\n      </motion.div>\r\n\r\n      {/* Price Ticker */}\r\n      <motion.div\r\n        initial={{ opacity: 0, x: -50 }}\r\n        animate={{ opacity: 1, x: 0 }}\r\n        transition={{ delay: 0.2, duration: 0.5 }}\r\n      >\r\n        <PriceTicker />\r\n      </motion.div>\r\n\r\n      {/* Main Dashboard Grid */}\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.95 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        transition={{ delay: 0.3, duration: 0.5 }}\r\n      >\r\n        <DashboardGrid widgets={widgets} />\r\n      </motion.div>\r\n\r\n      {/* Bottom Section */}\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 0.4, duration: 0.5 }}\r\n      >\r\n        <DashboardGrid widgets={bottomWidgets} layout=\"tabs\" />\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,UAAU;QACd;YACE,IAAI;YACJ,OAAO;YACP,yBAAW,6LAAC,0IAAA,CAAA,YAAS;;;;;YACrB,aAAa;YACb,SAAS;QACX;QACA;YACE,IAAI;YACJ,OAAO;YACP,yBAAW,6LAAC,6IAAA,CAAA,eAAY;gBAAC,QAAO;gBAAO,QAAQ;;;;;;YAC/C,aAAa;YACb,SAAS;QACX;KACD;IAED,MAAM,gBAAgB;QACpB;YACE,IAAI;YACJ,OAAO;YACP,yBAAW,6LAAC,4IAAA,CAAA,cAAW;;;;;YACvB,aAAa;YACb,SAAS;QACX;KACD;IAED,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QACT,WAAU;QACV,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;QAAI;;0BAG5B,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;;kCAExC,6LAAC;wBAAG,WAAU;kCAA2D;;;;;;kCAGzE,6LAAC;wBAAE,WAAU;kCAA6D;;;;;;;;;;;;0BAQ5E,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAExC,cAAA,6LAAC,4IAAA,CAAA,cAAW;;;;;;;;;;0BAId,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAK;gBACnC,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAE;gBAChC,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAExC,cAAA,6LAAC,8IAAA,CAAA,gBAAa;oBAAC,SAAS;;;;;;;;;;;0BAI1B,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAExC,cAAA,6LAAC,8IAAA,CAAA,gBAAa;oBAAC,SAAS;oBAAe,QAAO;;;;;;;;;;;;;;;;;AAItD;KAhFwB","debugId":null}}]
}